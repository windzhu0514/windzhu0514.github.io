{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u4e3b\u9875","text":""},{"location":"#_1","title":"\u5f00\u53d1\u5de5\u5177","text":"<ul> <li> <p> CyberChef</p> <p>\u7f51\u7edc\u745e\u58eb\u519b\u5200\uff1a\u7528\u4e8e\u52a0\u5bc6\u3001\u7f16\u7801\u3001\u538b\u7f29\u548c\u6570\u636e\u5206\u6790\u7684\u7f51\u7edc\u5e94\u7528\u7a0b\u5e8f</p> <p> \u53bb\u4f7f\u7528</p> </li> <li> <p> regex101</p> <p>\u6b63\u5219\u8868\u8fbe\u5f0f\u521b\u5efa\u548c\u8c03\u8bd5\u5de5\u5177</p> <p> \u53bb\u4f7f\u7528</p> </li> <li> <p> crontab</p> <p>\u5feb\u901f\u7b80\u4fbf\u7684 cron \u8868\u8fbe\u5f0f\u7f16\u8f91\u5668</p> <p> \u53bb\u4f7f\u7528</p> </li> <li> <p> JSON-to-Go</p> <p>\u5c06 JSON \u8f6c\u6362\u4e3a Go \u7c7b\u578b</p> <p> \u53bb\u4f7f\u7528</p> </li> <li> <p> JSON-to-Proto</p> <p>\u5c06 JSON \u8f6c\u6362\u4e3a Protocol Buffers</p> <p> \u53bb\u4f7f\u7528</p> </li> <li> <p> JSON Editor Online</p> <p>JSON \u683c\u5f0f\u5316\u5de5\u5177\uff0c\u7528\u4e8e\u67e5\u770b\u3001\u7f16\u8f91\u548c\u683c\u5f0f\u5316 JSON</p> <p> \u53bb\u4f7f\u7528</p> </li> </ul>"},{"location":"#ai","title":"AI \u5de5\u5177","text":"<ul> <li> <p> AiPPT</p> <p>AI \u9a71\u52a8\u7684PPT\u5728\u7ebf\u751f\u6210\u5de5\u5177\uff0c\u65e0\u9700\u590d\u6742\u64cd\u4f5c\uff0c\u53ea\u9700\u8f93\u5165\u4e3b\u9898 AI \u5373\u53ef\u4e00\u952e\u751f\u6210\u9ad8\u8d28\u91cf PPT</p> <p> \u53bb\u4f7f\u7528</p> </li> <li> <p> AI \u56fe\u7247\u65e0\u635f\u653e\u5927</p> <p>\u4f7f\u7528\u6700\u65b0\u4eba\u5de5\u667a\u80fd\u6df1\u5ea6\u5b66\u4e60\u6280\u672f \u2014 \u6df1\u5ea6\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\uff0c\u5b83\u4f1a\u5c06\u566a\u70b9\u548c\u952f\u9f7f\u7684\u90e8\u5206\u8fdb\u884c\u8865\u5145\uff0c\u5b9e\u73b0\u56fe\u7247\u7684\u65e0\u635f\u653e\u5927</p> <p> \u53bb\u4f7f\u7528</p> </li> </ul>"},{"location":"#_2","title":"\u7d20\u6750\u8d44\u6e90","text":"<ul> <li> <p> \u6280\u672f\u7c7b\u56fe\u6807\u96c6\u5408</p> <p>\u4e13\u6ce8\u4e8e\u63d0\u4f9b\u6280\u672f\u76f8\u5173\u56fe\u6807\uff08SVG \u548c PNG \u683c\u5f0f\uff09\u7684\u8d44\u6e90\u7f51\u7ad9\uff0c\u9002\u7528\u4e8e\u5f00\u53d1\u8005\u3001\u8bbe\u8ba1\u5e08\u548c\u6280\u672f\u7231\u597d\u8005</p> <p> \u53bb\u4f7f\u7528</p> </li> <li> <p> iconfinder</p> <p>\u63d0\u4f9b\u56fe\u6807\u3001\u63d2\u56fe\u30013D\u63d2\u56fe\u3001\u8d34\u7eb8\u7684\u8d44\u6e90\u7f51\u7ad9</p> <p> \u53bb\u4f7f\u7528</p> </li> <li> <p> Shields.io</p> <p>\u975e\u5e38\u6d41\u884c\u7684\u5fbd\u7ae0\uff08\u56fe\u6807\uff09\u751f\u6210\u5de5\u5177\uff0c\u652f\u6301\u6570\u5341\u79cd\u5fbd\u7ae0\u7c7b\u578b\uff0c\u751f\u6210\u7684\u5fbd\u7ae0\u53ef\u4ee5\u76f4\u63a5\u5d4c\u5165\u5230 Markdown \u6216 HTML \u4e2d</p> <p> \u53bb\u4f7f\u7528</p> </li> <li> <p> WeChat Markdown Editor</p> <p>\u4e00\u6b3e\u9ad8\u5ea6\u7b80\u6d01\u7684\u5fae\u4fe1 Markdown \u7f16\u8f91\u5668\uff1a\u652f\u6301 Markdown \u8bed\u6cd5\u3001\u81ea\u5b9a\u4e49\u4e3b\u9898\u6837\u5f0f\u3001\u5185\u5bb9\u7ba1\u7406\u3001\u591a\u56fe\u5e8a\u3001AI \u52a9\u624b\u7b49\u7279\u6027</p> <p> \u53bb\u4f7f\u7528</p> </li> </ul>"},{"location":"#_3","title":"\u7ed8\u56fe\u8bbe\u8ba1","text":"<ul> <li> <p> diagrams\uff08drawio\uff09</p> <p>\u5f00\u6e90\u3001\u514d\u8d39\u3001\u53ef\u79c1\u6709\u90e8\u7f72\u7684\u7ed8\u56fe\u5de5\u5177</p> <p> \u53bb\u4f7f\u7528</p> </li> <li> <p> Excalidraw</p> <p>\u5f00\u6e90\u7684\u624b\u7ed8\u98ce\u683c\u767d\u677f\u753b\u56fe\u5de5\u5177</p> <p> \u53bb\u4f7f\u7528</p> </li> <li> <p> carbon</p> <p>\u521b\u5efa\u548c\u5206\u4eab\u6f02\u4eae\u7684\u6e90\u4ee3\u7801\u56fe\u7247</p> <p> \u53bb\u4f7f\u7528</p> </li> </ul>"},{"location":"#_4","title":"\u5176\u4ed6","text":"<ul> <li> <p> \u865a\u62df\u7535\u8bdd\u53f7\u7801</p> <p>\u53ef\u4ee5\u63a5\u6536\u77ed\u4fe1\u548c\u547c\u53eb\u7684\u865a\u62df\u53f7\u7801\uff0c\u7528\u6765\u6ce8\u518c\u4efb\u4f55\u670d\u52a1\u548c\u5e94\u7528\u7a0b\u5e8f\u7684\u5e10\u6237\u3002</p> <p> \u53bb\u4f7f\u7528</p> </li> </ul>"},{"location":"about/","title":"\u5173\u4e8e\u6211","text":"<p>C/C++\u3001MFC\u3001Go \u8bed\u8a00(golang)\u5f00\u53d1\u8005</p> <p>\u64c5\u957f golang \u540e\u7aef\u548c\u722c\u866b\u5f00\u53d1</p> <p>\u90ae\u7bb1\uff1awindzhu0514@163.com</p>"},{"location":"about/#_1","title":"\u5b9a\u98ce\u6ce2\u00b7\u83ab\u542c\u7a7f\u6797\u6253\u53f6\u58f0","text":"<p>\u82cf\u8f7c\u00b7\u5b8b</p> <p>\u4e09\u6708\u4e03\u65e5\uff0c\u6c99\u6e56\u9053\u4e2d\u9047\u96e8\u3002\u96e8\u5177\u5148\u53bb\uff0c\u540c\u884c\u7686\u72fc\u72c8\uff0c\u4f59\u72ec\u4e0d\u89c9\uff0c\u5df2\u800c\u9042\u6674\uff0c\u6545\u4f5c\u6b64\u8bcd\u3002</p> <p>\u83ab\u542c\u7a7f\u6797\u6253\u53f6\u58f0\uff0c\u4f55\u59a8\u541f\u5578\u4e14\u5f90\u884c\u3002\u7af9\u6756\u8292\u978b\u8f7b\u80dc\u9a6c\uff0c\u8c01\u6015\uff1f\u4e00\u84d1\u70df\u96e8\u4efb\u5e73\u751f\u3002</p> <p>\u6599\u5ced\u6625\u98ce\u5439\u9152\u9192\uff0c\u5fae\u51b7\uff0c\u5c71\u5934\u659c\u7167\u5374\u76f8\u8fce\u3002\u56de\u9996\u5411\u6765\u8427\u745f\u5904\uff0c\u5f52\u53bb\uff0c\u4e5f\u65e0\u98ce\u96e8\u4e5f\u65e0\u6674\u3002</p>"},{"location":"blog/","title":"\u535a\u5ba2","text":""},{"location":"blog/go-doc-generate-and-syntax/","title":"golang\u6e90\u7801\u751f\u6210\u6587\u6863\u53ca\u6ce8\u91ca\u8bed\u6cd5","text":"<p>go version: 1.22.6</p>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#godoc","title":"godoc","text":"<p>\u5df2\u5f03\u7528\uff1a<code>godoc</code> \u65e0\u6cd5\u9009\u62e9\u8981\u663e\u793a\u7684\u5305\u7248\u672c\uff0c\u7531 golang.org/x/pkgsite/cmd/pkgsite \u66ff\u4ee3\u3002</p> <p><code>godoc</code> \u63d0\u53d6 Go \u4ee3\u7801\u91cc\u7684\u6ce8\u91ca\u751f\u6210\u7f51\u9875\u7684\u5f62\u5f0f\u7684 Go \u7a0b\u5e8f\u6587\u6863</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c<code>godoc</code> \u901a\u8fc7 <code>$GOROOT</code> \u548c <code>$GOPATH</code>\uff08\u5982\u679c\u8bbe\u7f6e\u4e86\u4e24\u4e2a\u73af\u5883\u53d8\u91cf\uff09\u67e5\u627e\u5305\u3002 \u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528 <code>-goroot</code> \u6807\u5fd7\u6307\u5b9a\u67e5\u627e\u8def\u5f84\u3002</p> <p><code>-index</code> \u6807\u5fd7\u5f00\u542f\u81ea\u52a8\u5b9a\u65f6\u66f4\u65b0\u7d22\u5f15\uff0c\u7d22\u5f15\u4f1a\u5728\u542f\u52a8\u65f6\u521b\u5efa\u4e00\u6b21\u3002</p> <p>\u7d22\u5f15\u4fe1\u606f\u5305\u542b\u6807\u8bc6\u7b26\u548c\u5168\u6587\u641c\u7d22\u4fe1\u606f\uff08\u53ef\u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u641c\u7d22\uff09\u3002 \u53ef\u4ee5\u4f7f\u7528 <code>-maxresults</code> \u6807\u5fd7\u8bbe\u7f6e\u663e\u793a\u7684\u5168\u6587\u641c\u7d22\u7ed3\u679c\u7684\u6700\u5927\u6570\u91cf\uff1b\u5982\u679c\u8bbe\u7f6e\u4e3a 0\uff0c\u5219\u4e0d\u663e\u793a\u5168\u6587\u7ed3\u679c\uff0c\u5e76\u4e14\u53ea\u521b\u5efa\u6807\u8bc6\u7b26\u7d22\u5f15\uff0c\u4e0d\u521b\u5efa\u5168\u6587\u641c\u7d22\u7d22\u5f15\u3002</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cgodoc \u4f7f\u7528\u7cfb\u7edf\u7684 GOOS/GOARCH\u3002 \u53ef\u4ee5\u901a\u8fc7 URL \u53c2\u6570 <code>GOOS</code> \u548c <code>GOARCH</code> \u8bbe\u7f6e\u76ee\u6807\u7cfb\u7edf\u7f51\u9875\u4e0a\u7684\u8f93\u51fa\u3002</p> <p>\u901a\u8fc7 URL \u53c2\u6570 <code>m</code> \u53ef\u4ee5\u63a7\u5236\u7f51\u9875\u7684\u663e\u793a\u6a21\u5f0f\uff0c\u53c2\u6570\u503c\u662f\u9017\u53f7\u5206\u5272\u7684\u6807\u5fd7\u540d\uff1a</p> <pre><code>all \u663e\u793a\u6240\u6709\u6807\u8bc6\u7b26\u7684\u6587\u6863\uff0c\u800c\u4e0d\u53ea\u662f\u5bfc\u51fa\u7684\u6807\u8bc6\u7b26\nmethods \u663e\u793a\u6240\u6709\u7684\u5d4c\u5165\u65b9\u6cd5\uff0c\u800c\u4e0d\u53ea\u662f\u672a\u5bfc\u51fa\u7684\u533f\u540d\u5b57\u6bb5\u7684\u65b9\u6cd5\nsrc \u663e\u793a\u539f\u59cb\u6e90\u4ee3\u7801\u800c\u4e0d\u662f\u751f\u6210\u7684\u6587\u6863\nflat \u663e\u793a\u5168\u8def\u5f84\u7684\u4e0d\u7f29\u8fdb\u7684\u76ee\u5f55\u5217\u8868\n</code></pre> <p>\u8fd9\u4e9b\u6807\u8bb0\u5728go\u5b98\u65b9\u6587\u6863\u4e0a\u4e0d\u751f\u6548</p> <p><code>m=flat</code> \u672a\u6dfb\u52a0\u548c\u6dfb\u52a0\u540e\u7684\u533a\u522b</p> <p></p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cgodoc \u4f7f\u7528\u64cd\u4f5c\u7cfb\u7edf\u7684\u6587\u4ef6\u7cfb\u7edf\u63d0\u4f9b\u6587\u4ef6\u670d\u52a1\u3002 \u53e6\u5916\u4e5f\u53ef\u4ee5\u901a\u8fc7 <code>-zip</code> \u6807\u5fd7\u63d0\u4f9b <code>.zip</code> \u6587\u4ef6\u63d0\u4f9b\u6587\u4ef6\u670d\u52a1\uff0c\u5176\u4e2d\u5305\u542b\u8981\u4f7f\u7528\u7684\u6587\u4ef6\u7cfb\u7edf\u3002 <code>.zip</code> \u6587\u4ef6\u4e2d\u5b58\u50a8\u7684\u6587\u4ef6\u8def\u5f84\u5fc5\u987b\u4f7f\u7528\u6b63\u659c\u6760\uff08'<code>/</code>'\uff09\u4f5c\u4e3a\u8def\u5f84\u5206\u9694\u7b26\uff1b\u5e76\u4e14\u5b83\u4eec\u5fc5\u987b\u6ca1\u6709\u6839\u8def\u5f84\u3002 <code>$GOROOT</code>\uff08\u6216 <code>-goroot</code>\uff09\u5fc5\u987b\u8bbe\u7f6e\u4e3a\u5305\u542b <code>Go root</code> \u76ee\u5f55\u7684 .zip \u6587\u4ef6\u76ee\u5f55\u8def\u5f84\u3002 \u4f8b\u5982\uff0c\u5bf9\u4e8e\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa\u7684 <code>.zip</code> \u6587\u4ef6\uff1a</p> <pre><code>zip -r go.zip $HOME/go\n</code></pre> <p>\u53ef\u4ee5\u6309\u4ee5\u4e0b\u65b9\u5f0f\u8fd0\u884c godoc\uff1a</p> <pre><code>godoc -http=:6060 -zip=go.zip -goroot=$HOME/go\n</code></pre> <p>godoc \u4f7f\u7528 <code>go/doc</code> \u5305\u628a\u6ce8\u91ca\u8f6c\u6362\u4e3a HTML \u6216\u6587\u672c\uff1b\u8be6\u7ec6\u89c4\u5219\u8bf7\u53c2\u9605 ToHTML godoc \u8fd8\u663e\u793a\u53ef\u7531\u6d4b\u8bd5\u5305\u8fd0\u884c\u7684\u793a\u4f8b\u4ee3\u7801\uff1b\u6709\u5173\u7ea6\u5b9a\u8bf7\u53c2\u9605 hdr-Examples</p>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_1","title":"\u5b89\u88c5\u547d\u4ee4","text":"<pre><code>go install golang.org/x/tools/cmd/godoc@latest\n</code></pre>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_2","title":"\u547d\u4ee4\u53c2\u6570\u8bf4\u660e","text":"<pre><code>$ godoc -h      \nusage: godoc -http=localhost:6060 \n  -goroot string\n        Go root directory (default \"/usr/local/go\") \n        // go\u5b89\u88c5\u76ee\u5f55\n  -http string\n        HTTP service address (default \"localhost:6060\") \n        // HTTP\u670d\u52a1\u5730\u5740 :6060\n  -index\n        enable search index \n        // \u542f\u7528\u5168\u6587\u641c\u7d22\u7d22\u5f15\uff0c\u652f\u6301\u641c\u7d22\n  -index_files string\n        glob pattern specifying index files; if not empty, the index is read from these files in sorted order\n        // glob\u6a21\u5f0f\u6307\u5b9a\u7d22\u5f15\u4fe1\u606f\u4fdd\u5b58\u7684\u4f4d\u7f6e\uff0c\u7d22\u5f15\u5efa\u7acb\u540e\u4f1a\u5199\u5165\u8fd9\u4e9b\u6587\u4ef6\uff1b\u5982\u679c\u4e0d\u4e3a\u7a7a\uff0c\u542f\u52a8\u65f6\u6309\u6587\u4ef6\u540d\u589e\u5e8f\u8bfb\u53d6\u7d22\u5f15\u4fe1\u606f\n  -index_interval duration\n        interval of indexing; 0 for default (5m), negative to only index once at startup\n        // \u7d22\u5f15\u66f4\u65b0\u95f4\u9694\u3002\u4e0d\u8bbe\u7f6e\u9ed8\u8ba4\u4e3a5\u5206\u949f\uff0c\u8d1f\u503c\u8868\u793a\u53ea\u5728\u542f\u52a8\u65f6\u66f4\u65b0\u3002\n  -index_throttle float\n        index throttle value; 0.0 = no time allocated, 1.0 = full throttle (default 0.75)\n        // \u63a7\u5236\u7d22\u5f15\u5efa\u7acb\u7684\u901f\u5ea6\uff1b\u8303\u56f4\u4e3a[0,1]\uff0c\u9ed8\u8ba4\u4e3a0.75\uff1b\u907f\u514d\u5360\u7528\u8fc7\u9ad8\u7684CPU\n  -links\n        link identifiers to their declarations (default true)\n        // \u4e3a\u6807\u8bc6\u7b26\uff08\u53d8\u91cf\u3001\u7ed3\u6784\u4f53\u3001\u57fa\u7840\u6570\u636e\u7c7b\u578b\u3001\u51fd\u6570\u63a5\u6536\u5668\u3001\u51fd\u6570\u53c2\u6570\u548c\u8fd4\u56de\u503c\uff09\u751f\u6210\u8df3\u8f6c\u5230\u58f0\u660e\u7684\u94fe\u63a5\n  -maxresults int\n        maximum number of full text search results shown (default 10000) \n        // \u5c55\u793a\u7684\u5168\u6587\u641c\u7d22\u7ed3\u679c\u6700\u5927\u6570\u91cf\n  -notes string\n        regular expression matching note markers to show (default \"BUG\")\n        // \u5339\u914d\u6ce8\u91ca\u6807\u8bb0\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\uff0cMARKER(uid)\n  -play\n        enable playground \n        // \u542f\u7528playground\uff0c\u5411https://play.golang.org\u670d\u52a1\u53d1\u9001\u4ee3\u7801\n  -templates string\n        load templates/JS/CSS from disk in this directory\n        // \u6307\u5b9atemplates/JS/CSS\u52a0\u8f7d\u7684\u76ee\u5f55\uff0c\u9ed8\u8ba4\u4f7f\u7528\u6253\u5305\u5230\u7a0b\u5e8f\u91cc\u7684\u6587\u4ef6\n  -timestamps\n        show timestamps with directory listings \n        // \u663e\u793a\u76ee\u5f55\u7684\u7d22\u5f15\u66f4\u65b0\u65f6\u95f4\n        // Last update: 2024-08-06 15:57:05.065391466 +0800 CST m=+0.105469304\n  -url string\n        print HTML for named URL\n        // \u5728\u63a7\u5236\u53f0\u6253\u5370\u8be5\u5730\u5740\u8fd4\u56de\u7684\u7f51\u9875\u5185\u5bb9\u7136\u540e\u9000\u51fa\u7a0b\u5e8f\n  -v    verbose mode // \u8f93\u51fa\u8be6\u7ec6\u65e5\u5fd7\n  -write_index\n        write index to a file; the file name must be specified with -index_files\n        // \u628a\u7d22\u5f15\u4fe1\u606f\u5199\u5165\u6587\u4ef6\uff1b\u7531index_files\u6307\u5b9a\u5199\u5165\u7684\u6587\u4ef6\u540d\n  -zip string\n        zip file providing the file system to serve; disabled if empty\n        // \u4f7f\u7528zip\u6587\u4ef6\u6587\u4ef6\u7cfb\u7edf\uff0c\u4e3a\u7a7a\u5219\u4f7f\u7528\u9ed8\u8ba4\u6587\u4ef6\u7cfb\u7edf\n</code></pre>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#pkgsite","title":"pkgsite","text":"<p>pkgsite \u63d0\u53d6 Go \u4ee3\u7801\u91cc\u7684\u6ce8\u91ca\u751f\u6210\u7f51\u9875\u7684\u5f62\u5f0f\u7684 Go \u7a0b\u5e8f\u6587\u6863</p> <p>\u4e0d\u6307\u5b9a\u53c2\u6570\u7684\u60c5\u51b5\uff0c<code>pkgsite</code> \u5c55\u793a\u76f8\u5bf9\u4e8e\u5f53\u524d\u76ee\u5f55\u7684\u4e3b\u6a21\u5757\u7684\u6587\u6863\uff0c\u4e5f\u5c31\u662f <code>go list -m</code> \u547d\u4ee4\u8fd4\u56de\u7684\u6a21\u5757\u3002\u901a\u5e38\u4e5f\u662f\u7236\u7ea7\u76ee\u5f55\u4e2d\u79bb\u5f53\u524d\u76ee\u5f55\u6700\u8fd1\u7684 <code>go.mod</code> \u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u6a21\u5757\u540d\u3002</p> <p>\u4f7f\u7528 <code>go.work</code> \u5b9a\u4e49\u5de5\u4f5c\u7a7a\u95f4\u60c5\u51b5\u4e0b\uff0c<code>pkgsite</code> \u751f\u6210\u5de5\u4f5c\u7a7a\u95f4\u4e0b\u591a\u4e2a\u6a21\u5757\u7684\u6587\u6863\u3002\u4ee5\u4e0b\u4e24\u79cd\u547d\u4ee4\u5f62\u5f0f\u90fd\u53ef\u4ee5\u751f\u6210\u5b9a\u4e49\u5728 <code>repos/cue/go.mod</code> \u6587\u4ef6\u4e2d\u7684\u6a21\u5757\u7684\u6587\u6863\uff1a</p> <pre><code># \u5355\u6a21\u5757\u5f62\u5f0f\ncd repos/cue &amp;&amp; pkgsite\n# \u591a\u6a21\u5757\u5f62\u5f0f\ngo work init repos/cue repos/other &amp;&amp; pkgsite\n</code></pre> <p>\u9ed8\u8ba4\u60c5\u51b5\uff0c<code>pkgsite</code> \u751f\u6210\u6a21\u5757\u7684\u6240\u6709\u4f9d\u8d56\u5305\u7684\u6587\u6863\u3002\u53ef\u901a\u8fc7 <code>-list=false</code> \u53c2\u6570\u7981\u7528\u3002</p> <p><code>pkgsite</code> \u53ef\u4ee5\u76f4\u63a5\u4ece\u672c\u5730\u7684\u6a21\u5757\u7f13\u5b58\u76ee\u5f55\uff08/home/ljc/go/pkg/mod/\uff09\u67e5\u627e\u6a21\u5757\u548c\u751f\u6210\u6587\u6863\uff0c\u9ed8\u8ba4\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u91cc\u914d\u7f6e\u7684GOPROXY\u3002\u7b49\u540c\u4e8e\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>pkgsite -cache -proxy\n</code></pre> <p>\u4f7f\u7528 <code>-cache</code> \u6216 <code>-proxy</code>\uff0c<code>kgsite</code>\u65f6\u4e0d\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u4e2d\u67e5\u627e\u6a21\u5757\u3002\u4f46\u662f\u53ef\u4ee5\u5728\u53c2\u6570\u91cc\u6307\u5b9a\u672c\u5730\u6a21\u5757\u7684\u8def\u5f84\uff1a</p> <pre><code>pkgsite -cache -proxy ~/repos/cue some/other/module\n</code></pre> <p>\u540c\u65f6\u4e5f\u4f1a\u751f\u6210\u6807\u51c6\u5e93\u7684\u6587\u6863\uff0c<code>pkgsite</code> \u4ece https://go.googlesource.com/go \u4e0b\u8f7d go \u6700\u65b0\u7248\u672c\u7684\u6e90\u7801\u5230\u4e34\u65f6\u76ee\u5f55\uff0c\u7136\u540e\u751f\u6210\u6807\u51c6\u5e93\u7684\u6587\u6863\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4f1a\u6709\u70b9\u6162\uff0c\u53ef\u4ee5\u901a\u8fc7<code>gorepo</code> \u53c2\u6570\u6307\u5b9a\u672c\u5730\u5df2\u5b89\u88c5\u7684go\u6807\u51c6\u5e93\u8def\u5f84\u3002</p>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_3","title":"\u5b89\u88c5\u547d\u4ee4","text":"<pre><code>go install golang.org/x/pkgsite/cmd/pkgsite@latest\n</code></pre>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_4","title":"\u547d\u4ee4\u53c2\u6570\u8bf4\u660e","text":"<pre><code>$ pkgsite -h                \nusage: pkgsite [flags] [PATHS ...]\n    where each PATHS is a single path or a comma-separated list\n    # PATHS \u662f\u5355\u4e2a\u8def\u5f84\u6216\u9017\u53f7\u5206\u9694\u7684\u8def\u5f84\u5217\u8868\u3002\u4ee3\u8868\u8981\u751f\u6210\u6587\u6863\u7684\u6a21\u5757\u8def\u5f84\n    (default is current directory if neither -cache nor -proxy is provided)\n    # \u5982\u679c-cache\u548c-proxy\u90fd\u4e0d\u8bbe\u7f6e\uff0c\u9ed8\u8ba4\u662f\u5f53\u524d\u76ee\u5f55\n  -cache\n        fetch from the module cache\n        # \u4ece\u672c\u5730\u6a21\u5757\u7f13\u5b58\u4e2d\u52a0\u8f7d\u6a21\u5757\n  -cachedir go env GOMODCACHE\n        module cache directory (defaults to go env GOMODCACHE)\n        # \u6a21\u5757\u7f13\u5b58\u76ee\u5f55\n  -dev\n        enable developer mode (reload templates on each page load, serve non-minified JS/CSS, etc.)\n        # \u5f00\u53d1\u8005\u6a21\u5f0f\uff0c\u7528\u4e8e\u7f51\u7ad9\u5f00\u53d1\u8c03\u8bd5\u3002\u9875\u9762\u6bcf\u6b21\u52a0\u8f7d\u65f6\u90fd\u91cd\u65b0\u52a0\u8f7d\u6bcd\u7248\u6587\u4ef6\uff0c\u8fd4\u56de\u672a\u538b\u7f29\u7684JS/CSS\u6587\u4ef6\n  -gopath_mode\n        assume that local modules' Paths are relative to GOPATH/src\n        # \u5728GOPATH/src\u76ee\u5f55\u4e0b\u67e5\u627e\u6a21\u5757\n  -gorepo string\n        path to Go repo on local filesystem\n        # \u672c\u5730go\u4ed3\u5e93\u76ee\u5f55\uff0c\u901a\u5e38\u53ef\u4ee5\u7528\u672c\u5730go\u5b89\u88c5\u76ee\u5f55\uff0c$GOROOT\n  -http string\n        HTTP service address to listen for incoming requests on (default \"localhost:8080\")\n        # \u6587\u6863\u670d\u52a1\u7684http\u670d\u52a1\u76d1\u542c\u5730\u5740\n  -list\n        for each path, serve all modules in build list (default true)\n        # \u751f\u6210\u7f16\u8bd1\u5217\u8868\u91cc\u7684\u6240\u6709\u5305\u7684\u6587\u6863\uff08\u7f16\u8bd1\u5217\u8868\uff1ago build\u65f6\u7f16\u8bd1\u7684\u6240\u6709\u5305\u53ca\u6a21\u5757\u548c\u6a21\u5757\u7684\u4f9d\u8d56\u5305\uff09\n  -open\n        open a browser window to the server's address\n        # \u81ea\u52a8\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u6587\u6863\u9875\u9762\n  -proxy\n        fetch from GOPROXY if not found locally\n        # \u4eceGOPROXY\u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u7684go\u5305\u4ee3\u7406\uff08https://goproxy.cn/\u3001https://goproxy.io/\uff09\u62c9\u53d6\u5305\uff0c\u4e0d\u518d\u4ece\u672c\u5730\u67e5\u627e\n  -static string\n        path to folder containing static files served (default \"static\")\n        # \u81ea\u5b9a\u4e49\u9759\u6001\u6587\u4ef6\u8def\u5f84\n</code></pre>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_5","title":"\u542f\u52a8\u547d\u4ee4","text":"<pre><code>cd ~/WorkspaceGo/GS-util/gocore\npkgsite -http :6060\n</code></pre>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_6","title":"\u6ce8\u91ca\u89c4\u5219","text":"","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_7","title":"\u6ce8\u91ca\u8bed\u6cd5","text":"<p>Go \u6587\u6863\u6ce8\u91ca\u4ee5\u7b80\u5355\u7684\u8bed\u6cd5\u7f16\u5199\uff0c\u652f\u6301\u6bb5\u843d\u3001\u6807\u9898\u3001\u94fe\u63a5\u3001\u5217\u8868\u548c\u9884\u683c\u5f0f\u5316\u4ee3\u7801\u5757\u3002\u4e3a\u4e86\u4f7f\u6e90\u6587\u4ef6\u4e2d\u7684\u6ce8\u91ca\u4fdd\u6301\u8f7b\u91cf\u7ea7\u548c\u53ef\u8bfb\u6027\uff0c\u4e0d\u652f\u6301\u5b57\u4f53\u66f4\u6539\u6216\u539f\u59cb HTML \u7b49\u590d\u6742\u529f\u80fd\u3002 \u53ef\u4ee5\u5c06\u8bed\u6cd5\u89c6\u4e3a Markdown \u8bed\u6cd5\u7684\u7b80\u5316\u5b50\u96c6\u3002</p> <p>\u6807\u51c6\u683c\u5f0f\u5316\u7a0b\u5e8f <code>gofmt</code> \u4ee5\u89c4\u8303\u7684\u683c\u5f0f\u91cd\u65b0\u683c\u5f0f\u5316\u6587\u6863\u6ce8\u91ca\u3002 <code>gofmt</code> \u7684\u76ee\u6807\u662f\u63d0\u9ad8\u6e90\u4ee3\u7801\u4e2d\u6ce8\u91ca\u7684\u53ef\u8bfb\u6027\u548c\u63a7\u5236\u6ce8\u91ca\u7684\u4e66\u5199\u65b9\u5f0f\uff0c\u4f1a\u8c03\u6574\u5c55\u793a\u683c\u5f0f\u4ee5\u4f7f\u7279\u5b9a\u6ce8\u91ca\u7684\u8bed\u4e49\u66f4\u6e05\u6670\uff0c\u5982\uff1a\u5c061+2 * 3\u91cd\u65b0\u683c\u5f0f\u5316\u4e3a1 + 2*3 \u3002</p> <p><code>gofmt</code> \u5220\u9664\u6587\u6863\u6ce8\u91ca\u4e2d\u7684\u524d\u90e8\u548c\u5c3e\u90e8\u7a7a\u767d\u884c\u3002\u5982\u679c\u6587\u6863\u6ce8\u91ca\u4e2d\u7684\u6240\u6709\u884c\u90fd\u4ee5\u76f8\u540c\u7684\u7a7a\u683c\u548c\u5236\u8868\u7b26\u5f00\u5934\uff0c\u5219 <code>gofmt</code> \u4f1a\u81ea\u52a8\u5220\u9664\u8be5\u524d\u7f00\u3002</p> <p>\u7c7b\u578b\u3001\u53d8\u91cf\u3001\u5e38\u91cf\u3001\u51fd\u6570\uff0c\u5305\u90fd\u53ef\u4ee5\u901a\u8fc7\u5728\u58f0\u660e\u7684\u524d\u9762\u5199\u6ce8\u91ca\u7684\u65b9\u6cd5\u751f\u6210\u6587\u6863\uff08\u4e2d\u95f4\u4e0d\u8981\u6709\u7a7a\u884c\uff09\u3002</p>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_8","title":"\u6bb5\u843d","text":"<p>\u591a\u4e2a\u76f8\u90bb\u7684\u6ce8\u91ca\u884c\uff0c\u751f\u6210\u6587\u6863\u65f6\u88ab\u89c6\u4e3a\u4e00\u4e2a\u6bb5\u843d\uff08\u5ffd\u7565\u884c\u5c3e\u7684\u6362\u884c\u7b26\uff09\uff0cGofmt \u4fdd\u7559\u6bb5\u843d\u6587\u672c\u4e2d\u7684\u6362\u884c\u7b26\uff0c\u5982\u679c\u60f3\u8981\u751f\u6210\u591a\u4e2a\u6bb5\u843d\uff0c\u4f7f\u7528\u7a7a\u6ce8\u91ca\u884c\u6765\u5206\u5272\u6bb5\u843d\u3002</p> <p>\u5355\u884c\u6ce8\u91ca\u65b9\u5f0f\u7684\u7a7a\u884c\u5206\u5272</p> <pre><code>// Package io provides basic interfaces to I/O primitives.\n// Its primary job is to wrap existing implementations of such primitives,\n// such as those in package os, into shared public interfaces that\n// abstract the functionality, plus some other related primitives.\n//\n// Because these interfaces and primitives wrap lower-level operations with\n// various implementations, unless otherwise informed clients should not\n// assume they are safe for parallel execution.\npackage io\n</code></pre> <p>\u591a\u884c\u6ce8\u91ca\u65b9\u5f0f\u7684\u7a7a\u884c\u5206\u5272</p> <pre><code>/*\nPackage fmt implements formatted I/O with functions analogous\nto C's printf and scanf.  The format 'verbs' are derived from C's but\nare simpler.\n\n# Printing\n\nThe verbs:\n\nGeneral:\n\n    %v  the value in a default format\n        when printing structs, the plus flag (%+v) adds field names\n    %#v a Go-syntax representation of the value\n    %T  a Go-syntax representation of the type of the value\n    %%  a literal percent sign; consumes no value\n\nBoolean:\n\n    %t  the word true or false\n*/\npackage fmt\n</code></pre>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_9","title":"\u6807\u9898","text":"<p>\u6807\u9898\u662f\u4ee5# (U+0023)\u5f00\u5934\uff0c\u7136\u540e\u7a7a\u683c\u52a0\u6807\u9898\u6587\u672c\u7684\u884c\u3002\u8be5\u884c\u5fc5\u987b\u4e0d\u80fd\u7f29\u8fdb\uff0c\u5e76\u7528\u7a7a\u884c\u4e0e\u76f8\u90bb\u6bb5\u843d\u6587\u672c\u5206\u5f00\u3002</p> <p>\u6807\u9898\u8bed\u6cd5\u5728 Go 1.19 \u4e2d\u6dfb\u52a0\u3002\u5728 Go 1.19 \u4e4b\u524d\uff0c\u6807\u9898\u662f\u901a\u8fc7\u6ee1\u8db3\u67d0\u4e9b\u6761\u4ef6\u7684\u5355\u884c\u6bb5\u843d\u9690\u5f0f\u6807\u8bc6\u7684\uff0c\u6700\u660e\u663e\u7684\u662f\u53e5\u5c3e\u6ca1\u6709\u4efb\u4f55\u7ec8\u6b62\u6807\u70b9\u7b26\u53f7\uff08\u9017\u53f7\u53e5\u53f7\u5206\u53f7\uff09\u3002</p>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_10","title":"\u94fe\u63a5","text":"","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_11","title":"\u7f51\u9875\u94fe\u63a5","text":"<p>\u7f51\u9875\u94fe\u63a5\u6ce8\u91ca\u662f\u4e00\u6bb5\u683c\u5f0f\u4e3a <code>[Text]: URL</code>\uff0c\u6ca1\u6709\u7f29\u8fdb\u7684\u6ce8\u91ca\u884c\u7ec4\u6210\uff0c\u591a\u884c\u4e4b\u95f4\u6ca1\u6709\u7a7a\u884c\u3002</p> <p>\u8bc6\u522b\u4e3a URL \u7684\u6ce8\u91ca\u6587\u672c\u5728\u7f51\u9875\u4e2d\u663e\u793a\u4e3a\u94fe\u63a5\u3002</p> <p>\u6bcf\u4e2a\u6ce8\u91ca\u5757\u5185\u7684\u94fe\u63a5\u5b9a\u4e49\u90fd\u662f\u72ec\u7acb\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u6ce8\u91ca\u5757\u3002</p> <p>\u540c\u4e00\u4e2a\u6ce8\u91ca\u5757\u5185\u5176\u4ed6\u7684\u6ce8\u91ca\u6587\u672c\u4e2d\u53ef\u4ee5\u7528 <code>[Text]</code> \u683c\u5f0f\u6765\u4f7f\u7528\u5b9a\u4e49\u7684\u94fe\u63a5\u3002\u5728\u7f51\u9875\u6e90\u7801\u4e2d\u8868\u793a\u4e3a\uff1a<code>&lt;a href=\u201cURL\u201d&gt;Text&lt;/a&gt;</code>\uff1b\u88ab\u4f7f\u7528\u7684\u94fe\u63a5\u6ce8\u91ca\u548c\u672a\u88ab\u4f7f\u7528\u7684\u94fe\u63a5\u6ce8\u91ca\u4f1a\u88ab <code>gofmt</code> \u5206\u5f00\uff0c\u5982 <code>archive/zip</code> \u5305\u7684\u6ce8\u91ca\uff1a</p> <pre><code>/*\nPackage zip provides support for reading and writing ZIP archives.\n\nSee the [ZIP specification] for details.\n\nThis package does not support disk spanning.\n\nA note about ZIP64:\n\nTo be backwards compatible the FileHeader has both 32 and 64 bit Size\nfields. The 64 bit fields will always contain the correct value and\nfor normal archives both fields will be the same. For files requiring\nthe ZIP64 format the 32 bit fields will be 0xffffffff and the 64 bit\nfields must be used instead.\n\n[ZIP specification]: https://www.pkware.com/appnote\n\n[ZIP2 specification]: https://www.pkware.com/appnote\n[ZIP3 specification]: https://www.pkware.com/appnote\n*/\npackage zip\n\nimport (\n    \"io/fs\"\n    \"path\"\n    \"time\"\n)\n</code></pre> <p>\u6587\u6863\u5c55\u793a\u6548\u679c</p> <p></p>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_12","title":"\u6587\u6863\u94fe\u63a5","text":"<p>\u4ec5\u5305\u542b\u65b9\u62ec\u53f7\u7684\u94fe\u63a5\u7528\u6765\u5b9a\u4e49\u6587\u6863\u94fe\u63a5\u3002</p> <p><code>[Name1]</code> \u6216 <code>[Name1.Name2]</code> \u683c\u5f0f\u7528\u4e8e\u5f15\u7528\u5f53\u524d\u6587\u6863\u91cc\u7684\u6807\u8bc6\u7b26</p> <pre><code>// Package path implements utility routines for manipulating slash-separated\n// paths.\n//\n// The path package should only be used for paths separated by forward\n// slashes, such as the paths in URLs. This package does not deal with\n// Windows paths with drive letters or backslashes; to manipulate\n// operating system paths, use the [path/filepath] package.\npackage path\n</code></pre> <p>\u6587\u6863\u9875\u9762\u663e\u793a\u6837\u5f0f</p> <p></p> <p><code>[pkg]</code>\u3001<code>[pkg.Name1]</code> \u6216\u8005 <code>[pkg.Name1.Name2]</code> \u683c\u5f0f\u7528\u4e8e\u5f15\u7528\u5176\u4ed6\u5305\u4e2d\u7684\u6807\u8bc6\u7b26\u3002</p> <p>\u5f53\u5f15\u7528\u5176\u4ed6\u5305\u65f6\uff0c<code>pkg</code> \u53ef\u4ee5\u662f\u5b8c\u6574\u7684\u5305\u5bfc\u5165\u8def\u5f84\uff0c\u4e5f\u53ef\u4ee5\u662f\u91cd\u547d\u540d\u540e\u7684\u5305\u7684\u522b\u540d\u3002</p> <p>\u4f8b\u5982\uff0c\u5982\u679c\u5f53\u524d\u5305\u5bfc\u5165 <code>encoding/json</code>\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528 <code>[json.Decoder]</code> \u6765\u4ee3\u66ff <code>[encoding/json.Decoder]</code> \u6765\u94fe\u63a5\u5230 <code>encoding/json</code> \u7684\u6587\u6863\u3002</p> <p>\u53ea\u6709\u5f53 <code>pkg</code> \u662f\u57df\u540d\u6216\u8005\u662f\u6807\u51c6\u5e93\u91cc\u7684\u5305\u540d\u65f6\uff0c\u624d\u88ab\u8bc6\u522b\u4e3a\u5b8c\u6574\u8def\u5f84\u5bfc\u5165\u3002\u4f8b\u5982\uff0c <code>[os.File]</code> \u548c <code>[example.com/sys.File]</code> \u662f\u6587\u6863\u94fe\u63a5\uff0c\u4f46 <code>[os/sys.File]</code> \u4e0d\u662f\uff0c\u56e0\u4e3a\u6807\u51c6\u5e93\u4e2d\u6ca1\u6709 <code>os/sys</code> \u5305\u3002</p> <p>\u4e3a\u4e86\u548cmap\u3001\u6cdb\u578b\u548c\u6570\u7ec4\u7c7b\u578b\u5b9a\u4e49\u8fdb\u884c\u533a\u5206\uff0c\u6587\u6863\u94fe\u63a5\u7684\u524d\u540e\u5fc5\u987b\u6709\u6807\u70b9\u7b26\u53f7\u3001\u7a7a\u683c\u3001\u5236\u8868\u7b26\u6216\u884c\u5f00\u5934\u548c\u7ed3\u5c3e\u3002\u4f8b\u5982\uff1a<code>map[ast.Expr]TypeAndValue</code> \u4e0d\u4f1a\u88ab\u8bc6\u522b\u4e3a\u6587\u6863\u94fe\u63a5\u3002</p> <p>\u7b26\u53f7\u94fe\u63a5\u7684\u62ec\u53f7\u5185\u6587\u672c\u53ef\u4ee5\u5305\u542b\u53ef\u9009\u7684\u661f\u53f7\uff08<code>*</code>\uff09\u524d\u7f00\uff0c\u7528\u4e8e\u521b\u5efa\u5f15\u7528\u6307\u9488\u7c7b\u578b\u7684\u7b26\u53f7\u94fe\u63a5\uff0c\u4f8b\u5982: <code>[*bytes.Buffer]</code>\u3002</p>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_13","title":"\u5217\u8868","text":"<p>\u5217\u8868\u662f\u4e00\u6bb5\u7f29\u8fdb\u884c\u6216\u7a7a\u884c\uff0c\u4ee5\u7b2c\u4e00\u4e2a\u6709\u65e0\u5e8f\u5217\u8868\u6807\u8bb0\u6216\u6709\u5e8f\u5217\u8868\u6807\u8bb0\u5f00\u5934\u7684\u7f29\u8fdb\u884c\u4e3a\u5f00\u59cb\u3002</p> <p>\u65e0\u5e8f\u5217\u8868\u6807\u8bb0\u662f\u661f\u53f7\u3001\u52a0\u53f7\u3001\u7834\u6298\u53f7\u6216 Unicode \u9879\u76ee\u7b26\u53f7\uff08<code>*\u3001+\u3001-\u3001\u2022\uff1bU+002A\u3001U+002B\u3001U+002D\u3001U+2022</code>\uff09\uff0c\u540e\u8ddf\u7a7a\u683c\u6216\u5236\u8868\u7b26\uff0c\u7136\u540e\u662f\u6587\u672c\u3002\u5728\u65e0\u5e8f\u7b26\u53f7\u5217\u8868\u4e2d\uff0c\u4ee5\u65e0\u5e8f\u5217\u8868\u6807\u8bb0\u5f00\u5934\u7684\u6bcf\u4e00\u884c\u90fd\u4f5c\u4e3a\u4e00\u4e2a\u5217\u8868\u9879\u3002</p> <pre><code>package url\n\n// PublicSuffixList provides the public suffix of a domain. For example:\n//   - the public suffix of \"example.com\" is \"com\",\n//   - the public suffix of \"foo1.foo2.foo3.co.uk\" is \"co.uk\", and\n//   - the public suffix of \"bar.pvt.k12.ma.us\" is \"pvt.k12.ma.us\".\n//\n// Implementations of PublicSuffixList must be safe for concurrent use by\n// multiple goroutines.\n//\n// An implementation that always returns \"\" is valid and may be useful for\n// testing but it is not secure: it means that the HTTP server for foo.com can\n// set a cookie for bar.com.\n//\n// A public suffix list implementation is in the package\n// golang.org/x/net/publicsuffix.\ntype PublicSuffixList interface {\n    ...\n}\n</code></pre> <p>\u6709\u5e8f\u5217\u8868\u6807\u8bb0\u662f\u5341\u8fdb\u5236\u6570\u5b57\u540e\u8ddf\u53e5\u70b9\u6216\u53f3\u62ec\u53f7\uff0c\u7136\u540e\u662f\u7a7a\u683c\u6216\u5236\u8868\u7b26\uff0c\u7136\u540e\u662f\u6587\u672c\u3002</p> <pre><code>package path\n\n// Clean returns the shortest path name equivalent to path\n// by purely lexical processing. It applies the following rules\n// iteratively until no further processing can be done:\n//\n//  1. Replace multiple slashes with a single slash.\n//  2. Eliminate each . path name element (the current directory).\n//  3. Eliminate each inner .. path name element (the parent directory)\n//     along with the non-.. element that precedes it.\n//  4. Eliminate .. elements that begin a rooted path:\n//     that is, replace \"/..\" by \"/\" at the beginning of a path.\n//\n// The returned path ends in a slash only if it is the root \"/\".\n//\n// If the result of this process is an empty string, Clean\n// returns the string \".\".\n//\n// See also Rob Pike, \u201c[Lexical File Names in Plan 9].\u201d\n//\n// [Lexical File Names in Plan 9]: https://9p.io/sys/doc/lexnames.html\nfunc Clean(path string) string {\n    ...\n}\n</code></pre> <p>\u5217\u8868\u9879\u4e2d\u53ea\u80fd\u5305\u542b\u6bb5\u843d\uff0c\u4e0d\u80fd\u5305\u542b\u4ee3\u7801\u5757\u6216\u5d4c\u5957\u5217\u8868\u3002</p> <p><code>gofmt</code> \u683c\u5f0f\u5316\u65e0\u5e8f\u5217\u8868\u65f6\uff0c\u4f7f\u7528\u77ed\u6a2a\u7ebf\uff08<code>-</code>\uff09\u4f5c\u4e3a\u5217\u8868\u7b26\u53f7\u6807\u8bb0\uff0c\u5728\u77ed\u6a2a\u7ebf\u4e4b\u524d\u4f7f\u7528\u4e24\u4e2a\u7a7a\u683c\u7684\u7f29\u8fdb\uff0c\u8fde\u7eed\u7684\u6362\u884c\u4f7f\u7528\u56db\u4e2a\u7a7a\u683c\u7684\u7f29\u8fdb\u3002\u683c\u5f0f\u5316\u6709\u5e8f\u5217\u8868\u65f6\uff0c\u5728\u6570\u5b57\u524d\u52a0\u4e00\u4e2a\u7a7a\u683c\uff0c\u5728\u6570\u5b57\u540e\u4f7f\u7528\u53e5\u70b9\uff08<code>.</code>\uff09\uff0c\u8fde\u7eed\u7684\u6362\u884c\u4f7f\u7528\u56db\u4e2a\u7a7a\u683c\u7684\u7f29\u8fdb\u3002\u4e0d\u5f3a\u5236\u8981\u6c42\u5217\u8868\u524d\u5fc5\u987b\u6709\u7a7a\u884c\uff0c\u5982\u679c\u6709\u7a7a\u884c\u4f1a\u4fdd\u7559\u3002\u5217\u8868\u540e\u9762\u4f1a\u5f3a\u5236\u63d2\u5165\u4e00\u4e2a\u7a7a\u884c\u3002</p>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_14","title":"\u4ee3\u7801\u5757","text":"<p>\u4ee3\u7801\u5757\u662f\u6ce8\u91ca\u4e2d\u4e00\u6bb5\u8fde\u7eed\u7684\u7f29\u8fdb\u884c\u6216\u7a7a\u884c\u3002\u751f\u6210\u6587\u6863\u65f6\u6e32\u67d3\u4e3a\u9884\u683c\u5f0f\u5316\u6587\u672c\uff08\u7f51\u9875\u4e2d\u7684 <code>&lt;pre&gt;</code> \u5757\uff09\u3002\u4f8b\u5982\uff1a</p> <pre><code>package sort\n\n// Search uses binary search...\n//\n// As a more whimsical example, this program guesses your number:\n//\n//  func GuessingGame() {\n//      var s string\n//      fmt.Printf(\"Pick an integer from 0 to 100.\\n\")\n//      answer := sort.Search(100, func(i int) bool {\n//          fmt.Printf(\"Is your number &lt;= %d? \", i)\n//          fmt.Scanf(\"%s\", &amp;s)\n//          return s != \"\" &amp;&amp; s[0] == 'y'\n//      })\n//      fmt.Printf(\"Your number is %d.\\n\", answer)\n//  }\nfunc Search(n int, f func(int) bool) int {\n    ...\n}\n</code></pre> <p>\u9664\u4e86\u4ee3\u7801\u4e4b\u5916\uff0c\u4ee3\u7801\u5757\u8fd8\u53ef\u4ee5\u5305\u542b\u9884\u5148\u683c\u5f0f\u5316\u7684\u6587\u672c</p> <pre><code>package path\n\n// Match reports whether name matches the shell pattern.\n// The pattern syntax is:\n//\n//  pattern:\n//      { term }\n//  term:\n//      '*'         matches any sequence of non-/ characters\n//      '?'         matches any single non-/ character\n//      '[' [ '^' ] { character-range } ']'\n//                  character class (must be non-empty)\n//      c           matches character c (c != '*', '?', '\\\\', '[')\n//      '\\\\' c      matches character c\n//\n//  character-range:\n//      c           matches character c (c != '\\\\', '-', ']')\n//      '\\\\' c      matches character c\n//      lo '-' hi   matches character c for lo &lt;= c &lt;= hi\n//\n// Match requires pattern to match all of name, not just a substring.\n// The only possible returned error is [ErrBadPattern], when pattern\n// is malformed.\nfunc Match(pattern, name string) (matched bool, err error) {\n    ...\n}\n</code></pre> <p>\u7f51\u9875\u6587\u6863\u6548\u679c\u5982\u4e0b\uff1a</p> <p></p> <p><code>gofmt</code> \u4f7f\u7528\u5355\u4e2a\u5236\u8868\u7b26\u7f29\u8fdb\u4ee3\u7801\u5757\u4e2d\u7684\u6240\u6709\u884c\uff0c\u66ff\u6362\u548c\u975e\u7a7a\u884c\u5171\u6709\u7684\u4efb\u4f55\u5176\u4ed6\u7f29\u8fdb\uff0c\u5e76\u4e14\u5728\u6bcf\u4e2a\u4ee3\u7801\u5757\u524d\u540e\u63d2\u5165\u4e00\u4e2a\u7a7a\u884c\uff0c\u5c06\u4ee3\u7801\u5757\u4e0e\u5468\u56f4\u7684\u6bb5\u843d\u6587\u672c\u533a\u5206\u5f00\u3002</p>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_15","title":"\u5305\u6ce8\u91ca","text":"<p>\u5305\u6ce8\u91ca\u4ee5 <code>Package xxx</code>  \u683c\u5f0f\u5f00\u5934\uff0c<code>xxx</code> \u662f\u8981\u6ce8\u91ca\u7684\u5305\u7684\u5305\u540d\u3002</p> <p>\u6bcf\u4e2a\u5305\u90fd\u5e94\u8be5\u6709\u4e00\u4e2a\u4ecb\u7ecd\u8be5\u5305\u7684\u5305\u6ce8\u91ca\u3002</p> <pre><code>// Package sort provides primitives for sorting slices and user-defined\n// collections.\npackage sort\n</code></pre> <p>\u5305\u6ce8\u91ca\u6587\u672c\u6bd4\u8f83\u957f\u65f6\u53ef\u4ee5\u5355\u72ec\u7684\u653e\u5728\u547d\u540d\u672a\u4e3a <code>doc.go</code> \u6587\u4ef6\u4e2d\uff0c\u6587\u4ef6\u4e2d\u4ec5\u5305\u542b\u5305\u6ce8\u91ca\u548c\u5305\u58f0\u660e\u8bed\u53e5\uff0c\u5982\uff1asort package - sort - Go Packages</p> <p>\u5305\u6ce8\u91ca\u901a\u5e38\u5199\u5728\u5305\u7684\u4e3b\u6587\u4ef6\u91cc\uff0c\u4e0d\u7528\u6bcf\u4e2a\u6587\u4ef6\u90fd\u5199\u3002\u5982\u679c\u591a\u4e2a\u6587\u4ef6\u6709\u5305\u6ce8\u91ca\uff0c\u5b83\u4eec\u5c06\u88ab\u8fde\u63a5\u8d77\u6765\u5f62\u6210\u6574\u4e2a\u5305\u7684\u6ce8\u91ca\u3002</p> <p>\u5305\u6ce8\u91ca\u7684\u7b2c\u4e00\u53e5\u8bdd\u4f1a\u51fa\u73b0\u5728\u6587\u6863\u91cc\u5305\u5217\u8868\u9875\u9762\uff0c\u5982\uff1aStandard library - Go Packages</p> <p>\u751f\u6210\u6587\u6863\u65f6\u4f1a\u5ffd\u7565\u548c\u5305\u6ce8\u91ca\u4e0d\u76f8\u90bb\u7684\u5176\u4ed6\u9876\u7ea7\u6ce8\u91ca\uff08\u5305\u7ea7\u522b\u7684\u6ce8\u91ca\uff09\uff0c\u4ee5 <code>BUG(who)</code> \u5f00\u5934\u7684\u9664\u5916\u3002<code>BUG(who)</code> \u5f00\u5934\u7684\u6ce8\u91ca\u53ef\u4ee5\u51fa\u73b0\u5728\u6e90\u7801\u91cc\u7684\u4efb\u4f55\u4f4d\u7f6e\uff0c\u90fd\u4f1a\u663e\u793a\u5728\u6587\u6863\u9875\u9762 <code>Bugs</code> \u533a\u57df\u3002\u5982\uff1anet package - net - Go Packages</p>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_16","title":"\u547d\u4ee4\u5305\u6ce8\u91ca","text":"<p>\u547d\u4ee4\u7684\u5305\u7684\u6ce8\u91ca\u548c\u666e\u901a\u5305\u6ce8\u91ca\u7c7b\u4f3c\uff0c\u4f46\u5b83\u63cf\u8ff0\u7684\u662f\u7a0b\u5e8f\u7684\u884c\u4e3a\u800c\u4e0d\u662f\u5305\u4e2d\u7684\u6807\u8bc6\u7b26\u7684\u542b\u4e49\u3002\u7b2c\u4e00\u4e2a\u53e5\u6ce8\u91ca\u901a\u5e38\u4ee5\u7a0b\u5e8f\u672c\u8eab\u7684\u540d\u79f0\u5f00\u5934\uff08\u4f4d\u4e8e\u53e5\u5b50\u7684\u5f00\u5934\u6240\u4ee5\u9996\u5b57\u6bcd\u5927\u5199\uff09\u3002\u4f8b\u5982\uff0c\u4ee5\u4e0b\u662f <code>gofmt</code> \u7a0b\u5e8f\u6ce8\u91ca\u7684\u5220\u51cf\u7248\uff1a</p> <pre><code>/*\nGofmt formats Go programs.\nIt uses tabs for indentation and blanks for alignment.\nAlignment assumes that an editor is using a fixed-width font.\n\nWithout an explicit path, it processes the standard input. Given a file,\nit operates on that file; given a directory, it operates on all .go files in\nthat directory, recursively. (Files starting with a period are ignored.)\nBy default, gofmt prints the reformatted sources to standard output.\n\nUsage:\n\n    gofmt [flags] [path ...]\n\nThe flags are:\n\n    -d\n        Do not print reformatted sources to standard output.\n        If a file's formatting is different than gofmt's, print diffs\n        to standard output.\n    -w\n        Do not print reformatted sources to standard output.\n        If a file's formatting is different from gofmt's, overwrite it\n        with gofmt's version. If an error occurred during overwriting,\n        the original file is restored from an automatic backup.\n\nWhen gofmt reads from standard input, it accepts either a full Go program\nor a program fragment. A program fragment must be a syntactically\nvalid declaration list, statement list, or expression. When formatting\nsuch a fragment, gofmt preserves leading indentation as well as leading\nand trailing spaces, so that individual sections of a Go program can be\nformatted by piping them through gofmt.\n*/\npackage main\n</code></pre> <p>\u6ce8\u91ca\u7684\u5f00\u5934\u4e09\u884c\u662f\u4f7f\u7528\u8bed\u4e49\u6362\u884c\u6a21\u5f0f\u7f16\u5199\uff0c\u6bcf\u4e2a\u65b0\u53e5\u5b50\u6216\u957f\u77ed\u8bed\u5355\u72ec\u5360\u4e00\u884c\uff0c\u968f\u7740\u540e\u671f\u4ee3\u7801\u7684\u6539\u52a8\u548c\u65b0\u6ce8\u91ca\u7684\u6dfb\u52a0\uff0c\u4e0d\u540c\u884c\u7684\u5dee\u5f02\u4f1a\u66f4\u5bb9\u6613\u533a\u5206\u3002\u540e\u9762\u7684\u6bb5\u843d\u6ca1\u6709\u9075\u5faa\u8fd9\u4e2a\u7ea6\u5b9a\u3002\u4e0d\u8bba\u54ea\u79cd\u65b9\u5f0f\uff0c <code>go doc</code> \u548c <code>pkgsite</code> \u5728\u751f\u6210\u6587\u6863\u65f6\u90fd\u4f1a\u91cd\u65b0\u8fdb\u884c\u6392\u7248\u3002\u4f8b\u5982\uff1a</p> <pre><code>$ go doc gofmt\nGofmt formats Go programs. It uses tabs for indentation and blanks for\nalignment. Alignment assumes that an editor is using a fixed-width font.\n\nWithout an explicit path, it processes the standard input. Given a file, it\noperates on that file; given a directory, it operates on all .go files in that\ndirectory, recursively. (Files starting with a period are ignored.) By default,\ngofmt prints the reformatted sources to standard output.\n\nUsage:\n\n    gofmt [flags] [path ...]\n\nThe flags are:\n\n    -d\n        Do not print reformatted sources to standard output.\n        If a file's formatting is different than gofmt's, print diffs\n        to standard output.\n...\n</code></pre>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_17","title":"\u6807\u8bc6\u7b26\u6ce8\u91ca","text":"<p>\u6ce8\u91ca\u5f00\u5934\u7684\u5355\u8bcd\u4ee5\u88ab\u6ce8\u91ca\u7684\u6807\u8bc6\u7b26\u7684\u540d\u79f0\u5f00\u5934\uff08\u5305\u6ce8\u91ca\u9664\u5916\uff09</p>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_18","title":"\u7c7b\u578b\u6ce8\u91ca","text":"<p>\u7c7b\u578b\u7684\u6587\u6863\u6ce8\u91ca\u5e94\u8be5\u89e3\u91ca\u8be5\u7c7b\u578b\u7684\u6bcf\u4e2a\u5b9e\u4f8b\u4ee3\u8868\u6216\u63d0\u4f9b\u4ec0\u4e48\u529f\u80fd\u3002\u4f8b\u5982\uff1a</p> <pre><code>package regexp\n\n// Regexp is the representation of a compiled regular expression.\n// A Regexp is safe for concurrent use by multiple goroutines,\n// except for configuration methods, such as Longest.\ntype Regexp struct {\n    ...\n}\n</code></pre> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u5047\u8bbe\u7c7b\u578b\u90fd\u4e0d\u652f\u6301\u5e76\u53d1\u64cd\u4f5c\uff0c\u5982\u679c\u652f\u6301\uff0c\u6700\u597d\u5728\u6ce8\u91ca\u91cc\u8bf4\u660e:</p> <pre><code>package regexp\n\n// Regexp is the representation of a compiled regular expression.\n// A Regexp is safe for concurrent use by multiple goroutines,\n// except for configuration methods, such as Longest.\ntype Regexp struct {\n    ...\n}\n</code></pre> <p>\u7c7b\u578b\u8fd8\u5e94\u8be5\u5c3d\u91cf\u4f7f\u96f6\u503c\u5177\u6709\u6709\u7528\u7684\u542b\u4e49\u3002\u5982\u679c\u96f6\u503c\u7684\u542b\u4e49\u4e0d\u660e\u663e\uff0c\u6700\u597d\u5728\u6ce8\u91ca\u91cc\u8bf4\u660e\uff1a</p> <pre><code>package bytes\n\n// A Buffer is a variable-sized buffer of bytes with Read and Write methods.\n// The zero value for Buffer is an empty buffer ready to use.\ntype Buffer struct {\n    ...\n}\n</code></pre> <p>\u5177\u6709\u5bfc\u51fa\u5b57\u6bb5\u7684\u7c7b\u578b\uff0c\u6587\u6863\u6ce8\u91ca\u6216\u6bcf\u4e2a\u5b57\u6bb5\u7684\u6ce8\u91ca\u5e94\u8be5\u89e3\u91ca\u6bcf\u4e2a\u5bfc\u51fa\u5b57\u6bb5\u7684\u542b\u4e49\u3002\u4f8b\u5982\uff1a</p> <pre><code>// \u7c7b\u578b\u7684\u6ce8\u91ca\u8be6\u7ec6\u63cf\u8ff0\u7c7b\u578b\u7684\u529f\u80fd\npackage io\n\n// A LimitedReader reads from R but limits the amount of\n// data returned to just N bytes. Each call to Read\n// updates N to reflect the new amount remaining.\n// Read returns EOF when N &lt;= 0.\ntype LimitedReader struct {\n    R   Reader // underlying reader\n    N   int64  // max bytes remaining\n}\n\n// \u7c7b\u578b\u7684\u90e8\u5206\u6ce8\u91ca\u5728\u6bcf\u4e2a\u5b57\u6bb5\u7684\u6ce8\u91ca\u4e2d\npackage comment\n\n// A Printer is a doc comment printer.\n// The fields in the struct can be filled in before calling\n// any of the printing methods\n// in order to customize the details of the printing process.\ntype Printer struct {\n    // HeadingLevel is the nesting level used for\n    // HTML and Markdown headings.\n    // If HeadingLevel is zero, it defaults to level 3,\n    // meaning to use &lt;h3&gt; and ###.\n    HeadingLevel int\n    ...\n}\n</code></pre>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_19","title":"\u51fd\u6570\u548c\u65b9\u6cd5\u6ce8\u91ca","text":"<p>\u51fd\u6570\u7684\u6ce8\u91ca\u5e94\u8be5\u89e3\u91ca\u8be5\u51fd\u6570\u7684\u4f5c\u7528\u3001\u5165\u53c2\u548c\u8fd4\u53c2\u7684\u542b\u4e49\u3002\u547d\u540d\u53c2\u6570\u53ef\u4ee5\u76f4\u63a5\u5728\u6ce8\u91ca\u4e2d\u5f15\u7528\uff0c\u65e0\u9700\u4efb\u4f55\u7279\u6b8a\u8bed\u6cd5\uff08\u4e0d\u7528\u52a0\u4e0a\u53cd\u5f15\u53f7\uff09\u3002 </p> <pre><code>package strconv\n\n// Quote returns a double-quoted Go string literal representing s.\n// The returned string uses Go escape sequences (\\t, \\n, \\xFF, \\u0100)\n// for control characters and non-printable characters as defined by IsPrint.\nfunc Quote(s string) string {\n    ...\n}\n\npackage os\n\n// Exit causes the current program to exit with the given status code.\n// Conventionally, code zero indicates success, non-zero an error.\n// The program terminates immediately; deferred functions are not run.\n//\n// For portability, the status code should be in the range [0, 125].\nfunc Exit(code int) {\n    ...\n}\n</code></pre> <p>\u8fd4\u56de\u5e03\u5c14\u503c\u7684\u51fd\u6570\u6ce8\u91ca\u901a\u5e38\u662f <code>reports whether</code> \u683c\u5f0f\uff1a</p> <pre><code>package strings\n\n// HasPrefix reports whether the string s begins with prefix.\nfunc HasPrefix(s, prefix string) bool\n</code></pre> <p>\u7ed9\u51fd\u6570\u6dfb\u52a0\u547d\u540d\u8fd4\u56de\u503c\uff0c\u5e76\u5728\u6ce8\u91ca\u91cc\u8fdb\u884c\u5f15\u7528\uff0c\u53ef\u4ee5\u4f7f\u6ce8\u91ca\u66f4\u52a0\u6e05\u6670\u548c\u5bb9\u6613\u7406\u89e3\uff0c\u5373\u4f7f\u547d\u540d\u8fd4\u56de\u503c\u5728\u51fd\u6570\u4e2d\u672a\u4f7f\u7528\u5230\u3002</p> <pre><code>package io\n\n// Copy copies from src to dst until either EOF is reached\n// on src or an error occurs. It returns the total number of bytes\n// written and the first error encountered while copying, if any.\n//\n// A successful Copy returns err == nil, not err == EOF.\n// Because Copy is defined to read from src until EOF, it does\n// not treat an EOF from Read as an error to be reported.\nfunc Copy(dst Writer, src Reader) (n int64, err error) {\n    ...\n}\n</code></pre> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u5047\u8bbe\u51fd\u6570\u548c\u65b9\u6cd5\u90fd\u4e0d\u652f\u6301\u5e76\u53d1\u64cd\u4f5c\uff0c\u5982\u679c\u652f\u6301\uff0c\u6700\u597d\u5728\u6ce8\u91ca\u91cc\u8bf4\u660e:</p> <pre><code>package sql\n\n// Close returns the connection to the connection pool.\n// All operations after a Close will return with ErrConnDone.\n// Close is safe to call concurrently with other operations and will\n// block until all other operations finish. It may be useful to first\n// cancel any used context and then call Close directly after.\nfunc (c *Conn) Close() error {\n    ...\n}\n</code></pre> <p>\u7ed9\u51fd\u6570\u6216\u65b9\u6cd5\u6dfb\u52a0 Locked \u540e\u7f00\u8868\u793a\u8be5\u51fd\u6570\u6216\u65b9\u6cd5\u662f\u5e76\u53d1\u5b89\u5168\u7684\u6216\u8005\u8c03\u7528\u8be5\u51fd\u6570\u6216\u65b9\u6cd5\u65f6\u9700\u8981\u52a0\u9501\u3002</p> <pre><code>// prepareOnConnLocked prepares the query in Stmt s on dc and adds it to the list of\n// open connStmt on the statement. It assumes the caller is holding the lock on dc.\nfunc (s *Stmt) prepareOnConnLocked(ctx context.Context, dc *driverConn) (*driverStmt, error) {\n    si, err := dc.prepareLocked(ctx, s.cg, s.query)\n    if err != nil {\n        return nil, err\n    }\n    cs := connStmt{dc, si}\n    s.mu.Lock()\n    s.css = append(s.css, cs)\n    s.mu.Unlock()\n    return cs.ds, nil\n}\n\n// lasterrOrErrLocked returns either lasterr or the provided err.\n// rs.closemu must be read-locked.\nfunc (rs *Rows) lasterrOrErrLocked(err error) error {\n    if rs.lasterr != nil &amp;&amp; rs.lasterr != io.EOF {\n        return rs.lasterr\n    }\n    return err\n}\n</code></pre> <p>\u51fd\u6570\u6216\u65b9\u6cd5\u7684\u7279\u6b8a\u60c5\u51b5\u9700\u8981\u5728\u6ce8\u91ca\u91cc\u8bf4\u660e</p> <pre><code>package math\n\n// Sqrt returns the square root of x.\n//\n// Special cases are:\n//\n//  Sqrt(+Inf) = +Inf\n//  Sqrt(\u00b10) = \u00b10\n//  Sqrt(x &lt; 0) = NaN\n//  Sqrt(NaN) = NaN\nfunc Sqrt(x float64) float64 {\n</code></pre> <p>\u51fd\u6570\u6216\u65b9\u6cd5\u7684\u6ce8\u91ca\u901a\u5e38\u4e0d\u9700\u8981\u89e3\u91ca\u5185\u90e8\u7684\u8be6\u7ec6\u5b9e\u73b0\uff0c\u8be6\u7ec6\u5b9e\u73b0\u7684\u6ce8\u91ca\u5e94\u8be5\u5728\u51fd\u6570\u6216\u65b9\u6cd5\u4f53\u5185\u3002\u800c\u4e14\u5c06\u6765\u6539\u53d8\u5185\u90e8\u5b9e\u73b0\u65f6\u4e0d\u7528\u4fee\u6539\u51fd\u6570\u6216\u65b9\u6cd5\u7684\u6587\u6863\u3002</p>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_20","title":"\u5e38\u91cf\u6ce8\u91ca","text":"<p>Go \u8bed\u6cd5\u5141\u8bb8\u5bf9\u58f0\u660e\u8fdb\u884c\u5206\u7ec4\uff0c\u901a\u8fc7\u4e00\u6bb5\u6ce8\u91ca\u5c31\u53ef\u4ee5\u63cf\u8ff0\u4e00\u7ec4\u76f8\u5173\u7684\u5e38\u91cf\uff0c\u4e5f\u53ef\u4ee5\u5355\u72ec\u6ce8\u91ca\u4e0d\u540c\u7684\u5e38\u91cf\u3002</p> <pre><code>package scanner // import \"text/scanner\"\n\n// The result of Scan is one of these tokens or a Unicode character.\nconst (\n    EOF = -(iota + 1)\n    Ident\n    Int\n    Float\n    Char\n    ...\n)\n\n\npackage unicode // import \"unicode\"\n\nconst (\n    MaxRune         = '\\U0010FFFF' // maximum valid Unicode code point.\n    ReplacementChar = '\\uFFFD'     // represents invalid code points.\n    MaxASCII        = '\\u007F'     // maximum ASCII value.\n    MaxLatin1       = '\\u00FF'     // maximum Latin-1 value.\n)\n</code></pre> <p>\u672a\u5206\u7ec4\u7684\u5e38\u91cf\u9700\u8981\u6dfb\u52a0\u4ee5\u5e38\u91cf\u540d\u5f00\u5934\u7684\u6ce8\u91ca</p> <pre><code>package unicode\n\n// Version is the Unicode edition from which the tables are derived.\nconst Version = \"13.0.0\"\n</code></pre> <p>\u7c7b\u578b\u5e38\u91cf\u7684\u58f0\u660e\u901a\u5e38\u653e\u5728\u7c7b\u578b\u5e38\u91cf\u7684\u7c7b\u578b\u5b9a\u4e49\u4e4b\u540e\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e00\u822c\u7701\u7565\u7c7b\u578b\u5e38\u91cf\u6216\u7c7b\u578b\u5e38\u91cf\u7ec4\u7684\u6ce8\u91ca\uff0c\u76f4\u63a5\u4f7f\u7528\u5e38\u91cf\u7c7b\u578b\u7684\u6ce8\u91ca\u3002</p> <pre><code>package syntax\n\n// An Op is a single regular expression operator.\ntype Op uint8\n\nconst (\n    OpNoMatch        Op = 1 + iota // matches no strings\n    OpEmptyMatch                   // matches empty string\n    OpLiteral                      // matches Runes sequence\n    OpCharClass                    // matches Runes interpreted as range pair list\n    OpAnyCharNotNL                 // matches any character except newline\n    ...\n)\n</code></pre> <p>\u53d8\u91cf\u6ce8\u91ca</p> <p>\u53d8\u91cf\u6ce8\u91ca\u548c\u5e38\u91cf\u6ce8\u91ca\u683c\u5f0f\u76f8\u540c\uff0c\u4ee5\u4e0b\u662f\u7ec4\u53d8\u91cf\u548c\u5355\u4e2a\u53d8\u91cf\u7684\u6ce8\u91ca\u683c\u5f0f\uff1a</p> <pre><code>package fs\n\n// Generic file system errors.\n// Errors returned by file systems can be tested against these errors\n// using errors.Is.\nvar (\n    ErrInvalid    = errInvalid()    // \"invalid argument\"\n    ErrPermission = errPermission() // \"permission denied\"\n    ErrExist      = errExist()      // \"file already exists\"\n    ErrNotExist   = errNotExist()   // \"file does not exist\"\n    ErrClosed     = errClosed()     // \"file already closed\"\n)\n\npackage unicode\n\n// Scripts is the set of Unicode script tables.\nvar Scripts = map[string]*RangeTable{\n    \"Adlam\":                  Adlam,\n    \"Ahom\":                   Ahom,\n    \"Anatolian_Hieroglyphs\":  Anatolian_Hieroglyphs,\n    \"Arabic\":                 Arabic,\n    \"Armenian\":               Armenian,\n    ...\n}\n</code></pre>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_21","title":"\u6ce8\u91ca\u6807\u8bb0","text":"","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#bug","title":"Bug\u6807\u8bb0","text":"<p><code>BUG(r)</code>\uff1a\u8be5\u6807\u8bb0\u8bb0\u5f55\u4e00\u4e2a\u786e\u8ba4\u7684BUG\u4fe1\u606f\uff0c<code>r</code> \u662f\u53ef\u4ee5\u63d0\u4f9b\u66f4\u591a\u76f8\u5173\u4fe1\u606f\u7684\u4eba\u7684\u7528\u6237\u540d</p> <p>\u901a\u5e38\u683c\u5f0f\u4e3a\uff1a</p> <pre><code>// BUG(rsc): FieldByName and related functions consider struct field names to be equal\n// BUG(rsc,mikio): On DragonFly BSD and OpenBSD, listening on the\n</code></pre> <p>\u6587\u6863\u751f\u6210\u65f6\u7684\u5339\u914d\u6807\u8bb0\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\uff1a</p> <pre><code>// \u5339\u914d\u6240\u6709MARKER(uid)\u683c\u5f0f\u7684\u6ce8\u91ca\uff0c\u518d\u8fc7\u6ee4BUG\u5f00\u5934\u7684\nvar (\n    noteMarker    = `([A-Z][A-Z]+)\\(([^)]+)\\):?`                // MARKER(uid), MARKER at least 2 chars, uid at least 1 char\n    noteMarkerRx  = lazyregexp.New(`^[ \\t]*` + noteMarker)      // MARKER(uid) at text start\n    noteCommentRx = lazyregexp.New(`^/[/*][ \\t]*` + noteMarker) // MARKER(uid) at comment start\n)\n</code></pre> <p>\u5fc5\u987b\u4ee5 <code>BUG(xxx)</code> \u683c\u5f0f\u5f00\u5934 \uff0c\u5192\u53f7 <code>:</code> \u53ca\u5176\u4e4b\u540e\u7684\u683c\u5f0f\u6ca1\u8981\u6c42</p>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#deprecated","title":"Deprecated\u6807\u8bb0","text":"<p><code>Deprecated:</code> \u8be5\u6807\u8bb0\u8bb0\u5f55\u7ed3\u6784\u4f53\u6210\u5458\u5b57\u6bb5\u3001\u51fd\u6570\u3001\u7c7b\u578b\u6216\u8005\u5305\u5df2\u88ab\u5f03\u7528\uff0c\u4f46\u662f\u4fdd\u7559\u4e0b\u6765\u4fdd\u6301\u5411\u540e\u517c\u5bb9\u3002</p> <p>\u901a\u5e38\u683c\u5f0f\u4e3a\uff1a</p> <pre><code>// Title treats s as UTF-8-encoded bytes and returns a copy with all Unicode letters that begin\n// words mapped to their title case.\n//\n// Deprecated: The rule Title uses for word boundaries does not handle Unicode\n// punctuation properly. Use golang.org/x/text/cases instead.\nfunc Title(s []byte) []byte {\n    // Use a closure here to remember state.\n    // Hackish but effective. Depends on Map scanning in order and calling\n    // the closure once per rune.\n    prev := ' '\n    return Map(\n        func(r rune) rune {\n            if isSeparator(prev) {\n                prev = r\n                return unicode.ToTitle(r)\n            }\n            prev = r\n            return r\n        },\n        s)\n}\n</code></pre> <p>\u6587\u6863\u751f\u6210\u65f6\u7684\u5339\u914d\u6807\u8bb0\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\uff1a</p> <pre><code>var deprecatedRx = regexp.MustCompile(`(^|\\n\\s*\\n)\\s*Deprecated:`)\n</code></pre>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#example","title":"Example\u51fd\u6570","text":"<p><code>Example</code> \u51fd\u6570\u7684\u6ce8\u91ca\u4f1a\u548c\u6ce8\u91ca\u7684\u6807\u8bc6\u7b26\u7684\u6587\u6863\u663e\u793a\u5728\u4e00\u8d77\uff0c\u5305\u7ea7\u522b\u7684 <code>Example</code> \u51fd\u6570\u4f1a\u663e\u793a\u5728\u5305\u6ce8\u91ca\u540e\u9762\u3002\u5982 tar package - archive/tar - Go Packages</p> <p><code>Example</code> \u51fd\u6570\u5fc5\u987b\u5b9a\u4e49\u5728\u540e\u7f00\u4e3a <code>_test.go</code> \u6587\u4ef6\u4e2d\uff0c\u51fd\u6570\u540d\u4ee5 <code>Example</code> \u5f00\u5934\uff0c\u5e76\u4e14\u4e0d\u9700\u8981\u4efb\u4f55\u53c2\u6570\u3002</p> <p>godoc \u901a\u8fc7\u5b9e\u4f8b\u51fd\u6570\u7684\u51fd\u6570\u540d\u547d\u540d\u7ea6\u5b9a\u5c06\u793a\u4f8b\u51fd\u6570\u4e0e\u5305\u7ea7\u6807\u8bc6\u7b26\u76f8\u5173\u8054\u3002</p> <p>\u7c7b\u578b\u6216\u8005\u65b9\u6cd5\u7684\u793a\u4f8b\u51fd\u6570\u4f1a\u548c\u8be5\u7c7b\u578b\u6216\u65b9\u6cd5\u7684\u6587\u6863\u663e\u793a\u5728\u4e00\u8d77\u3002</p> <pre><code>func ExampleFoo()     // Foo\u51fd\u6570\u6216\u8005Foo\u7c7b\u578b\u7684\u793a\u4f8b\nfunc ExampleBar_Qux() // Bar\u7c7b\u578b\u7684Qux\u65b9\u6cd5\u7684\u793a\u4f8b \nfunc Example()        // \u5305\u7ea7\u522b\u7684\u793a\u4f8b\n</code></pre> <p>\u53ef\u4ee5\u901a\u8fc7\u5728\u51fd\u6570\u540d\u540e\u9762\u6dfb\u52a0\u540e\u7f00\u7684\u65b9\u5f0f\u4e3a\u6307\u5b9a\u7684\u6807\u8bc6\u7b26\u63d0\u4f9b\u591a\u4e2a\u793a\u4f8b\uff0c\u540e\u7f00\u4ee5 <code>_</code> \u5f00\u5934\u540e\u9762\u8ddf\u5c0f\u5199\u5b57\u6bcd\u7ec4\u6210\u7684\u5b57\u7b26\u4e32\u3002</p> <pre><code>func ExampleString()\nfunc ExampleString_second()\nfunc ExampleString_third()\nfunc ExampleBar_Qux_one()\nfunc ExampleBar_Qux_two() \n</code></pre>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#readme","title":"\u9690\u85cfREADME\u6587\u4ef6","text":"<p><code>git</code> \u6258\u7ba1\u7f51\u7ad9\u901a\u5e38\u4f1a\u628a <code>README</code> \u6587\u4ef6\u4f5c\u4e3a\u4ed3\u5e93\u7684\u6587\u6863\u5c55\u793a\u3002<code>godoc</code> \u6216 <code>pkgsite</code> \u751f\u6210\u6587\u6863\u65f6\uff0c\u628a <code>README</code> \u6587\u4ef6\u653e\u5728\u5305\u6587\u6863\u9875\u9762\u7684\u9876\u90e8\u3002\u5982\u679c\u4e0d\u5e0c\u671b\u5c55\u793a <code>README</code> \u6587\u4ef6\uff0c\u53ef\u4ee5\u628a <code>README</code> \u6587\u4ef6\u653e\u5728\u5b50\u76ee\u5f55\u4e0b\uff0c\u5982 <code>docs//README.md</code>\u3002</p>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#go-doc","title":"go doc","text":"<p>\u4e0e <code>godoc</code> \u547d\u4ee4\u4e0d\u540c\uff0c\u8be5\u547d\u4ee4\u7528\u4e8e\u5728\u547d\u4ee4\u884c\u4e0a\u67e5\u770b\u6e90\u7801\u7684\u6587\u6863</p> <pre><code>go doc              // \u8f93\u51fa\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u5305\u6587\u6863\ngo doc fmt          // \u67e5\u770bfmt\u5305\u7684\u6587\u6863\ngo doc fmt Printf   // \u67e5\u770bfmt\u5305\u91cc\u7684Printf\u51fd\u6570\u7684\u6587\u6863\ngodoc os File       // \u67e5\u770bos\u5305\u91ccFile\u7ed3\u6784\u7684\u6587\u6863\ngo doc fmt Printf Println // \u67e5\u770b\u5305\u5185\u591a\u4e2a\u6807\u8bc6\u7b26\n</code></pre>","tags":["go","doc"]},{"location":"blog/go-doc-generate-and-syntax/#_22","title":"\u53c2\u8003\u8d44\u6599","text":"<p>Godoc: documenting Go code - The Go Programming Language Go Doc Comments - The Go Programming Language (golang.org) godoc command - golang.org/x/tools/cmd/godoc - Go Packages Testable Examples in Go - The Go Programming Language pkgsite command - golang.org/x/pkgsite/cmd/pkgsite - Go Packages \u5982\u4f55\u67e5\u770b\u5386\u53f2\u7248\u672c\u7684Go\u6587\u6863\uff1f\u5618\uff01\u7b54\u6848\u6211\u53ea\u544a\u8bc9\u4f60\uff01 | Tony Bai \u804a\u804agodoc\u3001go doc\u4e0epkgsite | Tony Bai</p>","tags":["go","doc"]},{"location":"blog/go-get-progress/","title":"go get\u6dfb\u52a0\u8fdb\u5ea6","text":"<p>go get \u6bd4\u8f83\u5927\u7684\u5305\u65f6\u4f1a\u5f88\u6162, \u53ef\u80fd\u51e0\u5206\u949f\u6216\u66f4\u957f, \u8ba9\u4eba\u8bef\u4ee5\u4e3a\u5361\u6b7b\u4e86. \u4fee\u6539 go \u6e90\u7801\u5305\uff0c\u8ba9 go get \u663e\u793a\u8fdb\u5ea6\u3002</p> <ol> <li>\u4fee\u6539 git clone \u547d\u4ee4, \u6dfb\u52a0 --progress \u9009\u9879, \u4f7f\u5176\u8f93\u51fa\u8fdb\u5ea6    \u627e\u5230\u5982\u4e0b\u4ee3\u7801, createdCmd \u5b57\u6bb5\u503c\u4fee\u6539\u4e3a clone --progress {repo} {dir}    \u5176\u5b83\u547d\u4ee4 hg, svn...\u6dfb\u52a0\u8fdb\u5ea6\u65b9\u6cd5\u7c7b\u4f3c</li> </ol> <pre><code>// vcsGit describes how to use Git.\nvar vcsGit = &amp;vcsCmd{\n name: \"Git\",\n cmd:  \"git\",\n createCmd:   \"clone {repo} {dir}\", // \u6b64\u5904\u4fee\u6539\u4e3a clone --progress {repo} {dir}\n downloadCmd: \"pull --ff-only\"\n}\n</code></pre> <p>2.\u4fee\u6539 cmd.Run()\u6267\u884c\u7684\u5730\u65b9, \u5c06\u8f93\u51fa\u5b9a\u4f4d\u5230\u6807\u51c6\u8f93\u51fa\u6d41\u4e0a\u627e\u5230 run1()\u65b9\u6cd5, \u5728 cmd.Stderr = &amp;buf \u4e0b\u6dfb\u52a0\u4e24\u884c, \u5982\u4e0b:</p> <p>var buf bytes.Buffer cmd.Stdout = &amp;buf cmd.Stderr = &amp;buf cmd.Stdout = os.Stdout // \u91cd\u5b9a\u5411\u6807\u51c6\u8f93\u51fa cmd.Stderr = os.Stderr // \u91cd\u5b9a\u5411\u6807\u51c6\u8f93\u51fa err = cmd.Run()</p> <p>3.\u6267\u884c golang \u6e90\u7801 src \u4e0b\u7684 all.bash \u91cd\u65b0\u7f16\u8bd1 golang, \u7f16\u8bd1\u8981\u4e9b\u65f6\u95f4, \u7f16\u8bd1\u5b8c\u540e\u4f7f\u7528 go get \u4f1a\u663e\u793a\u62c9\u53d6\u8fdb\u5ea6</p>","tags":["go","git"]},{"location":"blog/go-goroutine-concurrent-control/","title":"goroutine\u5e76\u53d1\u63a7\u5236","text":"","tags":["go","goroutine","\u5e76\u53d1"]},{"location":"blog/go-goroutine-concurrent-control/#_1","title":"\u901a\u4fe1","text":"","tags":["go","goroutine","\u5e76\u53d1"]},{"location":"blog/go-goroutine-concurrent-control/#_2","title":"\u5171\u4eab\u5185\u5b58","text":"<pre><code>func  Test() {\n    ordersInfoApp  :=  make([]orderInfoApp, 0, totalCount)\n    var  mux sync.Mutex\n    wg  := sync.WaitGroup{}\n\n    for  i  :=  0; i &lt;=  10; i++ {\n        wg.Add(1)\n        go  func(pageIndex int) {\n            // do somethine\n            var  ordersInfo orderInfoApp\n            mux.Lock()\n            ordersInfoApp  =  append(ordersInfoApp, ordersInfo)\n            mux.Unlock()\n\n            wg.Done()\n        }(i)\n    }\n\n    wg.Wait()\n}\n</code></pre> <p>\u4e00\u822c\u5728\u7b80\u5355\u7684\u6570\u636e\u4f20\u9012\u4e0b\u4f7f\u7528</p>","tags":["go","goroutine","\u5e76\u53d1"]},{"location":"blog/go-goroutine-concurrent-control/#channel","title":"channel","text":"<pre><code>func  Test() {\n    ordersInfoApp  :=  make([]orderInfoApp, 0, totalCount)\n    choi  :=  make(chan orderInfoApp, 10)\n    wg  := sync.WaitGroup{}\n\n    for  i  :=  0; i &lt;=  10; i++ {\n        wg.Add(1)\n        go  func(pageIndex int) {\n            // do somethine\n            var  ordersInfo orderInfoApp\n            choi &lt;- ordersInfo\n\n            wg.Done()\n        }(i)\n    }\n\n    go  func() {\n        wg.Wait()\n        close(choi)\n    }()\n\n    for  v  :=  range choi {\n        ordersInfoApp  =  append(ordersInfoApp, v)\n    }\n}\n</code></pre> <p>\u76f8\u5bf9\u590d\u6742\u7684\u6570\u636e\u6d41\u52a8\u60c5\u51b5</p>","tags":["go","goroutine","\u5e76\u53d1"]},{"location":"blog/go-goroutine-concurrent-control/#_3","title":"\u540c\u6b65\u548c\u63a7\u5236","text":"<p>goroutine \u9000\u51fa\u53ea\u80fd\u7531\u672c\u8eab\u63a7\u5236\uff0c\u4e0d\u80fd\u4ece\u5916\u90e8\u5f3a\u5236\u7ed3\u675f\u8be5 goroutine \u4e24\u79cd\u4f8b\u5916\u60c5\u51b5\uff1amain \u51fd\u6570\u7ed3\u675f\u6216\u8005\u7a0b\u5e8f\u5d29\u6e83\u7ed3\u675f\u8fd0\u884c</p>","tags":["go","goroutine","\u5e76\u53d1"]},{"location":"blog/go-goroutine-concurrent-control/#_4","title":"\u5171\u4eab\u53d8\u91cf\u63a7\u5236\u7ed3\u675f","text":"<pre><code>func  main() {\n    running  :=  true\n    f  :=  func() {\n        for running {\n            fmt.Println(\"i am running\")\n            time.Sleep(1  * time.Second)\n        }\n        fmt.Println(\"exit\")\n    }\n    go  f()\n    go  f()\n    go  f()\n    time.Sleep(2  * time.Second)\n    running  =  false\n    time.Sleep(3  * time.Second)\n    fmt.Println(\"main exit\")\n}\n</code></pre> <p>\u4f18\u70b9\uff1a \u5b9e\u73b0\u7b80\u5355\uff0c\u4e0d\u62bd\u8c61\uff0c\u65b9\u4fbf\uff0c\u4e00\u4e2a\u53d8\u91cf\u5373\u53ef\u7b80\u5355\u63a7\u5236\u5b50 goroutine \u7684\u8fdb\u884c\u3002 \u7f3a\u70b9: \u7ed3\u6784\u53ea\u80fd\u662f\u591a\u8bfb\u4e00\u5199\uff0c\u4e0d\u80fd\u9002\u5e94\u7ed3\u6784\u590d\u6742\u7684\u8bbe\u8ba1\uff0c\u5982\u679c\u6709\u591a\u5199\uff0c\u4f1a\u51fa\u73b0\u6570\u636e\u540c\u6b65\u95ee\u9898\uff0c\u9700\u8981\u52a0\u9501\u6216\u8005\u4f7f\u7528 sync.atomic \u4e0d\u9002\u5408\u7528\u4e8e\u540c\u7ea7\u7684\u5b50 go \u7a0b\u95f4\u7684\u901a\u4fe1\uff0c\u5168\u5c40\u53d8\u91cf\u4f20\u9012\u7684\u4fe1\u606f\u592a\u5c11 \u56e0\u4e3a\u662f\u5355\u5411\u901a\u77e5,\u4e3b\u8fdb\u7a0b\u65e0\u6cd5\u7b49\u5f85\u6240\u6709\u5b50 goroutine \u9000\u51fa \u8fd9\u79cd\u65b9\u6cd5\u53ea\u9002\u7528\u4e8e\u975e\u5e38\u7b80\u5355\u7684\u903b\u8f91\u4e14\u5e76\u53d1\u91cf\u4e0d\u592a\u5927\u7684\u573a\u666f</p>","tags":["go","goroutine","\u5e76\u53d1"]},{"location":"blog/go-goroutine-concurrent-control/#syncwaitgroup","title":"sync.Waitgroup \u7b49\u5f85\u7ed3\u675f","text":"<pre><code>func  main() {\n    var  wg sync.WaitGroup\n    for  i  :=  0; i &lt;  3; i++ {\n        wg.Add(1)\n        go  func() {\n            defer wg.Done()\n            // do something\n        }()\n    }\n\n    wg.Wait()\n}\n</code></pre>","tags":["go","goroutine","\u5e76\u53d1"]},{"location":"blog/go-goroutine-concurrent-control/#channel_1","title":"channel \u63a7\u5236\u7ed3\u675f","text":"<pre><code>// \u53ef\u6269\u5c55\u5230\u591a\u4e2awork\nfunc  main() {\n    chClose  :=  make(chan  struct{})\n    go  func() {\n        for {\n            select {\n                case  &lt;-chClose:\n                    return\n                default:\n            }\n\n        // do something\n        }\n    }()\n\n    //chClose&lt;-struct{}\n    close(chClose)\n}\n</code></pre> <p>\u6ce8\u610f channel \u7684\u963b\u585e\u60c5\u51b5\uff0c\u907f\u514d\u51fa\u73b0\u6b7b\u9501\u3002 \u901a\u5e38 channel \u53ea\u80fd\u7531\u53d1\u9001\u8005\u5173\u95ed</p> <ul> <li> <p>\u5411\u65e0\u7f13\u51b2\u7684 channel \u5199\u5165\u6570\u636e\u4f1a\u5bfc\u81f4\u8be5 goroutine \u963b\u585e\uff0c\u76f4\u5230\u5176\u4ed6 goroutine \u4ece\u8fd9\u4e2a channel \u4e2d\u8bfb\u53d6\u6570\u636e</p> </li> <li> <p>\u4ece\u65e0\u7f13\u51b2\u7684 channel \u8bfb\u51fa\u6570\u636e\uff0c\u5982\u679c channel \u4e2d\u65e0\u6570\u636e\uff0c\u4f1a\u5bfc\u81f4\u8be5 goroutine \u963b\u585e\uff0c\u76f4\u5230\u5176\u4ed6 goroutine \u5411\u8fd9\u4e2a channel \u4e2d\u5199\u5165\u6570\u636e</p> </li> <li> <p>\u5411\u5e26\u7f13\u51b2\u7684\u4e14\u7f13\u51b2\u5df2\u6ee1\u7684 channel \u5199\u5165\u6570\u636e\u4f1a\u5bfc\u81f4\u8be5 goroutine \u963b\u585e\uff0c\u76f4\u5230\u5176\u4ed6 goroutine \u4ece\u8fd9\u4e2a channel \u4e2d\u8bfb\u53d6\u6570\u636e</p> </li> <li> <p>\u5411\u5e26\u7f13\u51b2\u7684\u4e14\u7f13\u51b2\u672a\u6ee1\u7684 channel \u5199\u5165\u6570\u636e\u4e0d\u4f1a\u5bfc\u81f4\u8be5 goroutine \u963b\u585e</p> </li> <li> <p>\u4ece\u5e26\u7f13\u51b2\u7684 channel \u8bfb\u51fa\u6570\u636e\uff0c\u5982\u679c channel \u4e2d\u65e0\u6570\u636e\uff0c\u4f1a\u5bfc\u81f4\u8be5 goroutine \u963b\u585e\uff0c\u76f4\u5230\u5176\u4ed6 goroutine \u5411\u8fd9\u4e2a channel \u4e2d\u5199\u5165\u6570\u636e</p> </li> <li> <p>\u4ece\u5e26\u7f13\u51b2\u7684 channel \u8bfb\u51fa\u6570\u636e\uff0c\u5982\u679c channel \u4e2d\u6709\u6570\u636e\uff0c\u8be5 goroutine \u4e0d\u4f1a\u963b\u585e</p> </li> </ul> <pre><code>// \u8bfb\u5b8c\u7ed3\u675f\nfor {\n  select {\n  case  &lt;-ch:\n      default:\n      goto finish\n  }\n}\nfinish:\n</code></pre> <ul> <li> <p>\u5982\u679c\u591a\u4e2a case \u540c\u65f6\u5c31\u7eea\u65f6\uff0cselect \u4f1a\u968f\u673a\u5730\u9009\u62e9\u4e00\u4e2a\u6267\u884c</p> </li> <li> <p>case \u6807\u7b7e\u91cc\u5411 channel \u53d1\u9001\u6216\u63a5\u6536\u6570\u636e\uff0ccase \u540e\u9762\u7684\u8bed\u53e5\u5728\u53d1\u9001\u63a5\u6536\u6210\u529f\u540e\u624d\u4f1a\u6267\u884c</p> </li> <li>nil channel\uff08\u8bfb\u3001\u5199\u3001\u8bfb\u5199\uff09\u7684 case \u6807\u7b7e\u4f1a\u88ab\u8df3\u8fc7</li> </ul>","tags":["go","goroutine","\u5e76\u53d1"]},{"location":"blog/go-goroutine-concurrent-control/#limitwaitgroup","title":"limitwaitgroup","text":"<pre><code>type  limitwaitgroup  struct {\n    sem chan  struct{}\n    wg sync.WaitGroup\n}\n\nfunc  New(n int) *limitwaitgroup {\n    return  &amp;limitwaitgroup{\n        sem: make(chan  struct{}, n),\n    }\n}\n\nfunc  (l *limitwaitgroup) Add() {\n    l.sem &lt;-  struct{}{}\n    l.wg.Add(1)\n}\n\nfunc  (l *limitwaitgroup) Done() {\n    &lt;-l.sem\n    l.wg.Done()\n}\n\nfunc  (l *limitwaitgroup) Wait() {\n    l.wg.Wait()\n}\n\n// \u4f8b\u5b50\nwg  := limitwaitgroup.New(6)\nfor  i  :=  0; i &lt;=  10; i++ {\n    wg.Add()\n    go  func(index int){\n        defer wg.Done()\n        // do something\n    }(i)\n}\nwg.Wait()\n</code></pre>","tags":["go","goroutine","\u5e76\u53d1"]},{"location":"blog/go-goroutine-concurrent-control/#context","title":"context","text":"<p>\u4e0a\u4e0b\u6587 go 1.7 \u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u5728 goroutine \u91cc\u4f20\u9012</p> <p>Context \u7684\u63a5\u53e3\u5b9a\u4e49</p> <pre><code>type  Context  interface {\n    Deadline() (deadline time.Time, ok bool)\n    Done() &lt;-chan  struct{}\n    Err() error\n    Value(key interface{}) interface{}\n}\n</code></pre> <p><code>Deadline</code>\u83b7\u53d6\u8bbe\u7f6e\u7684\u622a\u6b62\u65f6\u95f4(WithDeadline\u3001WithTimeout)\uff0c \u7b2c\u4e00\u4e2a\u8fd4\u56de\u503c\u4ee3\u8868\u622a\u6b62\u65f6\u95f4\uff0c\u7b2c\u4e8c\u4e2a\u8fd4\u56de\u503c\u4ee3\u8868\u662f\u5426\u8bbe\u7f6e\u4e86\u622a\u6b62\u65f6\u95f4\uff0cfalse \u65f6\u8868\u793a\u6ca1\u6709\u8bbe\u7f6e\u622a\u6b62\u65f6\u95f4</p> <p><code>Done</code>\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5173\u95ed\u7684\u53ea\u8bfb\u7684 chan\uff0c\u7c7b\u578b\u4e3a<code>struct{}</code>\uff0c\u5728 goroutine \u4e2d\uff0c\u5982\u679c\u8be5\u65b9\u6cd5\u8fd4\u56de\u7684 chan \u53ef\u4ee5\u8bfb\u53d6\uff0c\u5219\u610f\u5473\u7740 parent context \u5df2\u7ecf\u53d1\u8d77\u4e86\u53d6\u6d88\u8bf7\u6c42\uff0c\u6211\u4eec\u901a\u8fc7<code>Done</code>\u65b9\u6cd5\u6536\u5230\u8fd9\u4e2a\u4fe1\u53f7\u540e\uff0c\u5c31\u5e94\u8be5\u505a\u6e05\u7406\u64cd\u4f5c\uff0c\u7136\u540e\u9000\u51fa goroutine\uff0c\u91ca\u653e\u8d44\u6e90\u3002</p> <p><code>Err</code>context \u6ca1\u6709\u88ab\u7ed3\u675f\uff0c\u8fd4\u56de nil\uff1b\u5df2\u88ab\u7ed3\u675f\uff0c\u8fd4\u56de\u7ed3\u675f\u7684\u539f\u56e0\uff08\u88ab\u53d6\u6d88\u3001\u8d85\u65f6\uff09\u3002</p> <p><code>Value</code>\u65b9\u6cd5\u901a\u8fc7\u4e00\u4e2a Key \u83b7\u53d6\u8be5 Context \u4e0a\u7ed1\u5b9a\u7684\u503c\uff0c\u8bbf\u95ee\u8fd9\u4e2a\u503c\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\u3002key \u4e00\u822c\u5b9a\u4e49\u5f53\u524d\u5305\u7684\u4e00\u4e2a\u65b0\u7684\u672a\u5bfc\u51fa\u7c7b\u578b\u7684\u53d8\u91cf\uff08\u6700\u597d\u4e0d\u8981\u4f7f\u7528\u5185\u7f6e\u7c7b\u578b\uff09\uff0c\u907f\u514d\u548c\u5176\u4ed6 goroutine \u7684 key \u51b2\u7a81\u3002</p> <ul> <li>Context \u884d\u751f</li> </ul> <pre><code>func  WithCancel(parent Context) (ctx Context, cancel CancelFunc)\nfunc  WithDeadline(parent Context, deadline time.Time) (Context, CancelFunc)\nfunc  WithTimeout(parent Context, timeout time.Duration) (Context, CancelFunc)\nfunc  WithValue(parent Context, key, val interface{}) Context\n</code></pre> <p>\u8fd9\u56db\u4e2a<code>With</code>\u51fd\u6570\uff0c\u63a5\u6536\u7684\u90fd\u6709\u4e00\u4e2a partent \u53c2\u6570\uff0c\u5c31\u662f\u7236 Context\uff0c\u6211\u4eec\u8981\u57fa\u4e8e\u8fd9\u4e2a\u7236 Context \u521b\u5efa\u51fa\u5b50 Context \u7684\u610f\u601d\uff0c\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u7406\u89e3\u4e3a\u5b50 Context \u5bf9\u7236 Context \u7684\u7ee7\u627f\uff0c\u4e5f\u53ef\u4ee5\u7406\u89e3\u4e3a\u57fa\u4e8e\u7236 Context \u7684\u884d\u751f\u3002</p> <p>\u901a\u8fc7\u8fd9\u4e9b\u51fd\u6570\uff0c\u5c31\u521b\u5efa\u4e86\u4e00\u9897 Context \u6811\uff0c\u6811\u7684\u6bcf\u4e2a\u8282\u70b9\u90fd\u53ef\u4ee5\u6709\u4efb\u610f\u591a\u4e2a\u5b50\u8282\u70b9\uff0c\u8282\u70b9\u5c42\u7ea7\u53ef\u4ee5\u6709\u4efb\u610f\u591a\u4e2a\u3002</p> <p><code>WithCancel</code>\u51fd\u6570\uff0c\u4f20\u9012\u4e00\u4e2a\u7236 Context \u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u5b50 Context\uff0c\u4ee5\u53ca\u4e00\u4e2a\u53d6\u6d88\u51fd\u6570\u7528\u6765\u53d6\u6d88 Context\u3002 <code>WithDeadline</code>\u51fd\u6570\uff0c\u548c<code>WithCancel</code>\u5dee\u4e0d\u591a\uff0c\u5b83\u4f1a\u591a\u4f20\u9012\u4e00\u4e2a\u622a\u6b62\u65f6\u95f4\u53c2\u6570\uff0c\u610f\u5473\u7740\u5230\u4e86\u8fd9\u4e2a\u65f6\u95f4\u70b9\uff0c\u4f1a\u81ea\u52a8\u53d6\u6d88 Context\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u7b49\u5230\u8fd9\u4e2a\u65f6\u5019\uff0c\u53ef\u4ee5\u63d0\u524d\u901a\u8fc7\u53d6\u6d88\u51fd\u6570\u8fdb\u884c\u53d6\u6d88\u3002</p> <p><code>WithTimeout</code>\u548c<code>WithDeadline</code>\u57fa\u672c\u4e0a\u4e00\u6837\uff0c\u8fd9\u4e2a\u8868\u793a\u662f\u8d85\u65f6\u81ea\u52a8\u53d6\u6d88\uff0c\u8bbe\u7f6e\u591a\u5c11\u65f6\u95f4\u540e\u81ea\u52a8\u53d6\u6d88 Context\u3002</p> <p><code>WithValue</code>\u51fd\u6570\u548c\u53d6\u6d88 Context \u65e0\u5173\uff0c\u751f\u6210\u4e00\u4e2a\u7ed1\u5b9a\u4e86\u4e00\u4e2a\u952e\u503c\u5bf9\u6570\u636e\u7684 Context\uff0c\u8fd9\u4e2a\u7ed1\u5b9a\u7684\u6570\u636e\u53ef\u4ee5\u901a\u8fc7<code>Context.Value</code>\u65b9\u6cd5\u8bbf\u95ee\u5230</p> <ul> <li>\u4f8b\u5b50</li> </ul> <p>WithCancel</p> <pre><code>func  main() {\n    ctx, cancel  := context.WithCancel(context.Background())\n    go  watch(ctx, \"goroutine 1\")\n    go  watch(ctx, \"goroutine 2\")\n    go  watch(ctx, \"goroutine 3\")\n    time.Sleep(10  * time.Second)\n    fmt.Println(\"\u5f00\u59cb\u7ed3\u675fgoroutine\")\n    cancel()\n    time.Sleep(5  * time.Second)\n    fmt.Println(ctx.Err())\n}\nfunc  watch(ctx context.Context, name string) {\n  for {\n      select {\n      case  &lt;-ctx.Done():\n          fmt.Println(name, \"over\")\n          return\n      default:\n          fmt.Println(name, \"running\")\n          time.Sleep(2  * time.Second)\n      }\n  }\n}\n\n// output:\ngoroutine 1 running\ngoroutine 2 running\ngoroutine 3 running\ngoroutine 1 running\ngoroutine 2 running\ngoroutine 3 running\ngoroutine 1 running\ngoroutine 2 running\ngoroutine 3 running\ngoroutine 2 running\ngoroutine 3 running\ngoroutine 1 running\ngoroutine 3 running\ngoroutine 2 running\ngoroutine 1 running\n\u5f00\u59cb\u7ed3\u675fgoroutine\ngoroutine 1 over\ngoroutine 2 over\ngoroutine 3 over\ncontext canceled\n</code></pre> <p>WithDeadline</p> <pre><code>func  main() {\n    ctx, cancel  := context.WithDeadline(context.Background(), time.Now().Add(5*time.Second))\n    go  watch(ctx, \"goroutine 1\")\n    go  watch(ctx, \"goroutine 2\")\n    go  watch(ctx, \"goroutine 3\")\n    _  = cancel\n    time.Sleep(8  * time.Second)\n    fmt.Println(ctx.Err())\n}\n\nfunc  watch(ctx context.Context, name string) {\n  for {\n      select {\n      case  &lt;-ctx.Done():\n          fmt.Println(name, \"over\")\n          return\n      default:\n          fmt.Println(name, \"running\")\n          time.Sleep(2  * time.Second)\n      }\n  }\n}\n\n// output:\ngoroutine 3 running\ngoroutine 2 running\ngoroutine 1 running\ngoroutine 3 running\ngoroutine 1 running\ngoroutine 2 running\ngoroutine 1 running\ngoroutine 3 running\ngoroutine 2 running\ngoroutine 3 over\ngoroutine 1 over\ngoroutine 2 over\ncontext deadline exceeded\n</code></pre> <p>WithTimeout</p> <pre><code>func  main() {\n    ctx, cancel  := context.WithTimeout(context.Background(), 5*time.Second)\n    go  watch(ctx, \"goroutine 1\")\n    go  watch(ctx, \"goroutine 2\")\n    go  watch(ctx, \"goroutine 3\")\n    _  = cancel\n    time.Sleep(8  * time.Second)\n    fmt.Println(ctx.Err())\n}\n\nfunc  watch(ctx context.Context, name string) {\n  for {\n      select {\n      case  &lt;-ctx.Done():\n          fmt.Println(name, \"over\")\n          return\n      default:\n          fmt.Println(name, \"running\")\n          time.Sleep(2  * time.Second)\n      }\n  }\n}\n\n// output:\ngoroutine 3 running\ngoroutine 1 running\ngoroutine 2 running\ngoroutine 3 running\ngoroutine 2 running\ngoroutine 1 running\ngoroutine 2 running\ngoroutine 1 running\ngoroutine 3 running\ngoroutine 2 over\ngoroutine 3 over\ngoroutine 1 over\ncontext deadline exceeded\n</code></pre> <p>WithValue</p> <pre><code>type  key  int  // \u672a\u5bfc\u51fa\u7684\u5305\u79c1\u6709\u7c7b\u578b\nvar  kkk key =  0\n\nfunc  main() {\n    ctx, cancel  := context.WithCancel(context.Background())\n    // WithValue\u662f\u6ca1\u6709\u53d6\u6d88\u51fd\u6570\u7684\n    ctx  = context.WithValue(ctx, kkk, \"100W\")\n\n    go  watch(ctx, \"goroutine 1\")\n    go  watch(ctx, \"goroutine 2\")\n    go  watch(ctx, \"goroutine 3\")\n\n    time.Sleep(8  * time.Second)\n\n    fmt.Println(\"\u5f00\u59cb\u7ed3\u675fgoroutine\")\n    cancel()\n\n    time.Sleep(3  * time.Second)\n    fmt.Println(ctx.Err())\n}\n\nfunc  watch(ctx context.Context, name string) {\n  for {\n      select {\n      case  &lt;-ctx.Done():\n          fmt.Println(name, \"over\")\n          return\n      default:\n          fmt.Println(name, \"running\", \"\u7238\u7238\u7ed9\u6211\u4e86\", ctx.Value(kkk).(string))\n          time.Sleep(2  * time.Second)\n      }\n  }\n}\n// output:\ngoroutine 1 running \u7238\u7238\u7ed9\u6211\u4e86 100W\ngoroutine 2 running \u7238\u7238\u7ed9\u6211\u4e86 100W\ngoroutine 3 running \u7238\u7238\u7ed9\u6211\u4e86 100W\ngoroutine 2 running \u7238\u7238\u7ed9\u6211\u4e86 100W\ngoroutine 1 running \u7238\u7238\u7ed9\u6211\u4e86 100W\ngoroutine 3 running \u7238\u7238\u7ed9\u6211\u4e86 100W\ngoroutine 1 running \u7238\u7238\u7ed9\u6211\u4e86 100W\ngoroutine 2 running \u7238\u7238\u7ed9\u6211\u4e86 100W\ngoroutine 3 running \u7238\u7238\u7ed9\u6211\u4e86 100W\ngoroutine 1 running \u7238\u7238\u7ed9\u6211\u4e86 100W\ngoroutine 3 running \u7238\u7238\u7ed9\u6211\u4e86 100W\ngoroutine 2 running \u7238\u7238\u7ed9\u6211\u4e86 100W\n\u5f00\u59cb\u7ed3\u675fgoroutine\ngoroutine 2 over\ngoroutine 3 over\ngoroutine 1 running \u7238\u7238\u7ed9\u6211\u4e86 100W\ngoroutine 1 over\ncontext canceled\n</code></pre> <p>\u63a7\u5236\u591a\u4e2a goroutine</p> <pre><code>func  main() {\n    http.HandleFunc(\"/\", func(W http.ResponseWriter, r *http.Request) {\n    fmt.Println(\"\u6536\u5230\u8bf7\u6c42\")\n\n    ctx, cancel  := context.WithCancel(context.Background())\n    go  worker(ctx, 2)\n    go  worker(ctx, 3)\n\n    time.Sleep(time.Second *  10)\n    cancel()\n    fmt.Println(ctx.Err())\n    })\n    http.ListenAndServe(\":9290\", nil)\n}\nfunc  worker(ctx context.Context, speed int) {\n    reader  :=  func(n int) {\n        for {\n            select {\n                case  &lt;-ctx.Done():\n                return\n                default:\n                break\n            }\n            fmt.Println(\"reader:\", n)\n            time.Sleep(time.Duration(n) * time.Second)\n        }\n    }\n\n    go  reader(2)\n    go  reader(1)\n\n    for {\n        select {\n            case  &lt;-ctx.Done():\n            return\n            default:\n            break\n        }\n        fmt.Println(\"worker:\", speed)\n        time.Sleep(time.Duration(speed) * time.Second)\n    }\n}\n\n// output:\n\u6536\u5230\u8bf7\u6c42\nworker: 2\nreader: 1\nworker: 3\nreader: 1\nreader: 2\nreader: 2\nreader: 1\nreader: 1\nreader: 1\nreader: 2\nworker: 2\nreader: 2\nreader: 1\nreader: 1\nreader: 1\nworker: 3\nreader: 1\nworker: 2\nreader: 2\nreader: 1\nreader: 2\nreader: 1\ncontext canceled\n</code></pre> <ul> <li> <p>\u4f7f\u7528\u89c4\u5219   \u4f7f\u7528 Context \u7684\u7a0b\u5e8f\u5e94\u9075\u5faa\u4ee5\u4e0b\u8fd9\u4e9b\u89c4\u5219\u6765\u4fdd\u6301\u8de8\u5305\u63a5\u53e3\u7684\u4e00\u81f4\u548c\u65b9\u4fbf\u9759\u6001\u5206\u6790\u5de5\u5177(go vet)\u6765\u68c0\u67e5\u4e0a\u4e0b\u6587\u4f20\u64ad\u662f\u5426\u6709\u6f5c\u5728\u95ee\u9898\u3002</p> </li> <li> <p>\u4e0d\u8981\u5c06 Context \u5b58\u50a8\u5728\u7ed3\u6784\u7c7b\u578b\u4e2d\uff0c\u800c\u662f\u663e\u5f0f\u7684\u4f20\u9012\u7ed9\u6bcf\u4e2a\u9700\u8981\u7684\u51fd\u6570\uff1b Context \u5e94\u8be5\u4f5c\u4e3a\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u9012\uff0c\u901a\u5e38\u547d\u540d\u4e3a ctx\uff1a</p> <pre><code>    func  DoSomething(ctx context.Context, arg Arg) error {\n    // ... use ctx ...\n}\n</code></pre> </li> <li> <p>\u5373\u4f7f\u51fd\u6570\u53ef\u4ee5\u63a5\u53d7 nil \u503c\uff0c\u4e5f\u4e0d\u8981\u4f20\u9012 nil Context\u3002\u5982\u679c\u4e0d\u786e\u5b9a\u8981\u4f7f\u7528\u54ea\u4e2a Context\uff0c\u8bf7\u4f20\u9012 context.TODO\u3002</p> </li> <li> <p>\u4f7f\u7528 context \u7684 Value \u76f8\u5173\u65b9\u6cd5\u53ea\u5e94\u8be5\u7528\u4e8e\u5728\u7a0b\u5e8f\u548c\u63a5\u53e3\u4e2d\u4f20\u9012\u548c\u8bf7\u6c42\u76f8\u5173\u7684\u5143\u6570\u636e\uff0c\u4e0d\u8981\u7528\u5b83\u6765\u4f20\u9012\u4e00\u4e9b\u53ef\u9009\u7684\u53c2\u6570</p> </li> <li> <p>\u76f8\u540c\u7684 Context \u53ef\u4ee5\u4f20\u9012\u7ed9\u5728\u4e0d\u540c goroutine \u4e2d\u8fd0\u884c\u7684\u51fd\u6570; Context \u5bf9\u4e8e\u591a\u4e2a goroutine \u540c\u65f6\u4f7f\u7528\u662f\u5b89\u5168\u7684\u3002</p> </li> </ul>","tags":["go","goroutine","\u5e76\u53d1"]},{"location":"blog/go-time-rate/","title":"Go Rate\u9650\u6d41\u5668\u4ee3\u7801\u5206\u6790","text":"<p>Go Rate\u9650\u6d41\u5668\u4ee3\u7801\u5206\u6790</p>","tags":["go","golang","rate","\u9650\u6d41\u5668","\u4ee4\u724c\u6876"]},{"location":"blog/go-time-rate/#_1","title":"\u6e90\u7801\u5206\u6790","text":"<pre><code>// Copyright 2015 The Go Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\n\n// Package rate \u57fa\u4e8e\u4ee4\u724c\u6876\u7b97\u6cd5\u5b9e\u73b0\u4e86\u4e00\u4e2a\u901f\u7387\u9650\u5236\u5668\u3002\n// Package rate provides a rate limiter.\npackage rate\n\nimport (\n    \"context\"\n    \"fmt\"\n    \"math\"\n    \"sync\"\n    \"time\"\n)\n\n//  Limit \u5b9a\u4e49\u4e8b\u4ef6\u53d1\u751f\u7684\u6700\u5927\u901f\u7387\uff0c\u4ee3\u8868\u6bcf\u79d2\u4e8b\u4ef6\u53d1\u751f\u7684\u6b21\u6570\u30020\u8868\u793a\u4e8b\u4ef6\u4e0d\u4f1a\u53d1\u751f\n\n// Limit defines the maximum frequency of some events.\n// Limit is represented as number of events per second.\n// A zero Limit allows no events.\ntype Limit float64\n\n// Inf \u4ee3\u8868\u6ca1\u6709\u901f\u7387\u9650\u5236\uff0c\u59cb\u7ec8\u5141\u8bb8\u4e8b\u4ef6\u53d1\u751f\n// Inf is the infinite rate limit; it allows all events (even if burst is zero).\nconst Inf = Limit(math.MaxFloat64)\n\n// Every \u628a\u4e8b\u4ef6\u53d1\u751f\u7684\u6700\u5c0f\u65f6\u95f4\u95f4\u9694\u8f6c\u6362\u4e3aLimit\u53d8\u91cf\n// \u6bd4\u5982interval=5s\uff0c\u8868\u793a5s\u4e00\u6b21\uff0c\u6bcf\u79d2\u7684\u901f\u7387\u4e3a1/5=0.2\n// Every converts a minimum time interval between events to a Limit.\nfunc Every(interval time.Duration) Limit {\n    if interval &lt;= 0 {\n        return Inf\n    }\n    return 1 / Limit(interval.Seconds())\n}\n\n// Limiter \u63a7\u5236\u4e8b\u4ef6\u53d1\u751f\u7684\u9891\u7387\u3002\u5b9e\u73b0\u4e86\u4e00\u4e2a\u5927\u5c0f\u4e3ab\uff0c\u521d\u59cb\u4e3a\u6ee1\uff0c\u6bcf\u79d2\u586b\u5145r\u4e2a\u4ee4\u724c\u7684\u4ee4\u724c\u6876\u3002\n// \u5728\u968f\u4fbf\u4e00\u4e2a\u5f88\u5927\u7684\u65f6\u95f4\u95f4\u9694\u5185\uff0cLimiter\u9650\u5236\u4ee4\u724c\u7684\u4ea7\u751f\u901f\u7387\u4e3a\u6bcf\u79d2r\u4e2a\u4ee4\u724c\uff0c\u540c\u65f6\u53d1\u751f\u7684\u4e8b\u4ef6\u6570\u91cf\u4e3ab\u4e2a\u3002\n// \u5982\u679cr==Inf\uff08\u9884\u5b9a\u7684\u7684\u503c\uff0c\u4ee3\u8868\u65e0\u9650\u5236\u7684\u901f\u7387\uff09\uff0cLimiter\u5ffd\u7565\u540c\u65f6\u53d1\u751f\u7684\u4e8b\u4ef6\u6570\u91cfb\u7684\u503c\u3002\n// \u96f6\u503c\u7684Limiter\u662f\u4e00\u4e2a\u6709\u6548Limiter\uff0c\u4f46\u662f\u4f1a\u62d2\u7edd\u4efb\u4f55\u4e8b\u4ef6\u7684\u53d1\u751f\u3002\u4f7f\u7528NewLimiter\u521b\u5efa\u975e\u96f6\u503c\u7684Limiter\n// Limiter\u6709\u4e09\u4e2a\u4e3b\u8981\u7684\u65b9\u6cd5\uff0cAllow\u3001Reserve\u3001Wait\u3002\u5927\u591a\u6570\u8c03\u7528\u90fd\u5e94\u8be5\u4f7f\u7528Wait\u3002\n// \u8fd9\u4e09\u4e2a\u65b9\u6cd5\u6bcf\u6b21\u90fd\u53ea\u6d88\u8d39\u4e00\u4e2a\u4ee4\u724c\u3002\u4ed6\u4eec\u7684\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u5f53\u4ee4\u724c\u6876\u91cc\u6ca1\u6709\u4ee4\u724c\u65f6\u4e0d\u540c\u884c\u4e3a\uff1a\n// \u5982\u679c\u4ee4\u724c\u6876\u91cc\u6ca1\u6709\u4ee4\u724c\uff0cAllow\u8fd4\u56defalse\n// \u5982\u679c\u4ee4\u724c\u6876\u91cc\u6ca1\u6709\u4ee4\u724c,Reserve\u8fd4\u56de\n\n// A Limiter controls how frequently events are allowed to happen.\n// It implements a \"token bucket\" of size b, initially full and refilled\n// at rate r tokens per second.\n// Informally, in any large enough time interval, the Limiter limits the\n// rate to r tokens per second, with a maximum burst size of b events.\n// As a special case, if r == Inf (the infinite rate), b is ignored.\n// See https://en.wikipedia.org/wiki/Token_bucket for more about token buckets.\n//\n// The zero value is a valid Limiter, but it will reject all events.\n// Use NewLimiter to create non-zero Limiters.\n//\n// Limiter has three main methods, Allow, Reserve, and Wait.\n// Most callers should use Wait.\n//\n// Each of the three methods consumes a single token.\n// They differ in their behavior when no token is available.\n// If no token is available, Allow returns false.\n// If no token is available, Reserve returns a reservation for a future token\n// and the amount of time the caller must wait before using it.\n// If no token is available, Wait blocks until one can be obtained\n// or its associated context.Context is canceled.\n//\n// The methods AllowN, ReserveN, and WaitN consume n tokens.\ntype Limiter struct {\n    mu     sync.Mutex\n    limit  Limit   // \u653e\u5165\u6876\u4e2d\u7684token\u7684\u4ea7\u751f\u901f\u7387\n    burst  int     // \u540c\u4e00\u65f6\u523b\u652f\u6301\u7684\u6700\u5927\u7a81\u53d1\u4e8b\u4ef6\u7684\u6570\u91cf\uff0c\u4e5f\u662f\u4ee4\u724c\u6876\u7684\u6700\u5927\u5bb9\u91cf\n    tokens float64 // token\u7684\u6570\u91cf \u4f7f\u7528float64\u7c7b\u578b\u662f\u56e0\u4e3a\u6307\u5b9a\u65f6\u95f4\u5185\u4ea7\u751f\u7684\u4ee4\u724c\u6570\u91cf\u53ef\u80fd\u4e0d\u662f\u6574\u6570\u4e2a\n    // last\u5b57\u6bb5\u662ftokens\u5b57\u6bb5\u6700\u540e\u4e00\u6b21\u66f4\u65b0\u7684\u65f6\u95f4\n    // last is the last time the limiter's tokens field was updated\n    last time.Time\n    // lastEvent \u4e0a\u4e00\u4e2a\u4e8b\u4ef6\u53d1\u751f\u7684\u65f6\u95f4\n    // lastEvent is the latest time of a rate-limited event (past or future)\n    lastEvent time.Time\n}\n\n// Limit returns the maximum overall event rate.\nfunc (lim *Limiter) Limit() Limit {\n    lim.mu.Lock()\n    defer lim.mu.Unlock()\n    return lim.limit\n}\n\n// Burst returns the maximum burst size. Burst is the maximum number of tokens\n// that can be consumed in a single call to Allow, Reserve, or Wait, so higher\n// Burst values allow more events to happen at once.\n// A zero Burst allows no events, unless limit == Inf.\nfunc (lim *Limiter) Burst() int {\n    lim.mu.Lock()\n    defer lim.mu.Unlock()\n    return lim.burst\n}\n\n//\n// NewLimiter returns a new Limiter that allows events up to rate r and permits\n// bursts of at most b tokens.\nfunc NewLimiter(r Limit, b int) *Limiter {\n    return &amp;Limiter{\n        limit: r,\n        burst: b,\n    }\n}\n\n// Allow \u5224\u65ad\u662f\u5426\u5141\u8bb8\u53d1\u751f\u4e00\u4e2a\u4e8b\u4ef6\n// Allow is shorthand for AllowN(time.Now(), 1).\nfunc (lim *Limiter) Allow() bool {\n    return lim.AllowN(time.Now(), 1)\n}\n\n// AllowN reports whether n events may happen at time now.\n// Use this method if you intend to drop / skip events that exceed the rate limit.\n// Otherwise use Reserve or Wait.\nfunc (lim *Limiter) AllowN(now time.Time, n int) bool {\n    return lim.reserveN(now, n, 0).ok\n}\n\n// Reservation \u4fdd\u5b58\u5728\u4e00\u5b9a\u65f6\u95f4\u5ef6\u8fdf\u540eLimiter\u5141\u8bb8\u6267\u884c\u7684\u4e8b\u4ef6\u4fe1\u606f\u3002\n// Reservation\u53ef\u4ee5\u88ab\u53d6\u6d88\uff0c\u53d6\u6d88\u540eLimiter\u53ef\u4ee5\u6267\u884c\u5269\u4e0b\u7684\u4e8b\u4ef6\u3002\n\n// A Reservation holds information about events that are permitted by a Limiter to \n// happen after a delay.\n// A Reservation may be canceled, which may enable the Limiter to permit additional events.\ntype Reservation struct {\n    ok        bool      // \u4ee4\u724c\u6876\u662f\u5426\u53ef\u4ee5\u63d0\u4f9b\u9700\u8981\u7684\u4ee4\u724c\u6570\u91cf\n    lim       *Limiter  // Limiter\u672c\u7701\n    tokens    int       // \u9884\u5b9a\u7684\u4ee4\u724c\u6570\u91cf\n    timeToAct time.Time // \u4ee4\u724c\u6876\u53ef\u4ee5\u63d0\u4f9b\u6ee1\u8db3\u9700\u8981\u7684\u4ee4\u724c\u6570\u91cf\u7684\u65f6\u95f4\n    // \u9884\u8ba2\u65f6\u7684\u9650\u5236\u901f\u7387\uff0c\u540e\u7eed\u53ef\u4ee5\u6539\u53d8\n    // This is the Limit at reservation time, it can change later.\n    limit Limit\n}\n\n// OK returns whether the limiter can provide the requested number of tokens\n// within the maximum wait time.  If OK is false, Delay returns InfDuration, and\n// Cancel does nothing.\nfunc (r *Reservation) OK() bool {\n    return r.ok\n}\n\n// Delay is shorthand for DelayFrom(time.Now()).\nfunc (r *Reservation) Delay() time.Duration {\n    return r.DelayFrom(time.Now())\n}\n\n// InfDuration is the duration returned by Delay when a Reservation is not OK.\nconst InfDuration = time.Duration(1&lt;&lt;63 - 1)\n\n// DelayFrom \u8fd4\u56de\u6ee1\u8db3\u9884\u5b9a\u6761\u4ef6\u524d\u9884\u5b9a\u6301\u6709\u8005\u5fc5\u987b\u8981\u7b49\u5f85\u7684\u65f6\u95f4\u3002\n// 0\u8868\u793a\u7acb\u523b\u53ef\u4ee5\u6ee1\u8db3\u3002InfDuration\u8868\u793a\u9650\u6d41\u5668\u5728\u6700\u5927\u7684\u7b49\u5f85\u65f6\u95f4\u5185\u65e0\u6cd5\u6ee1\u8db3\u6b64\u6b21\u9884\u8ba2\u7684\u4ee4\u724c\u6570\u91cf\u3002\n// DelayFrom returns the duration for which the reservation holder must wait\n// before taking the reserved action.  Zero duration means act immediately.\n// InfDuration means the limiter cannot grant the tokens requested in this\n// Reservation within the maximum wait time.\nfunc (r *Reservation) DelayFrom(now time.Time) time.Duration {\n    if !r.ok {\n        return InfDuration\n    }\n    delay := r.timeToAct.Sub(now)\n    if delay &lt; 0 {\n        return 0\n    }\n    return delay\n}\n\n// Cancel is shorthand for CancelAt(time.Now()).\nfunc (r *Reservation) Cancel() {\n    r.CancelAt(time.Now())\n    return\n}\n\n// CancelAt \u8868\u793a\u9884\u8ba2\u6301\u6709\u8005\u5c06\u4e0d\u4f1a\u7ee7\u7eed\u4fdd\u7559\u9884\u8ba2\u7684\u4ee4\u724c\uff0c\u5e76\u4e14\u5c3d\u53ef\u80fd\u7684\u5f25\u8865\u6b64\u6b21\u9884\u8ba2\u5bf9\u901f\u7387\u9650\u5236\u7684\u5f71\u54cd\uff0c\n// \u56e0\u4e3a\u4e00\u4e9b\u9884\u8ba2\u7684\u4ee4\u724c\u53ef\u80fd\u5df2\u7ecf\u88ab\u4f7f\u7528\u3002\n// CancelAt indicates that the reservation holder will not perform the reserved action\n// and reverses the effects of this Reservation on the rate limit as much as possible,\n// considering that other reservations may have already been made.\nfunc (r *Reservation) CancelAt(now time.Time) {\n    if !r.ok { // \u9884\u8ba2\u5931\u8d25\u7684\u4e0d\u9700\u7528\u64cd\u4f5c\n        return\n    }\n\n    r.lim.mu.Lock()\n    defer r.lim.mu.Unlock()\n\n    // \u901f\u7387\u65e0\u9650\u5236\u3001\u4ee4\u724c\u6570\u91cf\u4e3a0\u3001\u5df2\u8fc7\u9884\u5b9a\u7b49\u5f85\u65f6\u95f4\u7684\u65e0\u9700\u64cd\u4f5c\n    if r.lim.limit == Inf || r.tokens == 0 || r.timeToAct.Before(now) {\n        return\n    }\n\n    // \u5148\u8ba1\u7b97\u53d6\u6d88\u540elast\u548ctokens\u7684\u503c\n\n    // \u8ba1\u7b97\u9700\u8981\u6062\u590d\u7684\u4ee4\u724c\n    // r.lim.lastEvent\u7684\u503c\u662f\u8fd4\u56deReservation\u5bf9\u8c61\u65f6\u7684\u503c\n    // r.timeToAct\u662f\u6b64\u6b21\u6ee1\u8db3\u9884\u5b9a\u6761\u4ef6\u65f6\u4e8b\u4ef6\u53d1\u751f\u7684\u65f6\u95f4\n    // lastEvent\u59cb\u7ec8\u662f\u5927\u4e8e\u7b49\u4e8e\uff08\u4e5f\u5c31\u662f\u7b49\u4e8e\u6216\u665a\u4e8e\uff09timeToAct\n    // r.lim.lastEvent-r.timeToAct\u8868\u793a\u4ece\u524d\u4e00\u4e2a\u4e8b\u4ef6\u53d1\u751f\u7684\u65f6\u95f4\u5230\u6b64\u6b21\u9884\u8ba2\u6210\u529f\u540e\u4e8b\u4ef6\u53d1\u751f\n    // \u7684\u65f6\u95f4\u4e4b\u95f4\u7684\u5dee\u503c\uff0c\u7136\u540e\u8ba1\u7b97\u5728\u8fd9\u4e2a\u65f6\u95f4\u6bb5\u4ea7\u751f\u4e86\u591a\u5c11\u4ee4\u724c\uff0c\u5373\u5df2\u7ecf\u6d88\u8017\u6389\u7684\u4ee4\u724c\u6570\u91cf\uff0c\n    // \u8fd9\u4e9b\u4ee4\u724c\u4e0d\u9700\u8981\u6062\u590d\n\n    // calculate tokens to restore\n    // The duration between lim.lastEvent and r.timeToAct tells us how many tokens were reserved\n    // after r was obtained. These tokens should not be restored.\n    restoreTokens := float64(r.tokens) - r.limit.tokensFromDuration(r.lim.lastEvent.Sub(r.timeToAct))\n    if restoreTokens &lt;= 0 {\n        return\n    }\n\n    // \u8ba1\u7b97lim\u4e0a\u4e00\u6b21\u4fee\u6539\u4ee4\u724c\u6570\u91cf\u540e\u5230\u73b0\u5728\u5e94\u8be5\u4ea7\u751f\u7684\u4ee4\u724c\u7684\u6570\u91cf\n    // advance time to now\n    now, _, tokens := r.lim.advance(now)\n    // calculate new number of tokens\n    tokens += restoreTokens                            // \u5f53\u524d\u7684\u4ee4\u724c\u6570\u91cf\n    if burst := float64(r.lim.burst); tokens &gt; burst { // \u9650\u5236\u4e0d\u8d85\u8fc7\u6700\u5927\u4ee4\u724c\u6570\u91cf\n        tokens = burst\n    }\n\n    // update state\n    r.lim.last = now\n    r.lim.tokens = tokens\n\n    // \u8ba1\u7b97\u53d6\u6d88\u540elastEvent\u7684\u503c\n    // \u76f8\u7b49\u8bf4\u660e\u9884\u7ea6\u6210\u529f\u540e\u6ca1\u6709\u4efb\u4f55\u4e8b\u4ef6\u53d1\u751f\uff0c\u5373\u6ca1\u5230\u9884\u7ea6\u4e8b\u4ef6\u53d1\u751f\u7684\u65f6\u95f4\n    // \u628areserveN\u51fd\u6570\u91cc\u4fee\u6539\u7684lastEvent\u8fd8\u539f\u4e3areserveN\u8c03\u7528\u524d\u7684\u4e0a\u4e00\u4e2a\u4e8b\u4ef6\u53d1\u751f\u7684\u65f6\u95f4\uff0c\n    // \u5373\u4e0a\u6b21\u8c03\u7528reserveN\u51fd\u6570\u5e76\u4e14\u9884\u8ba2\u6210\u529f\u65f6lastEvent\u7684\u503c\uff0c\u6b64\u6b21\u9884\u8ba2\u6210\u529f\u65f6\u4e8b\u4ef6\u53d1\u751f\u7684\n    // \u65f6\u95f4\u51cf\u53bb\u8be5\u503c\u5c31\u662f\u4ea7\u751f\u6b64\u6b21\u9884\u8ba2\u7684\u4ee4\u724c\u6570\u91cf\u6240\u6d88\u8017\u7684\u65f6\u95f4\u3002\n    // \u6240\u4ee5\u524d\u4e00\u4e2a\u4e8b\u4ef6\u7684\u65f6\u95f4=\u6b64\u6b21\u9884\u8ba2\u6210\u529f\u4e8b\u4ef6\u53d1\u751f\u7684\u65f6\u95f4-\u4ea7\u751f\u6b64\u6b21\u9884\u8ba2\u7684\u4ee4\u724c\u6570\u91cf\u7684\u65f6\u95f4\n    // reserveN\u51fd\u6570timeToAct\u7684\u8ba1\u7b97\u53cd\u64cd\u4f5c\n    if r.timeToAct == r.lim.lastEvent {\n        prevEvent := r.timeToAct.Add(r.limit.durationFromTokens(float64(-r.tokens)))\n        if !prevEvent.Before(now) {\n            r.lim.lastEvent = prevEvent\n        }\n    }\n\n    return\n}\n\n// Reserve is shorthand for ReserveN(time.Now(), 1).\nfunc (lim *Limiter) Reserve() *Reservation {\n    return lim.ReserveN(time.Now(), 1)\n}\n\n// ReserveN returns a Reservation that indicates how long the caller must wait before \n// n events happen.\n// The Limiter takes this Reservation into account when allowing future events.\n// The returned Reservation\u2019s OK() method returns false if n exceeds the Limiter's burst size.\n// Usage example:\n//   r := lim.ReserveN(time.Now(), 1)\n//   if !r.OK() {\n//     // Not allowed to act! Did you remember to set lim.burst to be &gt; 0 ?\n//     return\n//   }\n//   time.Sleep(r.Delay())\n//   Act()\n// Use this method if you wish to wait and slow down in accordance with the rate limit without\n// dropping events.\n// If you need to respect a deadline or cancel the delay, use Wait instead.\n// To drop or skip events exceeding rate limit, use Allow instead.\nfunc (lim *Limiter) ReserveN(now time.Time, n int) *Reservation {\n    r := lim.reserveN(now, n, InfDuration)\n    return &amp;r\n}\n\n// Wait is shorthand for WaitN(ctx, 1).\nfunc (lim *Limiter) Wait(ctx context.Context) (err error) {\n    return lim.WaitN(ctx, 1)\n}\n\n// WaitN blocks until lim permits n events to happen.\n// It returns an error if n exceeds the Limiter's burst size, the Context is\n// canceled, or the expected wait time exceeds the Context's Deadline.\n// The burst limit is ignored if the rate limit is Inf.\nfunc (lim *Limiter) WaitN(ctx context.Context, n int) (err error) {\n    lim.mu.Lock()\n    burst := lim.burst\n    limit := lim.limit\n    lim.mu.Unlock()\n\n    // \u7b49\u5f85\u7684\u4ee4\u724c\u6570\u91cf\u4e3a\u4ec0\u4e48\u4e0d\u53ef\u4ee5\u8d85\u8fc7\u6700\u5927\u4ee4\u724c\u6570\u91cf\uff1f\n    // \u9650\u6d41\u5668\u662f\u4e0d\u963b\u585e\u7684\uff0c\u53ea\u8ba1\u7b97\u5f53\u524d\u662f\u5426\u53ef\u6ee1\u8db3\u9700\u8981\u7684\u4ee4\u724c\u6570\u91cf\uff0c\u5982\u679c\u8d85\u8fc7\u6700\u5927\u503c\uff0c\u5fc5\u5b9a\u8981\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\n    if n &gt; burst &amp;&amp; limit != Inf {\n        return fmt.Errorf(\"rate: Wait(n=%d) exceeds limiter's burst %d\", n, burst)\n    }\n    // Check if ctx is already cancelled\n    select {\n    case &lt;-ctx.Done():\n        return ctx.Err()\n    default:\n    }\n\n    // \u7b49\u5f85\u65f6\u95f4\u4e0d\u80fd\u8d85\u8fc7context\u7684\u622a\u6b62\u65f6\u95f4\n    // Determine wait limit\n    now := time.Now()\n    waitLimit := InfDuration\n    if deadline, ok := ctx.Deadline(); ok {\n        waitLimit = deadline.Sub(now)\n    }\n\n    // \u9884\u5b9a\u6307\u5b9a\u6570\u91cf\u7684\u4ee4\u724c\n    // Reserve\n    r := lim.reserveN(now, n, waitLimit)\n    if !r.ok {\n        return fmt.Errorf(\"rate: Wait(n=%d) would exceed context deadline\", n)\n    }\n    // Wait if necessary\n    delay := r.DelayFrom(now)\n    if delay == 0 {\n        return nil\n    }\n    t := time.NewTimer(delay)\n    defer t.Stop()\n    select {\n    case &lt;-t.C:\n        // We can proceed.\n        return nil\n    case &lt;-ctx.Done():\n        // \u5982\u679c\u5728\u6ee1\u8db3\u9884\u8ba2\u6761\u4ef6\u524d\uff0ccontext\u53d6\u6d88\u4e86\uff0c\u5c31\u53d6\u6d88\u6b64\u6b21\u9884\u8ba2\u3002\n        // Context was canceled before we could proceed.  Cancel the\n        // reservation, which may permit other events to proceed sooner.\n        r.Cancel()\n        return ctx.Err()\n    }\n}\n\n// SetLimit is shorthand for SetLimitAt(time.Now(), newLimit).\nfunc (lim *Limiter) SetLimit(newLimit Limit) {\n    lim.SetLimitAt(time.Now(), newLimit)\n}\n\n// SetLimitAt \u4fee\u6539Limit\u7684\u901f\u7387\u503c\u3002\u5728SetLimitAt\u8c03\u7528\u524d\u4f7f\u7528Reserve\u6216\u8005Wait\u9884\u5b9a\u7684\u5e76\u4e14\u8fd8\u672a\u53d1\u751f\u7684Reservation\n// \u53ef\u80fd\u4e0d\u4f1a\u4f7f\u7528\u5230\u65b0\u7684\u901f\u7387\u548c\u65b0\u7684\u6876\u5927\u5c0f\u3002\n\n// SetLimitAt sets a new Limit for the limiter. The new Limit, and Burst, may be violated\n// or underutilized by those which reserved (using Reserve or Wait) but did not yet act\n// before SetLimitAt was called.\nfunc (lim *Limiter) SetLimitAt(now time.Time, newLimit Limit) {\n    lim.mu.Lock()\n    defer lim.mu.Unlock()\n\n    now, _, tokens := lim.advance(now)\n\n    lim.last = now\n    lim.tokens = tokens\n    lim.limit = newLimit\n}\n\n// SetBurst is shorthand for SetBurstAt(time.Now(), newBurst).\nfunc (lim *Limiter) SetBurst(newBurst int) {\n    lim.SetBurstAt(time.Now(), newBurst)\n}\n\n// SetBurstAt \u8bbe\u7f6eLimiter\u7684\u503c\uff0c\u4e5f\u5c31\u662f\u4ee4\u724c\u6876\u7684\u5927\u5c0f\n\n// SetBurstAt sets a new burst size for the limiter.\nfunc (lim *Limiter) SetBurstAt(now time.Time, newBurst int) {\n    lim.mu.Lock()\n    defer lim.mu.Unlock()\n\n    // \u4fee\u6539\u7684\u540c\u65f6\u66f4\u65b0\u4e00\u4e0b\u5f53\u524d\u65f6\u95f4\u6876\u5185\u7684\u4ee4\u724c\u6570\u91cf\n    now, _, tokens := lim.advance(now)\n\n    lim.last = now\n    lim.tokens = tokens\n    lim.burst = newBurst\n}\n\n// reserveN\u662fAllowN, ReserveN\u548cWaitN\u65b9\u6cd5\u7684\u8f85\u52a9\u65b9\u6cd5\n// maxFutureReserve \u6307\u5b9a\u6700\u5927\u7684\u7b49\u5f85\u65f6\u95f4\n// reserveN\u8fd4\u56deReservation\u7c7b\u578b\u7684\u503c\u800c\u4e0d\u662f\u6307\u9488\uff0c\u8fd9\u6837\u5176\u4ed6\u51fd\u6570\u8c03\u7528\u65f6\u4e0d\u4f1a\u5728\u5806\u4e0a\n// \u5206\u914d\u5185\u5b58\uff08\u4e00\u4e2a\u6307\u9488\u53d8\u91cf\u5927\u5c0f\u7684\u5185\u5b58\uff09\n\n// reserveN is a helper method for AllowN, ReserveN, and WaitN.\n// maxFutureReserve specifies the maximum reservation wait duration allowed.\n// reserveN returns Reservation, not *Reservation, to avoid allocation in AllowN and WaitN.\nfunc (lim *Limiter) reserveN(now time.Time, n int, maxFutureReserve time.Duration) Reservation {\n    lim.mu.Lock()\n\n    // \u5982\u679c\u901f\u7387\u65e0\u9650\u5236\uff0c\u8fd4\u56detrue\uff0c\u8981\u591a\u5c11\u6709\u591a\u5c11\n    if lim.limit == Inf {\n        lim.mu.Unlock()\n        return Reservation{\n            ok:        true,\n            lim:       lim,\n            tokens:    n,\n            timeToAct: now,\n        }\n    }\n\n    // \u8ba1\u7b97\u4ece\u4e0a\u4e00\u6b21\u4ee4\u724c\u53d8\u5316\u5230\u5f53\u524d\u65f6\u95f4\u4ee4\u724c\u7684\u6570\u91cf\n    now, last, tokens := lim.advance(now)\n\n    // \u8ba1\u7b97\u6ee1\u8db3\u9884\u8ba2\u8bf7\u6c42\u540e\u8fd8\u5269\u4f59\u7684\u4ee4\u724c\u6570\u91cf\n    // Calculate the remaining number of tokens resulting from the request.\n    tokens -= float64(n)\n\n    // \u8ba1\u7b97\u9884\u8ba2\u6307\u5b9a\u7684\u4ee4\u724c\u6570\u91cf\u9700\u8981\u7b49\u5f85\u7684\u65f6\u95f4\uff0c\u5982\u679ctokens\u5927\u4e8e0\uff0c\u8868\u793a\u4e0d\u7528\u7b49\u5f85\u3002\n    // \u5982\u679ctokens\u5c0f\u4e8e0\uff0c\u5219\u9700\u8981\u7b49\u5f85\u4ea7\u751ftokens\u4e2a\u4ee4\u724c\u7684\u65f6\u95f4\n    // Calculate the wait duration\n    var waitDuration time.Duration\n    if tokens &lt; 0 {\n        waitDuration = lim.limit.durationFromTokens(-tokens)\n    }\n\n    // \u5982\u679c\u9700\u8981\u7684\u4ee4\u724c\u6570\u91cf\u5927\u4e8e\u4ee4\u724c\u6876\u7684\u6700\u5927\u5bb9\u91cf\uff0c\u5fc5\u5b9a\u662f\u4e0d\u80fd\u4e00\u6b21\u6ee1\u8db3\u7684\n    // \u5982\u679c\u7b49\u5f85\u65f6\u95f4\u5927\u4e8e\u6700\u5927\u7b49\u5f85\u65f6\u95f4\uff0c\u8bf4\u660e\u5728\u6700\u5927\u7b49\u5f85\u65f6\u95f4\u5185\u65e0\u6cd5\u6ee1\u8db3\u9700\u8981\u7684\u4ee4\u724c\u6570\u91cf\n    // Decide result\n    ok := n &lt;= lim.burst &amp;&amp; waitDuration &lt;= maxFutureReserve\n\n    // Prepare reservation\n    r := Reservation{\n        ok:    ok,\n        lim:   lim,\n        limit: lim.limit,\n    }\n    if ok { // \u5982\u679c\u53ef\u4ee5\u63d0\u4f9b\u9700\u8981\u7684\u4ee4\u724c\u6570\u91cf\n        r.tokens = n                        // \u8bb0\u5f55\u9884\u8ba2\u7684\u4ee4\u724c\u6570\u91cf\n        // timetoaction \u8bb0\u5f55\u6ee1\u8db3\u6240\u6709\u9700\u8981\u7684\u4ee4\u724c\u6570\u91cf\u65f6\u7684\u65f6\u95f4\uff0c\u4e5f\u5373\u662f\u6ee1\u8db3\u540e\u4e8b\u4ef6\u53d1\u751f\u7684\u65f6\u95f4\n        r.timeToAct = now.Add(waitDuration) \n    }\n\n    // Update state\n    if ok {\n        lim.last = now              // \u6876\u5185\u4ee4\u724c\u6570\u91cf\u7684\u6539\u53d8\u65f6\u95f4\n        lim.tokens = tokens         // \u5f53\u524d\u6876\u5185\u7684\u4ee4\u724c\u6570\u91cf\n        lim.lastEvent = r.timeToAct // \u6ee1\u8db3\u9884\u8ba2\u9700\u6c42\u540e\u4e8b\u4ef6\u53d1\u751f\u7684\u65f6\u95f4\n    } else {\n        lim.last = last // \u5982\u679c\u9884\u8ba2\u6ee1\u8db3\u4e0d\u4e86\uff0c\u5219\u53ea\u8bb0\u5f55\u6700\u540e\u4e00\u6b21token\u6570\u91cf\u53d8\u5316\u7684\u65f6\u95f4\n    }\n\n    lim.mu.Unlock()\n    return r\n}\n\n// advance \u8ba1\u7b97\u5e76\u8fd4\u56de\u5728\u7ecf\u8fc7\u7684\u65f6\u95f4\u5185lim\u7684\u53d8\u5316\u7ed3\u679c\u503c\uff08token\u6570\u91cf\u7684\u53d8\u5316\u3001\u66f4\u65b0\u65f6\u95f4\uff09\n// lim\u4fdd\u6301\u4e0d\u53d8\uff0c\u8c03\u7528advance\u51fd\u6570\u65f6lim\u9700\u8981\u6301\u6709\u9501\n\n// advance calculates and returns an updated state for lim resulting from the passage of time.\n// lim is not changed.\n// advance requires that lim.mu is held.\nfunc (lim *Limiter) advance(now time.Time) (newNow time.Time, newLast time.Time, newTokens float64) {\n    // \u5982\u679c\u8ba1\u7b97\u7684\u65f6\u95f4\u65e9\u4e8e\u6700\u540e\u4e00\u6b21\u4ee4\u724c\u4fee\u6539\u7684\u65f6\u95f4\n    last := lim.last\n    if now.Before(last) {\n        last = now\n    }\n\n    // \u8ba1\u7b97\u5269\u4e0b\u7684token\u4ea7\u751f\u6240\u9700\u8981\u7684\u6700\u5927\u65f6\u95f4\n    // \u5f53last\u662f\u4e00\u4e2a\u5f88\u4e45\u4e4b\u524d\u7684\u65f6\u95f4\u65f6\uff0c\u907f\u514d\u4f7f\u4e0b\u9762\u7684delta\u53d8\u91cf\u6ea2\u51fa\n    // Avoid making delta overflow below when last is very old.\n    maxElapsed := lim.limit.durationFromTokens(float64(lim.burst) - lim.tokens)\n    elapsed := now.Sub(last) // \u65f6\u95f4\u6bb5\n    if elapsed &gt; maxElapsed {\n        elapsed = maxElapsed\n    }\n\n    // \u8ba1\u7b97\u5728elapsed\u65f6\u95f4\u6bb5\u5185\u4ea7\u751f\u7684token\u6570\u91cf\n    // Calculate the new number of tokens, due to time that passed.\n    delta := lim.limit.tokensFromDuration(elapsed)\n    tokens := lim.tokens + delta\n    if burst := float64(lim.burst); tokens &gt; burst { // token\u6570\u91cf\u6700\u5927\u4e0d\u8d85\u8fc7burst\n        tokens = burst\n    }\n\n    return now, last, tokens\n}\n\n// durationFromTokens \u662f\u4e2a\u5355\u4f4d\u8f6c\u6362\u51fd\u6570\uff0c\u8ba1\u7b97\u4ee5\u6bcf\u79d2limit\u4e2atoken\u7684\u901f\u7387\u4ea7\u751ftokens\u4e2atoken\u7684\u65f6\u95f4\u3002\n// tokens\u652f\u6301\u8d1f\u503c\n\n// durationFromTokens is a unit conversion function from the number of tokens to the duration\n// of time it takes to accumulate them at a rate of limit tokens per second.\nfunc (limit Limit) durationFromTokens(tokens float64) time.Duration {\n    seconds := tokens / float64(limit)\n    return time.Nanosecond * time.Duration(1e9*seconds)\n}\n\n// tokensFromDuration \u662f\u4e2a\u5355\u4f4d\u8f6c\u6362\u51fd\u6570\uff0c\u8ba1\u7b97\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u9694\u95f4\u5185\u4ee5\u6bcf\u79d2limit\u4e2atoken\u7684\u901f\u7387\n// \u4ea7\u751f\u7684token\u6570\u91cf\u3002\n\n// tokensFromDuration is a unit conversion function from a time duration to the number of tokens\n// which could be accumulated during that duration at a rate of limit tokens per second.\nfunc (limit Limit) tokensFromDuration(d time.Duration) float64 {\n    // Split the integer and fractional parts ourself to minimize rounding errors.\n    // See golang.org/issues/34861.\n    sec := float64(d/time.Second) * float64(limit)\n    nsec := float64(d%time.Second) * float64(limit)\n    return sec + nsec/1e9\n}\n</code></pre>","tags":["go","golang","rate","\u9650\u6d41\u5668","\u4ee4\u724c\u6876"]},{"location":"blog/go-time-rate/#_2","title":"\u53c2\u8003\u8d44\u6599","text":"<p>Golang \u9650\u6d41\u5668 time/rate \u5b9e\u73b0\u5256\u6790 Golang \u9650\u6d41\u5668 time/rate \u4f7f\u7528\u4ecb\u7ecd \u4e0d\u5f97\u4e0d\u4e86\u89e3\u7cfb\u5217\u4e4b\u9650\u6d41 How to handle API rate limits: Do your integrations work at scale? Golang rate \u65e0\u6cd5\u5ef6\u8fdf\u91cd\u6392\u7684 BUG</p>","tags":["go","golang","rate","\u9650\u6d41\u5668","\u4ee4\u724c\u6876"]},{"location":"blog/go-type-convert/","title":"golang\u7c7b\u578b\u8f6c\u6362","text":"","tags":["go","golang","\u7c7b\u578b\u8f6c\u6362"]},{"location":"blog/go-type-convert/#int-string","title":"int --&gt; string","text":"<p>\u8f6c\u6362\u51fd\u6570\uff1a</p> <p>fmt.Sprintf\uff1a\u683c\u5f0f\u5316\u8303\u56f4 math.MinInt64 -&gt; math.MaxInt64</p> <p>strconv.Itoa\uff1a\u683c\u5f0f\u5316\u8303\u56f4 math.MinInt64 -&gt; math.MaxInt64</p> <p>strconv.FormatInt\uff1a\u683c\u5f0f\u5316\u8303\u56f4 math.MinInt64 -&gt; math.MaxInt64</p> <p>strconv.FormatUint\uff1a\u683c\u5f0f\u5316\u8303\u56f4 0 -&gt; math.MaxUint64</p> <pre><code>fmt.Sprintf(\"%d\", math.MinInt64)\n// \"-9223372036854775808\"\nfmt.Sprintf(\"%d\", math.MaxInt64)\n// \"9223372036854775807\"\nfmt.Sprintf(\"%d\", math.MaxUint64)\n// constant 18446744073709551615 overflows int\n\nstrconv.Itoa(math.MinInt64)\n// \"-9223372036854775808\"\nstrconv.Itoa(math.MaxInt64)\n// \"9223372036854775807\"\nstrconv.Itoa(math.MaxUint64)\n// constant 18446744073709551615 overflows int\n\nstrconv.FormatInt(math.MinInt64, 10)\n// \"-9223372036854775808\"\nstrconv.FormatInt(math.MaxInt64, 10)\n// \"9223372036854775807\"\nstrconv.FormatInt(math.MaxUint64, 10)\n// constant 18446744073709551615 overflows int64\n\nstrconv.FormatUint(math.MaxUint64, 10)\n// \"18446744073709551615\"\n</code></pre>","tags":["go","golang","\u7c7b\u578b\u8f6c\u6362"]},{"location":"blog/go-type-convert/#string-int","title":"string --&gt; int","text":"<p>\u8f6c\u6362\u51fd\u6570\uff1a</p> <p>fmt.Sscanf\uff1a\u683c\u5f0f\u5316\u8303\u56f4 math.MinInt64 -&gt; math.MaxUint64</p> <p>strconv.ParseInt\uff1a\u683c\u5f0f\u5316\u8303\u56f4 math.MinInt64 -&gt; math.MaxInt64</p> <p>strconv.ParseUint\uff1a\u683c\u5f0f\u5316\u8303\u56f4 0 -&gt; math.MaxUint64</p> <pre><code>var n int\nfmt.Sscanf(\"2147483647\", \"%d\", &amp;n)\n// 2147483647\n\nvar n32 int32\nfmt.Sscanf(\"2147483647\", \"%d\", &amp;n32)\n// 2147483647\n\nvar n64 int64\nfmt.Sscanf(\"-9223372036854775808\", \"%d\", &amp;n64)\n// -9223372036854775808\n\nvar n64_2 int64\nfmt.Sscanf(\"9223372036854775807\", \"%d\", &amp;n64_2)\n// 9223372036854775807\n\nvar un64 uint64\nfmt.Sscanf(\"18446744073709551615\", \"%d\", &amp;un64)\n// 18446744073709551615\n\n//  bitSize 0, 8, 16, 32, \u548c 64\u5206\u522b\u5bf9\u5e94int, int8, int16, int32, \u548c int64\n// math.MaxUint64 18446744073709551615\n// math.MaxInt64 9223372036854775807\nstrconv.ParseInt(\"9223372036854775807\", 10, 64)\n// 9223372036854775807\nstrconv.ParseUint(\"18446744073709551615\", 10, 64)\n// 18446744073709551615\n</code></pre>","tags":["go","golang","\u7c7b\u578b\u8f6c\u6362"]},{"location":"blog/go-type-convert/#float64-string","title":"float64 --&gt; string","text":"<p>float32 \u7c7b\u578b\u7684\u6d6e\u70b9\u6570\u53ef\u4ee5\u63d0\u4f9b\u5927\u7ea6 6 \u4e2a\u5341\u8fdb\u5236\u6570\u7684\u7cbe\u5ea6\uff0c\u800c float64 \u5219\u53ef\u4ee5\u63d0\u4f9b\u7ea6 15 \u4e2a\u5341\u8fdb\u5236\u6570\u7684\u7cbe\u5ea6\uff1b\u901a\u5e38\u5e94\u8be5\u4f18\u5148\u4f7f\u7528 float64 \u7c7b\u578b\uff0c\u56e0\u4e3a float32 \u7c7b\u578b\u7684\u7d2f\u8ba1\u8ba1\u7b97\u8bef\u5dee\u5f88\u5bb9\u6613\u6269\u6563\uff0c\u5e76\u4e14 float32 \u80fd\u7cbe\u786e\u8868\u793a\u7684\u6b63\u6574\u6570\u5e76\u4e0d\u662f\u5f88\u5927\uff08\u8bd1\u6ce8\uff1a\u56e0\u4e3a float32 \u7684\u6709\u6548 bit \u4f4d\u53ea\u6709 23 \u4e2a\uff0c\u5176\u5b83\u7684 bit \u4f4d\u7528\u4e8e\u6307\u6570\u548c\u7b26\u53f7\uff1b\u5f53\u6574\u6570\u5927\u4e8e 23bit \u80fd\u8868\u8fbe\u7684\u8303\u56f4\u65f6\uff0cfloat32 \u7684\u8868\u793a\u5c06\u51fa\u73b0\u8bef\u5dee\uff09\u300aThe Go Programming Language\u300b</p> <p>golang \u6d6e\u70b9\u6570\u820d\u5165\u65b9\u5f0f\u662f\u6309\u7167IEEE 754\u8fdb\u884c\u7684\uff08\u533a\u522b\u4e8e\u56db\u820d\u4e94\u5165\uff09</p> <p>\u8f6c\u6362\u51fd\u6570\uff1astrconv.FormatFloat\u3001fmt.Sprintf</p> <pre><code>var discoutAmount = 49.285\nvar discoutTaxAmount = 296.85\nstrconv.FormatFloat(discoutAmount+discoutTaxAmount, 'f', 2, 64)\n// 346.13\nfmt.Sprintf(\"%.2f\", discoutAmount+discoutTaxAmount)\n// 346.13\nstrconv.FormatFloat(1.45, 'f', 1, 64)\n// 1.4\nstrconv.FormatFloat(1.445, 'f', 2, 64)\n// 1.45\n</code></pre> <p>float64 \u56db\u820d\u4e94\u5165\u8f6c 2 \u4f4d\u5c0f\u6570\u5b57\u7b26\u4e32</p> <pre><code>// java \u5c0f\u6570\u56db\u820d\u4e94\u5165\ndouble  discoutAmount  =  252.945;\ndouble  discoutTaxAmount  =  41.989999999999995;\n// BigDecimal.ROUND_HALF_UP \u56db\u820d\u4e94\u5165\ndouble  price  =  new  BigDecimal(discoutAmount + discoutTaxAmount).setScale(2, BigDecimal.ROUND_HALF_UP).doubleValue();\nSystem.out.println(price);\n// output:\n294.94\n</code></pre> <pre><code>// go \u56db\u820d\u4e94\u5165 \u8f6c3\u4f4d\u5c0f\u6570 *1000\uff09/1000 \u4f9d\u6b21\u7c7b\u63a8\nvar discoutAmount = 252.945\nvar discoutTaxAmount = 41.989999999999995\nprice := math.Round((discoutAmount+discoutTaxAmount)*100) / 100\nfmt.Println(strconv.FormatFloat(price, 'f', 2, 64))\n// 294.94\n</code></pre>","tags":["go","golang","\u7c7b\u578b\u8f6c\u6362"]},{"location":"blog/go-type-convert/#string-float64","title":"string --&gt; float64","text":"<p>\u8f6c\u6362\u51fd\u6570\uff1afmt.Sscanf strconv.ParseFloat</p> <p>strconv.ParseFloat\uff1a\u5982\u679c\u5b57\u7b26\u4e32\u5408\u4e4e\u8bed\u6cd5\u89c4\u5219\uff0c\u51fd\u6570\u4f1a\u8fd4\u56de\u6700\u4e3a\u63a5\u8fd1 s \u8868\u793a\u503c\u7684\u4e00\u4e2a\u6d6e\u70b9\u6570\uff08\u4f7f\u7528 IEEE754 \u89c4\u8303\u820d\u5165\uff09\u3002bitSize \u6307\u5b9a\u4e86\u671f\u671b\u7684\u63a5\u6536\u7c7b\u578b\uff0c32 \u662f float32\uff08\u8fd4\u56de\u503c\u7684\u8d4b\u503c\u7ed9 float32 \u65f6\u53ef\u4ee5\u4e0d\u6539\u53d8\u7cbe\u786e\u5ea6\uff09\uff0c64 \u662f float64\uff1b</p> <pre><code>var f32 float32\nfmt.Sscanf(\"41.989999999999995\", \"%f\", &amp;f32)\n// 41.99\nvar f64 float64\nfmt.Sscanf(\"41.989999999999995\", \"%f\", &amp;f64)\n// 41.989999999999995\n\nstrconv.ParseFloat(\"41.989999999999995\", 64)\n// 41.989999999999995\nstrconv.ParseFloat(\"41.989999999999995\", 32)\n// 41.9900016784668\n</code></pre> <p>\u5907\u6ce8\uff1a</p> <ul> <li>strconv \u5305\u7684\u51fd\u6570\u4e0d\u9700\u8981\u683c\u5f0f\u5316\uff0c\u6bd4 fmt \u5305\u7684\u51fd\u6570\u66f4\u52a0\u9ad8\u6548\u3002</li> </ul>","tags":["go","golang","\u7c7b\u578b\u8f6c\u6362"]},{"location":"blog/go-vscode-remote-development/","title":"VSCode Remote Development-go\u5f00\u53d1\u73af\u5883\u642d\u5efa","text":"","tags":["go","ssh"]},{"location":"blog/go-vscode-remote-development/#vscode","title":"\u5b89\u88c5vscode","text":"<p>\u521a\u5b66\u4e60go\u7684\u65f6\u5019\u4e00\u76f4\u4f7f\u7528\u7684vscode\u5f00\u53d1\uff0c\u8f7b\u5de7\u65b9\u4fbf\u3002\u4f46\u968f\u7740\u5de5\u7a0b\u4ee3\u7801\u91cf\u589e\u52a0\uff0c\u672c\u5730\u4e0b\u8f7d\u7684\u5305\u8d8a\u6765\u8d8a\u591a\uff0c\u4ee3\u7801\u63d0\u793a\u548c\u81ea\u52a8\u8865\u5168\u529f\u80fd\u53d8\u5f97\u8d8a\u6765\u8d8a\u6162\uff0c\u5c31\u8f6c\u5411\u4e86goland\u795eIDE\uff0c\u6253\u5f00\u4e00\u4e2a\u5de5\u7a0b\u5360\u75281.5G\u5185\u5b58\uff0c\u5413\u5f97\u6211\u8d76\u7d27\u53c8\u52a0\u4e868G\u5185\u5b58\uff01\uff01\uff01</p> <p>\u6b63\u5f0f\u7248\u7684vscode\u5df2\u652f\u6301VSCode Remote Development\uff0c\u9644\u4e0avscode\u4e0b\u8f7d\u5730\u5740\uff1aVisual Studio Code\u4e0b\u8f7d\u5730\u5740</p> <p>\u5b89\u88c5\u5b8c\u6210\uff0c\u5b89\u88c5GO\u6269\u5c55\u548cRemote Development\u6269\u5c55\uff0cRemote Development\u6269\u5c55\u5305\u542b\u4e86Remote - SSH\u3001Remote - Containers\u548cRemote - WSL\u4e09\u4e2a\u6269\u5c55\uff0c\u5206\u522b\u7528\u4e8e\u901a\u8fc7ssh\u8fdc\u7a0b\u8fde\u63a5\u3001\u8fde\u63a5docker\u5bb9\u5668\u548c\u8fde\u63a5 Windows Subsystem for Linux (WSL)\u3002</p>","tags":["go","ssh"]},{"location":"blog/go-vscode-remote-development/#ssh","title":"\u672c\u673a\u5b89\u88c5ssh\u5ba2\u6237\u7aef","text":"<p>\u5982\u679c\u5b89\u88c5\u8fc7git\uff0c\u5c31\u4e0d\u9700\u8981\u518d\u8fdb\u884c\u5b89\u88c5</p> <p>\u5177\u4f53\u5b89\u88c5\u8bf4\u660e\u53c2\u7167\uff1aInstalling a supported SSH client</p>","tags":["go","ssh"]},{"location":"blog/go-vscode-remote-development/#remote-ssh","title":"Remote - SSH","text":"<p>Remote - SSH\u5df2\u652f\u6301\u7cfb\u7edf\u7248\u672c\uff1a x86_64 Debian 8+, Ubuntu 16.04+, CentOS / RHEL 7+</p> <p>\u6b63\u5728\u5b9e\u9a8c\u4e2d\u7684\u652f\u6301\u7cfb\u7edf\u7248\u672c\uff1aARMv7l (or ARMv8 in 32-bit mode) Raspbian Stretch/9+ (32-bit) \uff0c\u8fd9\u4e9b\u7cfb\u7edf\u6682\u65f6\u53eaVisual Studio Code Insiders\u63d0\u4f9b\u652f\u6301\u3002</p> <p>\u5177\u4f53\u4f7f\u7528\u8bf4\u660e\u53c2\u7167\uff1aRemote Development using SSH</p>","tags":["go","ssh"]},{"location":"blog/go-vscode-remote-development/#ssh-key","title":"\u4f7f\u7528SSH key\u8ba4\u8bc1\u8fde\u63a5","text":"<ol> <li><code>ctrl+shift+p</code>\u6216\u8005<code>\u83dc\u5355-\u67e5\u770b-\u547d\u4ee4\u9762\u677f</code>\uff0c\u6253\u5f00\u547d\u4ee4\u9762\u677f\uff0c\u8fd0\u884c<code>Remote-SSH: Connect to Host</code>\u547d\u4ee4</li> <li>\u5728\u5f39\u51fa\u7684\u7a97\u53e3\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9<code>Configure SSH Hosts...</code>\uff0c\u56de\u8f66</li> <li>\u5728\u5217\u8868\u91cc\u9009\u62e9\u8981\u4f7f\u7528\u7684SSH\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\uff0c\u56de\u8f66</li> <li>\u5728\u6253\u5f00\u7684\u6587\u4ef6\u91cc\u6dfb\u52a0\u8fdc\u7a0b\u673a\u5668\u4eba\u7684\u914d\u7f6e</li> <li>\u4fdd\u5b58\u540e\u91cd\u65b0\u8fd0\u884c<code>Remote-SSH: Connect to Host</code>\u547d\u4ee4</li> <li>\u5728\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9\u8fdc\u7a0b\u673a\u5668\uff0c\u56de\u8f66</li> <li>\u7b49\u5f85\u8fdc\u7a0b\u673a\u5668\u5b89\u88c5<code>VS Code Server</code>\uff0c\u7a97\u53e3\u5de6\u4e0b\u89d2\u4f1a\u663e\u793a<code>\u8fdc\u7a0b\u6253\u5f00\u4e2d</code></li> <li>\u8fde\u63a5\u6210\u529f\u540e\uff0c\u6253\u5f00vscode\u7684\u8d44\u6e90\u7ba1\u7406\u5668\uff0c\u70b9\u51fb<code>\u6253\u5f00\u6587\u4ef6\u5939</code>\uff0c\u5728\u5f39\u51fa\u7684\u7a97\u53e3\u4e2d\u9009\u62e9\u8981\u6253\u5f00\u7684\u76ee\u5f55\uff0c\u6253\u5f00\u540e\u8be5\u76ee\u5f55\u4e0b\u7684\u5185\u5bb9\u4f1a\u81ea\u52a8\u540c\u6b65\u5230\u6587\u4ef6\u5217\u8868\u91cc\uff0c\u6b22\u5feb\u7684\u64cd\u4f5c\u5427</li> </ol> <p>\u914d\u7f6e\u5185\u5bb9\uff1a <pre><code>    Host example-remote-linux-machine-with-identity-file\n        User your-user-name-on-host\n        HostName another-host-fqdn-or-ip-goes-here\n        IdentityFile ~/.ssh/id_rsa-remote-ssh\n</code></pre></p>","tags":["go","ssh"]},{"location":"blog/go-vscode-remote-development/#_1","title":"\u4f7f\u7528\u7528\u6237\u548c\u5bc6\u7801\u8fde\u63a5","text":"<ol> <li><code>ctrl+shift+p</code>\u6216\u8005<code>\u83dc\u5355-\u67e5\u770b-\u547d\u4ee4\u9762\u677f</code>\uff0c\u6253\u5f00\u547d\u4ee4\u9762\u677f\uff0c\u8fd0\u884c<code>Remote-SSH: Connect to Host</code>\u547d\u4ee4</li> <li>\u5728\u5f39\u51fa\u7684\u7a97\u53e3\u4e2d\u8f93\u5165\u7528\u6237\u540d@\u8fdc\u7a0b\u673a\u5668IP\u5730\u5740\uff1a<code>username@remoteip</code>\uff0c\u56de\u8f66</li> <li>\u5728\u65b0\u6253\u5f00\u7684\u7a97\u53e3\u7684\u547d\u4ee4\u9762\u677f\u4f4d\u7f6e\u586b\u5165\u8fdc\u7a0b\u673a\u5668\u7684ssh\u5bc6\u7801\uff0c\u56de\u8f66</li> <li>\u7b49\u5f85\u8fdc\u7a0b\u673a\u5668\u5b89\u88c5<code>VS Code Server</code>\uff0c\u7a97\u53e3\u5de6\u4e0b\u89d2\u4f1a\u663e\u793a<code>\u8fdc\u7a0b\u6253\u5f00\u4e2d</code></li> <li>\u8fde\u63a5\u6210\u529f\u540e\uff0c\u6253\u5f00vscode\u7684\u8d44\u6e90\u7ba1\u7406\u5668\uff0c\u70b9\u51fb<code>\u6253\u5f00\u6587\u4ef6\u5939</code>\uff0c\u5728\u5f39\u51fa\u7684\u7a97\u53e3\u4e2d\u9009\u62e9\u8981\u6253\u5f00\u7684\u76ee\u5f55\uff0c\u6253\u5f00\u540e\u8be5\u76ee\u5f55\u4e0b\u7684\u5185\u5bb9\u4f1a\u81ea\u52a8\u540c\u6b65\u5230\u6587\u4ef6\u5217\u8868\u91cc\uff0c\u6b22\u5feb\u7684\u64cd\u4f5c\u5427</li> </ol> <p>\u4e5f\u53ef\u4ee5\u628a\u7528\u6237\u540d\u548c\u8fdc\u7a0b\u673a\u5668\u914d\u7f6e\u5728SSH\u914d\u7f6e\u6587\u4ef6\u91cc\uff0c\u8fde\u63a5\u65f6\u9009\u62e9\u8981\u8fde\u63a5\u7684Host\uff0c\u56de\u8f66\u8f93\u5165\u5bc6\u7801\u5c31\u53ef\u4ee5\u4e86 <pre><code>Host example-remote-linux-machine\n    User your-user-name-here\n    HostName host-fqdn-or-ip-goes-here\n</code></pre></p>","tags":["go","ssh"]},{"location":"blog/go-vscode-remote-development/#_2","title":"\u5b89\u88c5\u6269\u5c55\u5230\u8fdc\u7a0b\u673a\u5668","text":"<p>\u7ed9\u8fdc\u7a0b\u673a\u5668\u5b89\u88c5\u7684\u6269\u5c55\uff0c\u9700\u8981\u5148\u5b89\u88c5\u5230\u672c\u5730\uff0c\u7136\u540e\u5728\u6269\u5c55\u5217\u8868\u91cc\u70b9\u51fb<code>Install in SSH:xxx</code>\uff0c\u5b89\u88c5\u5230\u8fdc\u7a0b\u673a\u5668</p>","tags":["go","ssh"]},{"location":"blog/go-vscode-remote-development/#go-tool","title":"\u5b89\u88c5go tool\u5230\u8fdc\u7a0b\u673a\u5668","text":"<ol> <li><code>ctrl+shift+p</code>\u6216\u8005<code>\u83dc\u5355-\u67e5\u770b-\u547d\u4ee4\u9762\u677f</code>\uff0c\u6253\u5f00\u547d\u4ee4\u9762\u677f\uff0c\u8fd0\u884c<code>Go:Install/Update Tools</code>\u547d\u4ee4</li> <li>\u5728\u5f39\u51fa\u7684\u4e0b\u62c9\u5217\u8868\u91cc\u9009\u62e9\u8981\u5b89\u88c5\u7684go tools</li> <li>\u70b9\u51fb<code>\u786e\u5b9a</code>\u5f00\u59cb\u5b89\u88c5</li> <li>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u6b22\u5feb\u7684\u64cd\u4f5c\u5427</li> </ol> <p>\u5982\u679c\u8fdc\u7a0b\u670d\u52a1\u6ca1\u6709go\u7a0b\u5e8f\uff0c\u5b89\u88c5\u7684go tools\u4f1a\u5148\u4e0b\u8f7d\u5230\u672c\u5730\uff0c\u518d\u4f20\u9001\u5230\u8fdc\u7a0b\u673a\u5668\uff0c\u90e8\u5206go tools\u9700\u8981\u7ffb\u5899\u5b89\u88c5\uff0c\u53ea\u9700\u8bbe\u7f6e\u672c\u5730\u4ee3\u7406\u5373\u53ef\u3002</p>","tags":["go","ssh"]},{"location":"blog/go-vscode-remote-development/#_3","title":"\u95ee\u9898\u53ca\u89e3\u51b3\u65b9\u6cd5","text":"<ul> <li>\u8fde\u63a5\u8fdc\u7a0b\u7ec8\u7aef\u65f6\u51fa\u73b0\u4e00\u4e0b\u9519\u8bef</li> </ul> <p><pre><code>Received install output: 16dc5c4c-c0ba-4e71-ae2b-9f44cbe3258d##25##\nServer download failed\nDownloading VS Code Server failed. Please try again later.\n</code></pre> \u8fdc\u7aef\u673a\u5668\u65e0\u6cd5\u4e0b\u8f7dVS Code Server\uff0c\u53ef\u80fd\u7f51\u901f\u592a\u6162\uff08\u5927\u6982\u6709100\u591aM\uff09\u6216\u8005\u7f51\u7edc\u4e0d\u901a vscode github issues\uff1ahttps://github.com/microsoft/vscode-remote-release/issues/78</p> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a</p> <p>1 \u590d\u5236\u5176\u4ed6\u53ef\u7528\u673a\u5668\u4e0a\u7684.vscode-server\u6587\u4ef6\u5939\u5230\u7528\u6237\u76ee\u5f55\u4e0b</p> <p>2 \u8bbe\u7f6e\u4ee3\u7406\u53c2\u7167\u4e00\u4e0b\u94fe\u63a5\uff1a https://github.com/Microsoft/vscode-remote-release/issues/78#issuecomment-491229576</p>","tags":["go","ssh"]},{"location":"blog/go-vscode-remote-development/#_4","title":"\u53c2\u8003\u8d44\u6599","text":"<p>VS Code Remote Development</p>","tags":["go","ssh"]},{"location":"blog/introduction-to-the-temporal/","title":"Temporal \u5206\u5e03\u5f0f\u5e94\u7528\u5f00\u53d1\u5e73\u53f0\u7b80\u4ecb","text":"<p>Temporal \u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u5e94\u7528\u5f00\u53d1\u5e73\u53f0\uff0c\u901a\u8fc7\u6301\u4e45\u6267\u884c\u786e\u4fdd\u5e94\u7528\u5728\u6545\u969c\u65f6\u81ea\u52a8\u6062\u590d\uff0c\u7b80\u5316\u72b6\u6001\u7ba1\u7406\u548c\u9519\u8bef\u5904\u7406\u3002\u652f\u6301\u591a\u8bed\u8a00SDK\uff0c\u63d0\u4f9b\u5de5\u4f5c\u6d41\uff08Workflow\uff09\u548c\u6d3b\u52a8\uff08Activities\uff09\u6a21\u578b\uff0c\u5185\u7f6e\u53ef\u89c1\u6027\u5de5\u5177\uff08UI/CLI\uff09\u548c\u4e8b\u4ef6\u5386\u53f2\u8bb0\u5f55\u3002\u5177\u5907\u9ad8\u53ef\u9760\u6027\u3001\u53ef\u6269\u5c55\u6027\uff0c\u652f\u6301\u672c\u5730\u548c\u4e91\u90e8\u7f72\uff0c\u9002\u7528\u4e8e\u590d\u6742\u4e1a\u52a1\u6d41\u7a0b\u3002</p> <p>Temporal \u89e3\u51b3\u4e86\u5f00\u53d1\u8005\u5728\u6784\u5efa\u5206\u5e03\u5f0f\u5e94\u7528\u7a0b\u5e8f\u65f6\u9762\u4e34\u7684\u8bb8\u591a\u95ee\u9898\u3002\u4f46\u5927\u591a\u6570\u95ee\u9898\u90fd\u56f4\u7ed5\u4ee5\u4e0b\u8fd9\u4e09\u4e2a\u4e3b\u9898</p>","tags":["Temporal","\u5206\u5e03\u5f0f\u7cfb\u7edf","\u5de5\u4f5c\u6d41","\u5fae\u670d\u52a1"]},{"location":"blog/introduction-to-the-temporal/#_1","title":"\u53ef\u9760\u7684\u5206\u5e03\u5f0f\u5e94\u7528\u7a0b\u5e8f","text":"<p>Temporal \u8ba9\u5f00\u53d1\u8005\u80fd\u591f\u66f4\u8f7b\u677e\u5730\u6784\u5efa\u548c\u7ba1\u7406\u53ef\u9760\u4e14\u53ef\u6269\u5c55\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u540c\u65f6\u4e0d\u5f71\u54cd\u751f\u4ea7\u6548\u7387\u3002\u8fd9\u4e2a\u7cfb\u7edf\u7684\u8bbe\u8ba1\u786e\u4fdd\u4e86\u4e00\u65e6\u5e94\u7528\u7a0b\u5e8f\u7684\u4e3b\u8981\u529f\u80fd\u5f00\u59cb\u6267\u884c\uff0c\u65e0\u8bba\u9700\u8981\u51e0\u5206\u949f\u3001\u51e0\u5c0f\u65f6\u3001\u51e0\u5929\u3001\u51e0\u5468\uff0c\u751a\u81f3\u51e0\u5e74\uff0c\u5b83\u90fd\u80fd\u6267\u884c\u5230\u5b8c\u6210\u3002Temporal \u5c06\u8fd9\u79cd\u7279\u6027\u79f0\u4e3a\u6301\u4e45\u6267\u884c\u3002</p> <p>\u5728\u4efb\u4f55\u590d\u6742\u7cfb\u7edf\u4e2d\uff0c\u6545\u969c\u90fd\u4e0d\u53ef\u907f\u514d\u3002\u8f6f\u4ef6\u5de5\u7a0b\u5e08\u82b1\u8d39\u5927\u91cf\u65f6\u95f4\u786e\u4fdd\u4ed6\u4eec\u6240\u6784\u5efa\u7684\u7cfb\u7edf\u80fd\u591f\u627f\u53d7\u6f5c\u5728\u7684\u6545\u969c\u3002Temporal \u9ed8\u8ba4\u4f7f\u60a8\u7684\u4ee3\u7801\u6267\u884c\u53ef\u9760\u4e14\u6301\u4e45\u3002</p> <p>\u901a\u5e38\uff0c\u5982\u679c\u53d1\u751f\u5d29\u6e83\uff0c\u5e94\u7528\u7a0b\u5e8f\u7684\u6267\u884c\u72b6\u6001\u5c06\u4e22\u5931\u3002\u5e94\u7528\u7a0b\u5e8f\u65e0\u6cd5\u8bb0\u4f4f\u6545\u969c\u524d\u53d1\u751f\u7684\u60c5\u51b5\uff0c\u9700\u8981\u5927\u91cf\u7684\u9519\u8bef\u5904\u7406\u903b\u8f91\u548c\u590d\u6742\u7684\u6062\u590d\u4ee3\u7801\u624d\u80fd\u7ee7\u7eed\u3002\u8fd9\u4e00\u8fc7\u7a0b\u65e2\u8017\u65f6\u53c8\u5bb9\u6613\u51fa\u9519\uff0c\u96be\u4ee5\u786e\u4fdd\u53ef\u9760\u6027\u3002</p> <p>Temporal \u8ddf\u8e2a\u5e94\u7528\u7a0b\u5e8f\u7684\u8fdb\u5ea6\u3002\u5982\u679c\u53d1\u751f\u610f\u5916\u60c5\u51b5\uff0c\u5982\u65ad\u7535\uff0c\u5b83\u786e\u4fdd\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u4ece\u4e2d\u65ad\u7684\u5730\u65b9\u7ee7\u7eed\u8fd0\u884c\u2014\u2014\u5c31\u50cf\u62e5\u6709\u7ec8\u6781\u81ea\u52a8\u4fdd\u5b58\u529f\u80fd\u4e00\u6837\uff08\u4ee5 Activity \u4e3a\u91cd\u8bd5\u5355\u5143\uff09\u3002\u5c06\u6545\u969c\u7ba1\u7406\u7684\u8d23\u4efb\u4ece\u5e94\u7528\u7a0b\u5e8f\u8f6c\u79fb\u5230\u5e73\u53f0\uff0c\u51cf\u5c11\u4e86\u5bf9\u5927\u91cf\u6062\u590d\u7f16\u7801\u3001\u6d4b\u8bd5\u548c\u7ef4\u62a4\u4efb\u52a1\u7684\u9700\u6c42\u3002</p> <p>Temporal \u662f\u4e00\u4e2a\u6301\u4e45\u5316\u6267\u884c\u5e73\u53f0\u3002\u6301\u4e45\u5316\u6267\u884c\u901a\u8fc7\u786e\u4fdd\u5e94\u7528\u7a0b\u5e8f\u80fd\u591f\u8fd0\u884c\u81f3\u5b8c\u6210\uff0c\u6765\u4fdd\u8bc1\u5176\u5728\u4e0d\u5229\u6761\u4ef6\u4e0b\u4ecd\u80fd\u6b63\u786e\u8fd0\u884c\u3002\u8fd9\u4e00\u8f6c\u53d8\u7b80\u5316\u4e86\u5f00\u53d1\u8fc7\u7a0b\u3002\u5982\u679c\u53d1\u751f\u6545\u969c\u6216\u5d29\u6e83\uff0c\u60a8\u7684\u4e1a\u52a1\u6d41\u7a0b\u4ecd\u80fd\u65e0\u7f1d\u8fd0\u884c\uff0c\u4e0d\u53d7\u5e72\u6270\u3002\u5f00\u53d1\u8005\u5c06\u6ce8\u610f\u529b\u96c6\u4e2d\u5728\u4e1a\u52a1\u903b\u8f91\u800c\u975e\u57fa\u7840\u8bbe\u65bd\u95ee\u9898\u4e0a\uff0c\u4ece\u800c\u521b\u5efa\u51fa\u5929\u751f\u5177\u5907\u53ef\u6269\u5c55\u6027\u548c\u53ef\u7ef4\u62a4\u6027\u7684\u5e94\u7528\u7a0b\u5e8f\u3002</p> <p>\u6570\u5343\u540d\u5f00\u53d1\u8005\u4fe1\u8d56 Temporal\uff0c\u5c06\u5176\u7528\u4e8e\u8ba2\u5355\u5904\u7406\u3001\u5ba2\u6237\u5165\u804c\u548c\u652f\u4ed8\u5904\u7406\u7b49\u573a\u666f\uff0c\u56e0\u4e3a\u5b83\u80fd\u5e2e\u52a9\u4ed6\u4eec\u6784\u5efa\u575a\u4e0d\u53ef\u6467\u3001\u5177\u5907\u5f39\u6027\u3001\u6301\u4e45\u4e14\u59cb\u7ec8\u53ef\u7528\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u4f7f\u7528 Temporal\uff0c\u65e0\u8bba\u53d1\u751f\u4ec0\u4e48\uff0c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u90fd\u80fd\u6301\u7eed\u8fd0\u884c\u3002</p>","tags":["Temporal","\u5206\u5e03\u5f0f\u7cfb\u7edf","\u5de5\u4f5c\u6d41","\u5fae\u670d\u52a1"]},{"location":"blog/introduction-to-the-temporal/#_2","title":"\u9ad8\u6548\u5f00\u53d1\u8303\u5f0f\u4e0e\u4ee3\u7801\u7ed3\u6784","text":"<p>\u901a\u8fc7\u5c06\u6545\u969c\u5904\u7406\u7684\u8d1f\u62c5\u4ece\u5e94\u7528\u7a0b\u5e8f\u8f6c\u79fb\u5230\u5e73\u53f0\uff0c\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u8005\u9700\u8981\u7f16\u5199\u3001\u6d4b\u8bd5\u548c\u7ef4\u62a4\u7684\u4ee3\u7801\u5c31\u51cf\u5c11\u4e86\u3002Temporal \u7684\u7f16\u7a0b\u6a21\u578b\u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u4e86\u4e00\u79cd\u5c06\u4e1a\u52a1\u903b\u8f91\u8868\u8fbe\u4e3a\u8fde\u8d2f\u5de5\u4f5c\u6d41\u7684\u65b9\u6cd5\uff0c\u8fd9\u6bd4\u5f00\u53d1\u5206\u5e03\u5f0f\u4ee3\u7801\u5e93\u8981\u5bb9\u6613\u5f97\u591a\u3002</p> <p>\u9009\u62e9\u4e0e\u4f60\u504f\u597d\u7684\u7f16\u7a0b\u8bed\u8a00\u6700\u5339\u914d\u7684 SDK\uff0c\u5c31\u53ef\u4ee5\u5f00\u59cb\u7f16\u5199\u4e1a\u52a1\u903b\u8f91\u3002\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u4fdd\u6301\u4f7f\u7528\u559c\u6b22\u7684IDE\u3001\u5e93\u548c\u5de5\u5177\u3002Temporal\u652f\u6301\u591a\u8bed\u8a00\u548c\u7b26\u5408\u8bed\u8a00\u4e60\u60ef\u7684\u7f16\u7a0b\uff0c\u8fd9\u8ba9\u5f00\u53d1\u8005\u53ef\u4ee5\u5229\u7528\u4e0d\u540c\u7f16\u7a0b\u8bed\u8a00\u7684\u4f18\u52bf\uff0c\u5e76\u5c06Temporal\u65e0\u7f1d\u96c6\u6210\u5230\u73b0\u6709\u4ee3\u7801\u4e2d\u3002\u6700\u68d2\u7684\u662f\uff0c\u5f00\u53d1\u8005\u65e0\u9700\u7ba1\u7406\u961f\u5217\u6216\u590d\u6742\u7684\u72b6\u6001\u673a\u6765\u5b9e\u73b0\u8fd9\u4e00\u5207\u3002</p>","tags":["Temporal","\u5206\u5e03\u5f0f\u7cfb\u7edf","\u5de5\u4f5c\u6d41","\u5fae\u670d\u52a1"]},{"location":"blog/introduction-to-the-temporal/#_3","title":"\u53ef\u89c1\u7684\u5206\u5e03\u5f0f\u5e94\u7528\u72b6\u6001","text":"<p>Temporal \u63d0\u4f9b\u4e86\u4e00\u6574\u5957\u5f00\u7bb1\u5373\u7528\u7684\u5de5\u5177\uff0c\u4f7f\u5f00\u53d1\u8005\u53ef\u4ee5\u968f\u65f6\u67e5\u770b\u5e94\u7528\u7a0b\u5e8f\u7684\u72b6\u6001\u3002Temporal CLI\uff08\u547d\u4ee4\u884c\u754c\u9762\uff09\u8ba9\u5f00\u53d1\u8005\u80fd\u591f\u6709\u6548\u5730\u7ba1\u7406\u3001\u76d1\u63a7\u548c\u8c03\u8bd5Temporal \u5e94\u7528\u7a0b\u5e8f\u3002\u57fa\u4e8e\u6d4f\u89c8\u5668\u7684Web UI\uff08\u7528\u6237\u754c\u9762\uff09\u5219\u8ba9\u4f60\u80fd\u591f\u5feb\u901f\u5b9a\u4f4d\u3001\u8c03\u8bd5\u548c\u89e3\u51b3\u751f\u4ea7\u73af\u5883\u4e2d\u7684\u95ee\u9898\u3002</p> <p>Temporal \u63d0\u4f9b\u4e86\u4e00\u79cd\u6784\u5efa\u53ef\u6269\u5c55\u4e14\u53ef\u9760\u5e94\u7528\u7a0b\u5e8f\u7684\u5168\u65b0\u65b9\u5f0f\u3002</p> <p>Temporal \u63d0\u4f9b\u4e86\u8f7b\u677e\u7684\u6301\u4e45\u6027\uff0c\u4f7f\u5e94\u7528\u7a0b\u5e8f\u80fd\u591f\u5728\u5e95\u5c42\u57fa\u7840\u8bbe\u65bd\u53d1\u751f\u6545\u969c\u7684\u60c5\u51b5\u4e0b\uff0c\u6301\u7eed\u8fd0\u884c\u6570\u5929\u3001\u6570\u5468\u751a\u81f3\u6570\u5e74\u800c\u4e0d\u4f1a\u4e2d\u65ad\u3002\u8fd9\u5c31\u662f\u6211\u4eec\u6240\u8bf4\u7684\u6301\u4e45\u6267\u884c\u3002Temporal \u4e5f\u4ee3\u8868\u4e86\u8f6f\u4ef6\u5f00\u53d1\u4e2d\u7684\u8303\u5f0f\u8f6c\u53d8\u3002\u5b83\u4e0d\u4ec5\u4ec5\u662f\u8ba9\u73b0\u6709\u6a21\u5f0f\u66f4\u52a0\u53ef\u9760\uff1b\u5b83\u66f4\u662f\u4e3a\u6784\u5efa\u590d\u6742\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\u5f00\u542f\u4e86\u5168\u65b0\u7684\u65b9\u6cd5\u3002</p> <p>Temporal \u7b80\u5316\u4e86\u72b6\u6001\u7ba1\u7406\uff0c\u5f00\u53d1\u8005\u65e0\u9700\u7f16\u5199\u5927\u91cf\u989d\u5916\u4ee3\u7801\u6765\u5904\u7406\u53ef\u80fd\u51fa\u73b0\u7684\u5404\u79cd\u95ee\u9898\u3002\u51ed\u501f\u5185\u7f6e\u7684\u53ef\u6269\u5c55\u6027\uff0cTemporal \u786e\u4fdd\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u65e0\u8bba\u89c4\u6a21\u5927\u5c0f\u6216\u590d\u6742\u7a0b\u5ea6\u5982\u4f55\uff0c\u90fd\u80fd\u5e73\u7a33\u8fd0\u884c\u3002</p>","tags":["Temporal","\u5206\u5e03\u5f0f\u7cfb\u7edf","\u5de5\u4f5c\u6d41","\u5fae\u670d\u52a1"]},{"location":"blog/introduction-to-the-temporal/#_4","title":"\u6982\u5ff5","text":"","tags":["Temporal","\u5206\u5e03\u5f0f\u7cfb\u7edf","\u5de5\u4f5c\u6d41","\u5fae\u670d\u52a1"]},{"location":"blog/introduction-to-the-temporal/#workflow","title":"Workflow\uff08\u5de5\u4f5c\u6d41\uff09","text":"<p>\u4ece\u6982\u5ff5\u4e0a\u8bb2\uff0cWorkflow \u662f\u4e00\u7cfb\u5217\u6b65\u9aa4\u3002\u60a8\u53ef\u80fd\u5df2\u7ecf\u5728\u65e5\u5e38\u751f\u6d3b\u4e2d\u9047\u5230\u8fc7 Workflow\uff0c\u65e0\u8bba\u662f\uff1a</p> <ul> <li>\u4f7f\u7528\u79fb\u52a8\u5e94\u7528\u7a0b\u5e8f\u8f6c\u8d26</li> <li>\u9884\u8ba2\u5047\u671f</li> <li>\u63d0\u4ea4\u8d39\u7528\u62a5\u544a</li> <li>\u521b\u5efa\u65b0\u5458\u5de5\u5165\u804c\u6d41\u7a0b</li> <li>\u90e8\u7f72\u4e91\u57fa\u7840\u8bbe\u65bd</li> <li>\u8bad\u7ec3 AI \u6a21\u578b</li> </ul> <p>Temporal Workflow \u662f\u60a8\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u4ee5\u4ee3\u7801\u5f62\u5f0f\u5b9a\u4e49\uff0c\u6982\u8ff0\u4e86\u6d41\u7a0b\u4e2d\u7684\u6bcf\u4e2a\u6b65\u9aa4\u3002</p> <p>Temporal \u4e0d\u662f\u4e00\u4e2a\u65e0\u4ee3\u7801\u5de5\u4f5c\u6d41\u5f15\u64ce\u2014\u2014\u5b83\u662f\u4ee3\u7801\u5373\u5de5\u4f5c\u6d41\u3002\u4f60\u65e0\u9700\u5728\u53ef\u89c6\u5316\u754c\u9762\u4e2d\u62d6\u653e\u6b65\u9aa4\uff0c\u800c\u662f\u53ef\u4ee5\u7528\u4f60\u559c\u6b22\u7684\u7f16\u7a0b\u8bed\u8a00\u3001\u4ee3\u7801\u7f16\u8f91\u5668\u548c\u5176\u4ed6\u5de5\u5177\u7f16\u5199\u5de5\u4f5c\u6d41\u4ee3\u7801\u3002\u65e0\u4ee3\u7801\u5f15\u64ce\u6700\u7ec8\u4f1a\u9047\u5230\u5176\u5c40\u9650\u6027\uff0c\u800c Temporal \u5219\u8ba9\u4f60\u5bf9\u4e1a\u52a1\u6d41\u7a0b\u62e5\u6709\u5b8c\u5168\u7684\u63a7\u5236\u548c\u7075\u6d3b\u6027\uff0c\u4ece\u800c\u80fd\u591f\u7cbe\u786e\u6784\u5efa\u4f60\u6240\u9700\u7684\u5185\u5bb9\u3002</p>","tags":["Temporal","\u5206\u5e03\u5f0f\u7cfb\u7edf","\u5de5\u4f5c\u6d41","\u5fae\u670d\u52a1"]},{"location":"blog/introduction-to-the-temporal/#activities","title":"Activities \u6d3b\u52a8","text":"<p>Activities \u662f Workflow \u4e2d\u7684\u72ec\u7acb\u5de5\u4f5c\u5355\u5143\u3002\u6839\u636e\u7f16\u7a0b\u8bed\u8a00\u7684\u4e0d\u540c\uff0cActivities \u88ab\u5b9a\u4e49\u4e3a\u51fd\u6570\u6216\u65b9\u6cd5\u3002Activities \u901a\u5e38\u6d89\u53ca\u4e0e\u5916\u90e8\u4e16\u754c\u7684\u4ea4\u4e92\uff0c\u4f8b\u5982\u53d1\u9001\u7535\u5b50\u90ae\u4ef6\u3001\u53d1\u8d77\u7f51\u7edc\u8bf7\u6c42\u3001\u5199\u5165\u6570\u636e\u5e93\u6216\u8c03\u7528 API\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u5bb9\u6613\u5931\u8d25\u3002\u60a8\u53ef\u4ee5\u76f4\u63a5\u4ece Workflow \u4ee3\u7801\u4e2d\u8c03\u7528 Activities\u3002</p> <p>\u5982\u679c Activity \u5931\u8d25\uff0cTemporal \u4f1a\u6839\u636e\u60a8\u7684\u914d\u7f6e\u81ea\u52a8\u91cd\u8bd5\u3002\u7531\u4e8e Activity \u901a\u5e38\u4f9d\u8d56\u4e8e\u5916\u90e8\u7cfb\u7edf\uff0c\u53ef\u80fd\u4f1a\u53d1\u751f\u77ac\u6001\u95ee\u9898\u3002\u8fd9\u4e9b\u95ee\u9898\u5305\u62ec\u7f51\u7edc\u6545\u969c\u3001\u8d85\u65f6\u6216\u670d\u52a1\u4e2d\u65ad\u7b49\u4e34\u65f6\u4f46\u5173\u952e\u7684\u95ee\u9898\u3002\u60a8\u53ef\u4ee5\u5b8c\u5168\u63a7\u5236\u6bcf\u4e2a Activity \u7684\u91cd\u8bd5\u9891\u7387\u548c\u6b21\u6570\u3002</p>","tags":["Temporal","\u5206\u5e03\u5f0f\u7cfb\u7edf","\u5de5\u4f5c\u6d41","\u5fae\u670d\u52a1"]},{"location":"blog/introduction-to-the-temporal/#sdk","title":"SDK\uff08\u5f00\u53d1\u5de5\u5177\u5305\uff09","text":"<p>\u5f00\u53d1\u8005\u901a\u8fc7\u7f16\u5199\u4ee3\u7801\u6765\u521b\u5efa Temporal \u5e94\u7528\u7a0b\u5e8f\uff0c\u5c31\u50cf\u521b\u5efa\u4efb\u4f55\u5176\u4ed6\u8f6f\u4ef6\u4e00\u6837\u3002</p> <p>Temporal SDK\uff08\u8f6f\u4ef6\u5f00\u53d1\u5de5\u5177\u5305\uff09\u662f\u4e00\u4e2a\u5f00\u6e90\u5e93\uff0c\u5f00\u53d1\u8005\u5c06\u5176\u6dfb\u52a0\u5230\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4ee5\u4f7f\u7528 Temporal\u3002\u5b83\u63d0\u4f9b\u4e86\u5728\u7279\u5b9a\u7f16\u7a0b\u8bed\u8a00\u4e2d\u6784\u5efa\u5de5\u4f5c\u6d41\u3001\u6d3b\u52a8\u4ee5\u53ca\u5404\u79cd\u5176\u4ed6 Temporal \u529f\u80fd\u6240\u9700\u7684\u4e00\u5207\u3002</p> <p>Temporal \u63d0\u4f9b\u516d\u79cd SDK\uff1aJava\u3001Go\u3001TypeScript\u3001.NET\u3001Python \u548c PHP\u3002\u7531\u4e8e Temporal \u652f\u6301\u591a\u79cd\u7f16\u7a0b\u8bed\u8a00\uff0c\u60a8\u53ef\u4ee5\u5728\u591a\u8bed\u8a00\u56e2\u961f\u4e2d\u6df7\u5408\u4f7f\u7528\u8fd9\u4e9b\u8bed\u8a00\u3002\u60a8\u53ef\u4ee5\u8f7b\u677e\u5730\u5c06\u4efb\u4f55 Temporal SDK \u6dfb\u52a0\u5230\u5f53\u524d\u9879\u76ee\u4e2d\uff0c\u800c\u65e0\u9700\u66f4\u6539\u60a8\u5df2\u7ecf\u7528\u4e8e\u6784\u5efa\u548c\u90e8\u7f72\u7684\u5de5\u5177\u3002Temporal \u5b8c\u7f8e\u878d\u5165\u60a8\u73b0\u6709\u7684\u6280\u672f\u6808\u3002</p>","tags":["Temporal","\u5206\u5e03\u5f0f\u7cfb\u7edf","\u5de5\u4f5c\u6d41","\u5fae\u670d\u52a1"]},{"location":"blog/introduction-to-the-temporal/#temporal-servicetemporal","title":"Temporal Service\uff08Temporal \u670d\u52a1\uff09","text":"<p>Temporal \u6709\u4e24\u4e2a\u4e3b\u8981\u90e8\u5206\uff1a</p> <ul> <li>\u5f00\u53d1\u8005\u7f16\u5199\u7684\u5e94\u7528\u7a0b\u5e8f</li> <li>Temporal Service\uff08\u4e00\u7ec4\u670d\u52a1\u548c\u7ec4\u4ef6\uff09</li> </ul> <p>Temporal \u67b6\u6784\u7684\u6838\u5fc3\u662f Temporal Service\uff0c\u5b83\u4e3a\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u6301\u4e45\u6027\u3001\u53ef\u6269\u5c55\u6027\u548c\u53ef\u9760\u6027\u3002\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4e0e Temporal Service \u901a\u4fe1\uff0cTemporal Service \u8d1f\u8d23\u76d1\u7763\u5173\u952e\u4efb\u52a1\u7684\u6267\u884c\uff0c\u4f8b\u5982\u8fdb\u884c API \u8c03\u7528\uff0c\u7136\u540e\u8bb0\u5f55\u5b83\u4eec\u7684\u5b8c\u6210\u60c5\u51b5\u3002\u5b83\u7ef4\u62a4\u6bcf\u4e2a\u4e8b\u4ef6\u7684\u8be6\u7ec6\u5386\u53f2\u8bb0\u5f55\uff0c\u5e76\u53ef\u9760\u5730\u5c06\u5176\u6301\u4e45\u5316\u5230\u6570\u636e\u5e93\u4e2d\u3002</p> <p>Temporal Service \u7684\u6700\u5927\u4f18\u52bf\u4e4b\u4e00\u5728\u4e8e\u5176\u5904\u7406\u6545\u969c\u7684\u65b9\u5f0f\u3002Temporal Service \u4f1a\u8be6\u7ec6\u8bb0\u5f55\u60a8\u5de5\u4f5c\u6d41\u4e2d\u7684\u6bcf\u4e00\u6b65\u3002\u901a\u8fc7\u4fdd\u7559\u5de5\u4f5c\u6d41\u4e2d\u6bcf\u4e00\u6b65\u7684\u5386\u53f2\u8bb0\u5f55\uff0c\u5b83\u786e\u4fdd\u5373\u4f7f\u51fa\u73b0\u95ee\u9898\uff0c\u60a8\u7684\u5de5\u4f5c\u6d41\u4e5f\u53ef\u4ee5\u4ece\u6700\u540e\u4e00\u4e2a\u6210\u529f\u70b9\u7ee7\u7eed\u3002Temporal Service \u786e\u5207\u77e5\u9053\u4ece\u54ea\u91cc\u6062\u590d\uff0c\u800c\u4e0d\u4f1a\u4e22\u5931\u4efb\u4f55\u5de5\u4f5c\u3002\u8fd9\u4f7f\u60a8\u65e0\u9700\u81ea\u5df1\u7f16\u5199\u590d\u6742\u7684\u9519\u8bef\u5904\u7406\u4ee3\u7801\u6216\u7e41\u7410\u7684\u6062\u590d\u673a\u5236\u3002</p> <p>\u60a8\u53ef\u4ee5\u5728\u81ea\u5df1\u7684\u57fa\u7840\u8bbe\u65bd\u4e0a\u8fd0\u884c Temporal Service\uff0c\u6216\u4f7f\u7528 Temporal Cloud\uff0c\u8fd9\u662f\u4e00\u79cd\u6258\u7ba1\u670d\u52a1\uff0c\u53ef\u5904\u7406\u8fd0\u7ef4\u8d1f\u62c5\u5e76\u63d0\u4f9b\u53ef\u6269\u5c55\u6027\u548c\u4e13\u5bb6\u652f\u6301\u3002</p>","tags":["Temporal","\u5206\u5e03\u5f0f\u7cfb\u7edf","\u5de5\u4f5c\u6d41","\u5fae\u670d\u52a1"]},{"location":"blog/introduction-to-the-temporal/#workers","title":"Workers\uff08\u6267\u884c\u5668\uff09","text":"<p>Temporal \u7684\u771f\u6b63\u80fd\u529b\u6e90\u81ea\u5f00\u53d1\u8005\u7f16\u5199\u7684\u5e94\u7528\u7a0b\u5e8f\u4e0e Temporal \u670d\u52a1\u7684\u7ed3\u5408\u3002\u6bcf\u5f53\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u6267\u884c\u4efb\u52a1\uff0c\u5982\u53d1\u9001\u901a\u77e5\u6216\u5904\u7406\u652f\u4ed8\u65f6\uff0cTemporal \u670d\u52a1\u4fbf\u4f1a\u534f\u8c03\u6240\u9700\u5b8c\u6210\u7684\u5de5\u4f5c\u3002\u7531 Temporal SDK \u63d0\u4f9b\u5e76\u4f5c\u4e3a\u60a8\u5e94\u7528\u7a0b\u5e8f\u4e00\u90e8\u5206\u7684 Workers\uff0c\u968f\u540e\u6267\u884c\u5728\u60a8\u7684\u5de5\u4f5c\u6d41\u4e2d\u5b9a\u4e49\u7684\u4efb\u52a1\u3002</p> <p>Worker \u8f6e\u8be2 Temporal Service \u4ee5\u67e5\u770b\u662f\u5426\u6709\u53ef\u7528\u4efb\u52a1\uff0cTemporal Service \u5c06\u4efb\u52a1\u4e0e Worker \u5339\u914d\u3002Worker \u6839\u636e\u4efb\u52a1\u4e2d\u6307\u5b9a\u7684\u8be6\u7ec6\u4fe1\u606f\u8fd0\u884c Workflow \u4ee3\u7801\u3002</p> <p>\u6b64\u6b21\u5408\u4f5c\u5bf9\u4e8e\u6784\u5efa\u53ef\u9760\u3001\u53ef\u6269\u5c55\u4e14\u6301\u4e45\u7684\u5e94\u7528\u7a0b\u5e8f\u81f3\u5173\u91cd\u8981\u3002\u60a8\u53ef\u4ee5\u8fd0\u884c\u591a\u4e2a Workers\u2014\u2014\u901a\u5e38\u662f\u51e0\u5341\u4e2a\u3001\u51e0\u767e\u4e2a\uff0c\u751a\u81f3\u51e0\u5343\u4e2a\u2014\u2014\u4ee5\u63d0\u5347\u5e94\u7528\u7a0b\u5e8f\u7684\u6027\u80fd\u548c\u53ef\u6269\u5c55\u6027\u3002</p> <p>\u4e00\u4e2a\u5e38\u89c1\u7684\u8bef\u89e3\u662f Temporal Service \u8fd0\u884c\u4f60\u7684\u4ee3\u7801\u3002\u5b9e\u9645\u4e0a\uff0cWorker \u8fd0\u884c\u4f60\u7684\u4ee3\u7801\u5e76\u76f4\u63a5\u5904\u7406\u4f60\u7684\u6570\u636e\u3002Temporal \u5e94\u7528\u7a0b\u5e8f\u5728\u8bbe\u8ba1\u4e0a\u662f\u5b89\u5168\u7684\u3002\u5de5\u4f5c\u6d41\u548c\u6d3b\u52a8\u65e0\u7f1d\u90e8\u7f72\u5728\u4f60\u7684\u57fa\u7840\u8bbe\u65bd\u5185\uff0c\u5b8c\u5168\u96c6\u6210\u5230\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\u3002\u4f60\u7684\u6570\u636e\u4e5f\u901a\u8fc7\u4f60\u7684\u52a0\u5bc6\u5e93\u548c\u5bc6\u94a5\u5f97\u5230\u4fdd\u62a4\u3002\u4f60\u4ece\u5934\u5230\u5c3e\u90fd\u5b8c\u5168\u638c\u63a7\u7740\u5e94\u7528\u7a0b\u5e8f\u7684\u5b89\u5168\u6027\u3002</p>","tags":["Temporal","\u5206\u5e03\u5f0f\u7cfb\u7edf","\u5de5\u4f5c\u6d41","\u5fae\u670d\u52a1"]},{"location":"blog/introduction-to-the-temporal/#visibility","title":"Visibility \u53ef\u89c1\u6027","text":"<p>Temporal \u63d0\u4f9b\u4e86\u4e24\u79cd\u5de5\u5177\uff0c\u8ba9\u60a8\u80fd\u591f\u6df1\u5165\u4e86\u89e3\u5e55\u540e\u60c5\u51b5\u5e76\u4e0e\u60a8\u7684\u5de5\u4f5c\u6d41\u8fdb\u884c\u4ea4\u4e92\u3002\u8fd9\u4e9b\u5de5\u5177\u5728\u8c03\u8bd5\u65b9\u9762\u975e\u5e38\u5f3a\u5927\uff0c\u5e76\u80fd\u4e3a\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u5b9e\u65f6\u76d1\u63a7\u3002</p>","tags":["Temporal","\u5206\u5e03\u5f0f\u7cfb\u7edf","\u5de5\u4f5c\u6d41","\u5fae\u670d\u52a1"]},{"location":"blog/introduction-to-the-temporal/#temporal-ui","title":"Temporal UI","text":"<p>Temporal UI \u662f\u4e00\u4e2a\u57fa\u4e8e\u6d4f\u89c8\u5668\u7684\u7528\u6237\u754c\u9762\uff0c\u5141\u8bb8\u60a8\u67e5\u770b\u5e94\u7528\u7a0b\u5e8f\u7684\u8fdb\u5ea6\u3002\u5b83\u4e5f\u88ab\u79f0\u4e3a Web UI\uff0c\u8fd8\u53ef\u4ee5\u5e2e\u52a9\u60a8\u5feb\u901f\u9694\u79bb\u3001\u8c03\u8bd5\u548c\u89e3\u51b3\u751f\u4ea7\u95ee\u9898\u3002</p> <p>\u5de5\u4f5c\u6d41\u9875\u9762</p> <p></p>","tags":["Temporal","\u5206\u5e03\u5f0f\u7cfb\u7edf","\u5de5\u4f5c\u6d41","\u5fae\u670d\u52a1"]},{"location":"blog/introduction-to-the-temporal/#temporal-cli","title":"Temporal CLI","text":"<p>Temporal CLI \u662f\u4e00\u4e2a\u547d\u4ee4\u884c\u754c\u9762\u5de5\u5177\uff0c\u7528\u4e8e\u7ba1\u7406\u3001\u76d1\u63a7\u548c\u8c03\u8bd5 Temporal \u5e94\u7528\u7a0b\u5e8f\u3002\u901a\u8fc7\u7ec8\u7aef\uff0c\u60a8\u53ef\u4ee5\uff1a</p> <ul> <li>\u542f\u52a8\u5de5\u4f5c\u6d41</li> <li>\u8ddf\u8e2a\u5de5\u4f5c\u6d41\u7a0b\u7684\u8fdb\u5ea6</li> <li>\u53d6\u6d88\u6216\u7ec8\u6b62\u5de5\u4f5c\u6d41</li> <li>\u5e76\u6267\u884c\u5176\u4ed6\u64cd\u4f5c</li> </ul> <p>Temporal CLI \u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u4e86\u76f4\u63a5\u8bbf\u95ee Temporal \u670d\u52a1\u7684\u529f\u80fd\uff0c\u4fbf\u4e8e\u672c\u5730\u5f00\u53d1\u4f7f\u7528\u3002</p>","tags":["Temporal","\u5206\u5e03\u5f0f\u7cfb\u7edf","\u5de5\u4f5c\u6d41","\u5fae\u670d\u52a1"]},{"location":"blog/introduction-to-the-temporal/#event-history","title":"Event History\uff08\u4e8b\u4ef6\u5386\u53f2\uff09","text":"<p>\u501f\u52a9 Temporal\uff0c\u60a8\u7684\u5de5\u4f5c\u6d41\u53ef\u4ee5\u4ece\u5d29\u6e83\u4e2d\u65e0\u7f1d\u6062\u590d\u3002\u8fd9\u5f97\u76ca\u4e8e\u4e8b\u4ef6\u5386\u53f2\u8bb0\u5f55\uff0c\u5b83\u5b8c\u6574\u4e14\u6301\u4e45\u5730\u8bb0\u5f55\u4e86\u5de5\u4f5c\u6d41\u6267\u884c\u751f\u547d\u5468\u671f\u4e2d\u53d1\u751f\u7684\u4e00\u5207\uff0c\u4ee5\u53ca Temporal \u670d\u52a1\u5728\u91cd\u653e\u671f\u95f4\u6301\u4e45\u4fdd\u5b58\u4e8b\u4ef6\u7684\u80fd\u529b\u3002</p> <p>Temporal \u4f7f\u7528\u4e8b\u4ef6\u5386\u53f2\u8bb0\u5f55\u6765\u8bb0\u5f55\u8fc7\u7a0b\u4e2d\u7684\u6bcf\u4e00\u6b65\u3002\u6bcf\u5f53\u60a8\u7684\u5de5\u4f5c\u6d41\u5b9a\u4e49\u901a\u8fc7 API \u8c03\u7528\u6267\u884c\u6d3b\u52a8\u6216\u542f\u52a8\u8ba1\u65f6\u5668\u65f6\uff0c\u5b83\u5e76\u4e0d\u4f1a\u76f4\u63a5\u6267\u884c\u8be5\u64cd\u4f5c\uff0c\u800c\u662f\u5411 Temporal \u670d\u52a1\u53d1\u9001\u4e00\u4e2a\u547d\u4ee4\u3002</p> <p>Command \u662f Worker \u5728 Workflow Task Execution \u5b8c\u6210\u540e\u5411 Temporal Service \u53d1\u51fa\u7684\u8bf7\u6c42\u64cd\u4f5c\u3002Temporal Service \u5c06\u6839\u636e\u8fd9\u4e9b Command \u6267\u884c\u64cd\u4f5c\uff0c\u4f8b\u5982\u8c03\u5ea6 Activity \u6216\u8bbe\u7f6e\u8ba1\u65f6\u5668\u3002\u8fd9\u4e9b Command \u968f\u540e\u88ab\u6620\u5c04\u4e3a Event\uff0c\u5e76\u5728\u53d1\u751f\u6545\u969c\u65f6\u6301\u4e45\u5316\u3002\u4f8b\u5982\uff0c\u5982\u679c Worker \u5d29\u6e83\uff0cWorker \u4f1a\u4f7f\u7528 Event History \u91cd\u653e\u4ee3\u7801\u5e76\u91cd\u65b0\u521b\u5efa Workflow Execution \u7684\u72b6\u6001\uff0c\u4f7f\u5176\u6062\u590d\u5230\u5d29\u6e83\u524d\u7684\u72b6\u6001\u3002\u7136\u540e\uff0c\u5b83\u4f1a\u4ece\u6545\u969c\u70b9\u7ee7\u7eed\u6267\u884c\uff0c\u5c31\u50cf\u6545\u969c\u4ece\u672a\u53d1\u751f\u8fc7\u4e00\u6837\u3002</p>","tags":["Temporal","\u5206\u5e03\u5f0f\u7cfb\u7edf","\u5de5\u4f5c\u6d41","\u5fae\u670d\u52a1"]},{"location":"blog/introduction-to-the-temporal/#_5","title":"\u7279\u6027","text":"<p>\u901a\u8fc7 Temporal SDK\uff0cTemporal \u63d0\u4f9b\u4e86\u5e7f\u6cdb\u7684\u529f\u80fd\uff0c\u4f7f\u5f00\u53d1\u8005\u80fd\u591f\u6784\u5efa\u9002\u7528\u4e8e\u5404\u79cd\u7528\u4f8b\u7684\u5e94\u7528\u7a0b\u5e8f\u3002</p> <ul> <li>\u6838\u5fc3\u5e94\u7528\u539f\u8bed\uff1a \u4f7f\u7528 Workflows\u3001Activities \u548c Workers \u5f00\u53d1\u548c\u8fd0\u884c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u3002</li> <li>\u6d4b\u8bd5\u5957\u4ef6\uff1a \u6bcf\u4e2a Temporal SDK \u90fd\u9644\u5e26\u4e00\u4e2a\u6d4b\u8bd5\u5957\u4ef6\uff0c\u4f7f\u5f00\u53d1\u8005\u80fd\u591f\u50cf\u6d4b\u8bd5\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f\u4e00\u6837\u6d4b\u8bd5\u4ed6\u4eec\u7684\u5e94\u7528\u3002</li> <li>\u53ef\u8c03\u5ea6\u5de5\u4f5c\u6d41\uff1a \u5728\u7279\u5b9a\u65f6\u95f4\u6216\u6309\u6307\u5b9a\u7684\u65f6\u95f4\u95f4\u9694\u542f\u52a8\u4e1a\u52a1\u6d41\u7a0b\u3002</li> <li>\u53ef\u4e2d\u65ad\u5de5\u4f5c\u6d41\uff1a \u53d6\u6d88\u6216\u7ec8\u6b62\u5df2\u5728\u8fdb\u884c\u4e2d\u7684\u4e1a\u52a1\u6d41\u7a0b\uff08Workflow\uff09\uff0c\u5e76\u5bf9\u5df2\u6267\u884c\u7684\u6b65\u9aa4\u8fdb\u884c\u8865\u507f\u3002</li> <li>\u8fd0\u884c\u65f6\u4fdd\u969c\u63aa\u65bd\uff1a \u9632\u6b62\u5728\u8fd0\u884c\u65f6\u6267\u884c\u53ef\u907f\u514d\u7684\u9519\u8bef\u548c\u95ee\u9898\u3002</li> <li>\u6545\u969c\u68c0\u6d4b\u4e0e\u7f13\u89e3\uff1a \u901a\u8fc7\u8d85\u65f6\u673a\u5236\u68c0\u6d4b\u6545\u969c\uff0c\u5e76\u914d\u7f6e\u81ea\u52a8\u91cd\u8bd5\u4ee5\u7f13\u89e3\u95ee\u9898\u3002</li> <li>Temporal Nexus\uff1a \u8fde\u63a5\u8de8\uff08\u53ca\u5185\u90e8\uff09\u9694\u79bb\u547d\u540d\u7a7a\u95f4\u7684 Temporal \u5e94\u7528\u7a0b\u5e8f\uff0c\u4ee5\u63d0\u5347\u6a21\u5757\u5316\u3001\u5b89\u5168\u6027\u3001\u8c03\u8bd5\u548c\u6545\u969c\u9694\u79bb\u80fd\u529b\u3002Nexus \u652f\u6301\u8de8\u56e2\u961f\u3001\u8de8\u9886\u57df\u548c\u591a\u533a\u57df\u7684\u4f7f\u7528\u573a\u666f\u3002</li> <li>\u5de5\u4f5c\u6d41\u6d88\u606f\u4f20\u9012\uff1a \u6784\u5efa\u54cd\u5e94\u5f0f\u5e94\u7528\u7a0b\u5e8f\uff0c\u5728\u8fd0\u884c\u65f6\u5bf9\u4e8b\u4ef6\u4f5c\u51fa\u53cd\u5e94\uff0c\u5e76\u4ece\u6b63\u5728\u8fdb\u884c\u7684\u5de5\u4f5c\u6d41\u4e2d\u5b9e\u73b0\u6570\u636e\u68c0\u7d22\u3002</li> <li>\u7248\u672c\u63a7\u5236\uff1a \u652f\u6301\u4e3a\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u4e1a\u52a1\u6d41\u7a0b\u63d0\u4f9b\u591a\u4e2a\u7248\u672c\u7684\u4e1a\u52a1\u903b\u8f91\u3002</li> <li>\u53ef\u89c2\u6d4b\u6027\uff1a \u5217\u51fa\u4e1a\u52a1\u6d41\u7a0b\uff0c\u67e5\u770b\u5176\u72b6\u6001\uff0c\u5e76\u8bbe\u7f6e\u5305\u542b\u6307\u6807\u7684\u4eea\u8868\u677f\u3002</li> <li>\u8c03\u8bd5\uff1a \u53d1\u73b0\u8868\u9762\u9519\u8bef\u5e76\u9010\u6b65\u68c0\u67e5\u4ee3\u7801\u4ee5\u627e\u5230\u95ee\u9898\u3002</li> <li>\u6570\u636e\u52a0\u5bc6\uff1a \u8f6c\u6362\u6570\u636e\u5e76\u4fdd\u62a4\u5e94\u7528\u7a0b\u5e8f\u7528\u6237\u7684\u9690\u79c1\u3002</li> <li>\u541e\u5410\u91cf\u53ef\u7ec4\u5408\u6027\uff1a \u6309\u6570\u636e\u6d41\u3001\u56e2\u961f\u6240\u6709\u6743\u6216\u5176\u4ed6\u7ec4\u7ec7\u56e0\u7d20\u62c6\u5206\u4e1a\u52a1\u6d41\u7a0b\u3002</li> <li>\u4e91\u81ea\u52a8\u5316\uff1a \u901a\u8fc7 Temporal \u7684\u4e91\u81ea\u52a8\u5316\u7b80\u5316\u4e91\u7ba1\u7406\u5e76\u63d0\u5347\u5b89\u5168\u6027\u3002</li> <li>\u4f4e\u5ef6\u8fdf\uff1a \u8ba9\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u66f4\u5feb\u3001\u6027\u80fd\u66f4\u5f3a\u3001\u6548\u7387\u66f4\u9ad8\u3002</li> <li>\u591a\u79df\u6237\uff1a \u63d0\u9ad8\u6548\u7387\u548c\u6210\u672c\u6548\u76ca\u3002</li> </ul>","tags":["Temporal","\u5206\u5e03\u5f0f\u7cfb\u7edf","\u5de5\u4f5c\u6d41","\u5fae\u670d\u52a1"]},{"location":"blog/introduction-to-the-temporal/#_6","title":"\u90e8\u7f72","text":"<p>Temporal \u63d0\u4f9b\u4e86\u6536\u8d39\u7684\u5728\u7ebf\u6258\u7ba1\uff0c\u4e5f\u652f\u6301\u90e8\u7f72\u672c\u5730\u5f00\u53d1\u73af\u5883\u548c Docker \u65b9\u5f0f\u7684\u79c1\u6709\u90e8\u7f72\u3002Temporal \u6709\u591a\u79cd\u79c1\u6709\u90e8\u7f72\u65b9\u5f0f\uff0c\u6839\u636e\u4f7f\u7528\u573a\u666f\u548c\u90e8\u7f72\u4f4d\u7f6e\u6765\u9009\u4e0d\u540c\u7684\u90e8\u7f72\u65b9\u5f0f\u3002</p> <p>\u4ee5 Docker Compose \u65b9\u5f0f\u90e8\u7f72\u4e3e\u4f8b\uff1a</p> <ol> <li>\u514b\u9686 temporalio/docker-compose \u4ed3\u5e93</li> <li>\u5728\u4ed3\u5e93\u6839\u76ee\u5f55\u8fd0\u884c <code>docker compose up</code> \u547d\u4ee4\uff0c\u540e\u53f0\u8fd0\u884c\u8bf7\u6dfb\u52a0 <code>-d</code> \u53c2\u6570</li> </ol> <pre><code>git clone https://github.com/temporalio/docker-compose.git\ncd docker-compose\ndocker compose up # -d\n</code></pre>","tags":["Temporal","\u5206\u5e03\u5f0f\u7cfb\u7edf","\u5de5\u4f5c\u6d41","\u5fae\u670d\u52a1"]},{"location":"blog/introduction-to-the-temporal/#_7","title":"\u6545\u969c\u6392\u9664","text":"","tags":["Temporal","\u5206\u5e03\u5f0f\u7cfb\u7edf","\u5de5\u4f5c\u6d41","\u5fae\u670d\u52a1"]},{"location":"blog/introduction-to-the-temporal/#missing-csrf-token-in-request-header","title":"missing csrf token in request header","text":"<p>\u521b\u5efa\u8c03\u5ea6\u5668\u7684\u65f6\u9875\u9762\u4e0a\u663e\u793a <code>missing csrf token in request header</code>\uff0c\u539f\u56e0\u662f\uff1a</p> <ul> <li>temporal \u6258\u7ba1\u5730\u5740\u4e0d\u662f localhost</li> <li>UI \u540e\u53f0\u901a\u8fc7HTTP\u8bbf\u95ee\uff0c\u800c\u4e0d\u662fHTTPS</li> <li>\u542f\u7528\u4e86\u5b89\u5168Cookie</li> </ul> <p>\u5728 docker-compose.yml \u91cc\u6dfb\u52a0 <code>TEMPORAL_CSRF_COOKIE_INSECURE=true</code> \u914d\u7f6e\u9879\u3002</p> <pre><code>temporal-ui:\n    container_name: temporal-ui\n    depends_on:\n      - temporal\n    environment:\n      - TEMPORAL_ADDRESS=temporal:7233\n      - TEMPORAL_CORS_ORIGINS=http://localhost:3000\n      - TEMPORAL_CSRF_COOKIE_INSECURE=true # \u542f\u7528\u5b89\u5168Cookie\n</code></pre>","tags":["Temporal","\u5206\u5e03\u5f0f\u7cfb\u7edf","\u5de5\u4f5c\u6d41","\u5fae\u670d\u52a1"]},{"location":"blog/introduction-to-the-temporal/#_8","title":"\u53c2\u8003\u8d44\u6599","text":"<ul> <li> <p>Why Temporal? | Temporal Platform Documentation</p> </li> <li> <p>Deploying a Temporal Service | Temporal Platform Documentation</p> </li> <li> <p>Missing CSRF token \u00b7 Issue #793 \u00b7 temporalio/ui</p> </li> </ul>","tags":["Temporal","\u5206\u5e03\u5f0f\u7cfb\u7edf","\u5de5\u4f5c\u6d41","\u5fae\u670d\u52a1"]},{"location":"blog/likaifu-10-gifts/","title":"\u674e\u5f00\u590d\uff1a\u7559\u5b66\u5e26\u7ed9\u6211\u7684\u5341\u4ef6\u793c\u7269\uff0c\u7b2c\u4e00\u4ef6\u662f\u81ea\u4fe1","text":"<p>\u672c\u6587\u7531 \u7b80\u60a6 SimpRead \u8f6c\u7801\uff0c \u539f\u6587\u5730\u5740 https://mp.weixin.qq.com/s/BLIQNoeB9zFm6DZSpLlYgQ</p> <p>\u4eca\u5929\u5206\u4eab\u7684\u6587\u7ae0\uff0c\u662f\u6211\u4e4b\u524d\u7684\u4e00\u4e2a\u6f14\u8bb2\uff0c\u603b\u7ed3\u4e86\u81ea\u5df1\u4ece\u521d\u4e2d\u5230\u5927\u5b66\u7684\u7559\u5b66\u751f\u6daf\u5f97\u5230\u7684\u5341\u4e2a\u6700\u5927\u7684\u6536\u83b7\u3002\u6700\u8fd1\u6709\u5a92\u4f53\u670b\u53cb\u6574\u7406\u53d1\u8868\uff0c\u5c31\u8f6c\u8f7d\u8fc7\u6765\u3002</p> <p>\u76ee\u7684\u662f\u8ddf\u5927\u5bb6\u5206\u4eab\uff0c\u5982\u4eca\u5386\u7ecf\u4e16\u4e8b\u7684\u6211\uff0c\u518d\u56de\u9996\u6210\u957f\u5386\u7a0b\uff0c\u6211\u53d1\u73b0\u90a3\u4e9b\u73cd\u8d35\u7684\u3001\u7ec8\u8eab\u53d7\u76ca\u7684\u4e1c\u897f\uff0c\u4e0d\u662f\u79d1\u5b66\u77e5\u8bc6\uff0c\u4e5f\u4e0d\u662f\u5f53\u65f6\u5f15\u4ee5\u4e3a\u50b2\u7684\u6210\u7ee9\u699c\u5355\uff0c\u800c\u662f\u90a3\u4e9b\u6700\u57fa\u672c\u7684\uff0c\u4eba\u4e4b\u6240\u4ee5\u4e3a\u4eba\u7684\u4eba\u683c\u5e95\u8272\u3002</p> <p>\u8fd9\u4e9b\u54c1\u8d28\u548c\u80fd\u529b\uff0c\u8ba9\u6211\u5728\u540e\u6765\u7684\u4eba\u751f\u4e2d\uff0c\u4e0d\u65ad\u83b7\u5f97\u65b0\u7684\u6280\u80fd\u548c\u793e\u4f1a\u80fd\u529b\uff0c\u6700\u7ec8\u5851\u9020\u4e86\u73b0\u5728\u7684\u6211\u3002</p> <p>\u63a8\u8350\u7ed9\u5e74\u8f7b\u7684\u7236\u6bcd\u9605\u8bfb\uff0c\u6253\u597d\u5b69\u5b50\u7684\u54c1\u683c\u5730\u57fa\uff0c\u6bd4\u90a3\u4e9b\u8d62\u5728\u8d77\u8dd1\u7ebf\u4e0a\u7684\u901f\u6210\u6280\u80fd\u8981\u91cd\u8981\u7684\u591a\u3002\u800c\u5728\u6240\u6709\u7684\u54c1\u683c\u91cc\uff0c\u81ea\u4fe1\u662f\u7b2c\u4e00\u4f4d\u7684\u3002</p> <p>\u4ee5\u4e0b\u662f\u6f14\u8bb2\u7684\u5185\u5bb9\u6574\u7406~</p> <p>\u81ea\u4fe1</p> <p>\u6211\u4ece\u5c0f\u5728\u53f0\u6e7e\u957f\u5927\uff0c\u5728\u90a3\u91cc\uff0c\u8001\u5e08\u603b\u662f\u7528\u60e9\u7f5a\u7684\u65b9\u5f0f\u544a\u8bc9\u6211\u4eec\u8fd9\u4e2a\u505a\u5f97\u4e0d\u597d\uff0c\u8981\u600e\u4e48\u60e9\u7f5a; \u8fd9\u4e2a\u8fbe\u4e0d\u5230\uff0c\u8c01\u53c8\u4f1a\u5bf9\u4f60\u5931\u671b\u3002\u662f\u7528\u5a01\u80c1\u3001\u60e9\u7f5a\u3001\u5931\u671b\u7b49\u7b49\u8d1f\u9762\u523a\u6fc0\u7684\u65b9\u5f0f\u6765\u5e0c\u671b\u5b66\u751f\u80fd\u505a\u5f97\u66f4\u597d\u3002</p> <p>\u7f8e\u56fd\u7684\u6559\u80b2\u662f\u8fd9\u6837\u7684\u4e00\u4e2a\u73af\u5883\uff1a\u5b83\u5b8c\u5168\u7528\u6b63\u9762\u6fc0\u52b1\u7684\u673a\u5236\uff0c\u8ba9\u5b66\u751f\u80fd\u591f\u5efa\u7acb\u81ea\u5df1\u7684\u81ea\u4fe1\u3002\u7f8e\u56fd\u7684\u6559\u80b2\u8ba4\u4e3a\u6bcf\u4e00\u4e2a\u4eba\u90fd\u6709\u4ed6\u7279\u522b\u5f3a\u7684\u5730\u65b9\uff0c\u6240\u4ee5\u5b83\u7684\u6559\u80b2\u65b9\u5f0f\u5c31\u662f\u5f53\u4f60\u5728\u64c5\u957f\u7684\u5730\u65b9\u505a\u5f97\u597d\u7684\u65f6\u5019\uff0c\u7ed9\u4f60\u8db3\u591f\u7684\u9f13\u52b1\uff0c\u8ba9\u4f60\u80fd\u591f\u5f97\u5230\u81ea\u4fe1\u3002</p> <p>\u4e0d\u4ec5\u4ec5\u662f\u5bf9\u67d0\u4e00\u4ef6\u4e8b\u60c5\u7684\u81ea\u4fe1\uff0c\u800c\u662f\u5bf9\u81ea\u5df1\u672c\u8eab\u7684\u81ea\u4fe1\uff0c\u5bf9\u672a\u6765\u7684\u81ea\u4fe1\u3002</p> <p>\u6211\u8bb0\u5f97\u6709\u4e00\u6b21\u8001\u5e08\u5728\u9ed1\u677f\u4e0a\u5199\u4e86 1/7\uff0c\u8bf4\u4f60\u4eec\u8c01\u80fd\u591f\u6362\u7b97\u51fa\u6765\u3002\u9898\u76ee\u5199\u5b8c\u6211\u5c31\u4e3e\u624b\u4e86\uff1a0.142857\u3002</p> <p>\u4ed6\u8bf4\u54ce\u5440\uff0c\u6570\u5b66\u5929\u624d\u3002\u5176\u5b9e\u5728\u5ea7\u7684\u6bcf\u4e2a\u4eba\u90fd\u77e5\u9053\uff0c\u4e0d\u77e5\u9053\u5927\u9646\u6709\u6ca1\u6709\u80cc\u8fd9\u4e9b\u6570\u5b57\uff0c\u6211\u5728\u53f0\u6e7e\u80cc\u8fc7\uff0c\u53ef\u4e0d\u662f\u4ec0\u4e48\u6570\u5b66\u5929\u624d\u3002\u5f53\u65f6\u4ed6\u4e00\u5938\uff0c\u6211\u5c31\u60f3\u4e5f\u8bb8\u6211\u771f\u7684\u662f\u6570\u5b66\u5929\u624d\u3002\u4ece\u6b64\u5c31\u5bf9\u6570\u5b66\u4ea7\u751f\u4e86\u6d53\u539a\u7684\u5174\u8da3\uff0c\u53bb\u4ee3\u8868\u5b66\u6821\u53c2\u52a0\u5168\u5dde\u7684\u6bd4\u8d5b\uff0c\u62ff\u5230\u4e86\u7530\u7eb3\u897f\u5dde\u7684\u51a0\u519b\u3002</p> <p>\u5f53\u7136\u540e\u6765\u6211\u53d1\u73b0\u5176\u5b9e\u6211\u4e0d\u662f\u6570\u5b66\u5929\u624d\u3002\u5f53\u6211\u8fdb\u4e86\u54e5\u4f26\u6bd4\u4e9a\u5927\u5b66\u7684\u65f6\u5019\uff0c\u4ed6\u4eec\u628a\u6211\u5206\u5230\u5929\u624d\u73ed\uff0c\u7ed3\u679c\u62ff\u4e86\u4e2a\u5168\u73ed\u7684\u6700\u540e\u4e00\u540d\u3002</p> <p>\u5f88\u6709\u8da3\u7684\u662f\uff0c\u8001\u5e08\u5f53\u65f6\u8bf4\uff1a\u5f00\u590d\uff0c\u4f60\u662f\u6700\u540e\u4e00\u540d\u3002\u6211\u8bf4\u5b8c\u4e86\uff0c\u6700\u540e\u4e00\u540d\u600e\u4e48\u529e? \u8001\u5e08\u7ed9\u4e86\u6211\u4e00\u4e2a A-\uff0c\u6211\u8bf4\u554a? \u6700\u540e\u4e00\u540d\u8fd8\u6709 A-\uff0c\u4ed6\u8bf4\u4f60\u867d\u7136\u662f\u6700\u540e\u4e00\u540d\uff0c\u4f46\u8fd8\u662f\u5f88\u5389\u5bb3\uff0c\u4e00\u5b9a\u8981\u7ed9\u4e00\u4e2a A-\u3002\u6211\u7ec8\u4e8e\u53d1\u73b0\u6211\u4e0d\u662f\u5929\u624d\uff0c\u4f46\u662f\u81ea\u4fe1\u5fc3\u5e76\u6ca1\u6709\u4e22\u6389\u3002</p> <p>\u6211\u89c9\u5f97\u81ea\u5df1\u6709\u80fd\u529b\uff0c\u5c31\u4f1a\u52aa\u529b\uff0c\u5c31\u4f1a\u505a\u5f97\u5f88\u597d\uff0c\u8fd9\u662f\u6211\u7684\u81ea\u4fe1\uff0c\u7b2c\u4e00\u4ef6\u5f97\u5230\u7684\u793c\u7269\u3002</p> <p>\u4fe1\u4efb</p> <p>\u5f53\u65f6\u5bf9\u5f3a\u7684\u6570\u5b66\u662f\u6709\u81ea\u4fe1\uff0c\u4f46\u662f\u78b0\u5230\u5f31\u7684\u5316\u5b66\u3001\u5386\u53f2\uff0c\u6211\u6839\u672c\u6ca1\u6709\u5b66\u8fc7\uff0c\u5f88\u591a\u5355\u8bcd\u90fd\u4e0d\u8ba4\u8bc6\uff0c\u8003\u8bd5\u5f88\u5934\u75bc\u3002</p> <p>\u6211\u6e05\u695a\u5730\u8bb0\u5f97\u8001\u5e08\u8ddf\u6211\u8bf4\uff1a\u5f00\u590d\uff0c\u6211\u77e5\u9053\u4f60\u4eca\u5929\u505a\u4e0d\u5b8c\u4eca\u5929\u7684\u8003\u9898\uff0c\u4f60\u62ff\u56de\u5bb6\u505a\uff0c\u4f60\u53ef\u4ee5\u7528\u5b57\u5178\uff0c\u4f60\u53ef\u4ee5\u82b1\u6240\u6709\u4f60\u9700\u8981\u82b1\u7684\u65f6\u95f4\uff0c3\u30015 \u4e2a\u5c0f\u65f6\u90fd\u6ca1\u5173\u7cfb\uff0c\u4f46\u662f\u6211\u76f8\u4fe1\u4f60\u4e0d\u4f1a\u7ffb\u5f00\u6559\u79d1\u4e66\u3002</p> <p>\u65e0\u79c1\u7684\u6559\u80b2</p> <p>\u6211\u8fd9\u91cc\u6709\u4e24\u4e2a\u4f8b\u5b50\u3002</p> <p>\u7b2c\u4e00\u4e2a\u4f8b\u5b50\u662f\u6211\u521a\u5f00\u59cb\u8bfb\u521d\u4e00\u7684\u65f6\u5019\uff0c\u4e0a\u8bfe\u6211\u6839\u672c\u4e00\u4e2a\u5b57\u90fd\u542c\u4e0d\u61c2\uff0c\u5f53\u65f6\u6211\u4eec\u7684\u6821\u957f\u53d1\u73b0\u4e86\u8fd9\u4e2a\u60c5\u51b5\u4ee5\u540e\uff0c\u4ed6\u5c31\u8bf4\u6bcf\u5929\u4e2d\u5348\u4f60\u628a\u5348\u9910\u62ff\u5230\u6211\u7684\u529e\u516c\u5ba4\u6765\uff0c\u6211\u4eec\u4e00\u8fb9\u5403\u5348\u9910\uff0c\u6211\u4e00\u8fb9\u4ece\u5c0f\u5b66\u4e00\u5e74\u7ea7\u7684\u82f1\u6587\u8bfe\u672c\u5f00\u59cb\u6559\u4f60\u3002\u4e00\u4e2a\u5b66\u6821\u7684\u6821\u957f\u6bcf\u5929\u613f\u610f\u82b1\u4e2d\u5348\u7684\u65f6\u95f4\u65e0\u79c1\u6559\u6211\uff0c\u4e00\u76f4\u5230\u6211\u8ddf\u4e0a\u5176\u4ed6\u540c\u5b66\u7684\u5b66\u4e60\u8fdb\u5ea6\u3002</p> <p>\u6211\u8fd8\u8bb0\u5f97\u7b2c\u4e8c\u4ef6\u4e8b\uff0c\u6211\u4e00\u76f4\u4ee5\u4e3a\u81ea\u5df1\u662f\u4e00\u4e2a\u6570\u5b66\u5929\u624d\uff0c\u5dee\u4e0d\u591a\u5728\u5341\u5e74\u7ea7\u7684\u65f6\u5019\u628a\u9ad8\u4e2d\u6240\u6709\u7684\u8bfe\u90fd\u5ff5\u5b8c\u4e86\u3002\u6211\u5f53\u65f6\u9ad8\u4e2d\u7684\u8001\u5e08\u8ddf\u6211\u8bf4\uff0c\u4f60\u4e0b\u9762\u5e94\u8be5\u8bfb\u5927\u5b66\u7684\u8bfe\u7a0b\u3002\u6211\u8bf4\u53ef\u662f\u5f00\u8f66\u8981 30 \u5206\u949f\uff0c\u6211\u73b0\u5728\u4e0d\u80fd\u5f00\u8f66\uff0c\u8001\u5e08\u8bf4\u6ca1\u5173\u7cfb\uff0c\u6211\u6559\u8fd9\u4e2a\u8bfe\uff0c\u6bcf\u5929\u6211\u5230\u4f60\u5bb6\u63a5\u4f60\u3002\u8fd9\u4e2a\u8001\u5e08\u6bcf\u6b21\u4e0a\u8bfe\uff0c\u6bcf\u4e2a\u661f\u671f\u4e09\u6b21\uff0c\u6765\u6211\u5bb6\u63a5\u6211\uff0c\u8ba9\u6211\u5728 11\u300112 \u5e74\u7ea7\u80fd\u591f\u4fee\u5230\u4e24\u95e8\u5927\u5b66\u7684\u6570\u5b66\u5fae\u79ef\u5206\u3002</p> <p>\u6211\u4e3a\u8001\u5e08\u7684\u65e0\u79c1\u7cbe\u795e\u4e5f\u975e\u5e38\u975e\u5e38\u611f\u52a8\u3002</p> <p>\u5b9e\u8df5</p> <p>\u6211\u975e\u5e38\u76f8\u4fe1\u90a3\u53e5\u8bdd\uff1a\u770b\u8fc7\u7684\u4f60\u4f1a\u5fd8\u8bb0\uff0c\u542c\u8fc7\u7684\u4f60\u4f1a\u8bb0\u5f97\uff0c\u4f46\u662f\u505a\u8fc7\u7684\u4f60\u624d\u80fd\u771f\u6b63\u7406\u89e3\u3002</p> <p>\u6211\u5728\u9ad8\u4e2d\u53c2\u52a0\u4e86\u4e00\u4e2a\u521b\u4e1a\u6d3b\u52a8\uff0c\u6d3b\u52a8\u9700\u8981\u6211\u4eec\u4e00\u5e2e\u4eba\u521b\u4e00\u4e2a\u516c\u53f8\uff0c\u9009\u8c01\u662f\u9886\u5bfc\u8005\uff0c\u51b3\u5b9a\u505a\u4ec0\u4e48\u4ea7\u54c1\uff0c\u5927\u5bb6\u4e00\u8d77\u6765\u5408\u4f5c\uff0c\u628a\u4ea7\u54c1\u63a8\u9500\u51fa\u53bb\u3002\u8ba9\u5bb6\u957f\u51fa\u94b1\u8d44\u52a9\u6211\u4eec\uff0c\u5f53\u80a1\u4e1c\uff0c\u8d44\u52a9\u4e0d\u662f\u767d\u62ff\u7684\uff0c\u5230\u4e00\u5e74\u505a\u5b8c\u9879\u76ee\u4ee5\u540e\uff0c\u8981\u7b97\u4e0a\u6bcf\u4e00\u4e2a\u80a1\u4e1c\u5e94\u8fd8\u4ed6\u591a\u5c11\u94b1\uff0c\u8981\u7b97\u80a1\u606f\u7b49\u7b49\u3002</p> <p>\u771f\u7684\u50cf\u4e00\u4e2a\u516c\u53f8\u6765\u8fd0\u8425\uff0c\u90a3\u65f6\u6211\u4eec\u611f\u89c9\u771f\u7684\u7279\u522b\u6709\u610f\u601d\u3002\u800c\u4e14\u6211\u4eec\u505a\u7684\u9879\u76ee\u5f53\u65f6\u4e5f\u5f88\u6709\u610f\u601d\uff0c\u8fd9\u4e5f\u95f4\u63a5\u5730\u4ee3\u8868\u4e86\u7f8e\u56fd\u5b66\u6821\u7684\u4e00\u79cd\u5f00\u653e\u548c\u5305\u5bb9\u3002</p> <p>\u5f53\u65f6\u5b66\u6821\u628a\u5348\u9910\u7684\u65f6\u95f4\u7f29\u77ed\uff0c\u4ece 1 \u4e2a\u5c0f\u65f6\u7f29\u5230 40 \u5206\u949f\uff0c\u6211\u4eec\u8fd9\u4e9b\u5b66\u751f\u5c31\u89c9\u5f97\u8fd9\u5f88\u4e0d\u597d\uff0c\u6211\u4eec\u8981\u6297\u8bae\u3002\u600e\u4e48\u6297\u8bae\u5462? \u6211\u4eec\u5728\u8fd9\u4e2a\u521b\u4e1a\u6d3b\u52a8\u4e2d\u5c31\u505a\u4e86\u4e00\u4e2a T \u6064\uff0cT \u6064\u4e0a\u753b\u4e86\u4e00\u4e2a\u814a\u80a0\u72d7\uff0c\u753b\u5f97\u5f88\u957f\u3002</p> <p>\u8fd9\u662f\u4e00\u4e2a\u4e0d\u592a\u6fc0\u8fdb\u7684\u6297\u8bae\uff0c\u6240\u6709\u5b66\u751f\u90fd\u975e\u5e38\u60f3\u4e70\u8fd9\u4e2a T \u6064\uff0c\u6211\u4eec\u5370\u4e86\u5f88\u591a\u5f88\u591a\uff0c\u5f53\u5e74\u6211\u4eec\u4e5f\u6210\u4e3a\u4e86\u5168\u5dde\u4e1a\u7ee9\u6700\u597d\u7684\u4e00\u4e2a\u516c\u53f8\uff0c\u5f53\u7136\u5b66\u6821\u5176\u5b9e\u4e5f\u975e\u5e38\u5305\u5bb9\u6211\u4eec\u7684\u8fd9\u79cd\u505a\u6cd5\uff0c\u5e76\u6ca1\u6709\u6253\u538b\u6211\u4eec\uff0c\u5141\u8bb8\u6211\u4eec\u628a\u81ea\u5df1\u7684\u58f0\u97f3\u53d1\u51fa\u6765\uff0c\u867d\u7136\u5230\u6700\u540e\u5348\u9910\u7684\u65f6\u95f4\u8fd8\u662f\u6ca1\u6709\u589e\u52a0\u3002</p> <p>\u5174\u8da3</p> <p>\u5728\u54e5\u4f26\u6bd4\u4e9a\uff0c\u6211\u5b66\u5230\u5f88\u591a\u3002\u5982\u679c\u8bf4\u5b66\u5230\u6700\u91cd\u8981\u7684\u4e00\u4ef6\u4e8b\u60c5\uff0c\u6211\u8ba4\u4e3a\u5e94\u8be5\u662f\u5174\u8da3\uff0c\u8fd9\u662f\u7b2c\u4e94\u4ef6\u6211\u5f97\u5230\u7684\u7f8e\u56fd\u7559\u5b66\u7684\u793c\u7269\u3002</p> <p>\u56e0\u4e3a\u6211\u8fdb\u53bb\u7684\u65f6\u5019\u5176\u5b9e\u5e76\u4e0d\u77e5\u9053\u81ea\u5df1\u771f\u7684\u559c\u6b22\u4ec0\u4e48\uff0c\u6211\u9009\u4e86\u53cc\u4e13\u4e1a\uff0c\u6570\u5b66\u548c\u6cd5\u5f8b\u3002\u5f88\u5947\u602a\u7684\u4e24\u4e2a\u4e13\u4e1a\uff0c\u6570\u5b66\u6211\u89c9\u5f97\u6211\u662f\u5929\u624d\uff0c\u6cd5\u5b66\u6211\u89c9\u5f97\u770b\u7535\u89c6\u4e0a\u90a3\u4e9b\u5f8b\u5e08\u90fd\u5f88\u9177\uff0c\u5c24\u5176\u5f53\u65f6\u7f8e\u56fd\u6709\u4e00\u4e2a\u8282\u76ee\u53eb\u505a\u300a\u8f6e\u6905\u795e\u63a2\u300b\uff0c\u6211\u5c31\u89c9\u5f97\u8fd9\u662f\u6211\u7684\u5076\u50cf\u3002\u5176\u5b9e\u5c31\u8ddf\u4eca\u5929\u7684\u4e2d\u5b66\u751f\u4e00\u6837\uff0c\u5176\u5b9e\u5f88\u8ff7\u832b\uff0c\u5e76\u4e0d\u77e5\u9053\u81ea\u5df1\u611f\u5174\u8da3\u7684\u4e13\u4e1a\u662f\u4ec0\u4e48\u3001\u804c\u4e1a\u662f\u4ec0\u4e48\uff0c\u53ea\u662f\u968f\u673a\u9009\u4e86\u4e24\u4e2a\u3002</p> <p>\u8bfb\u4e86\u4e00\u5e74\u591a\u4ee5\u540e\u624d\u53d1\u73b0\uff0c\u5176\u5b9e\u6211\u4e0d\u662f\u6570\u5b66\u5929\u624d\uff0c\u800c\u4e14\u6211\u89c9\u5f97\u4e0d\u662f\u5929\u624d\u7684\u4eba\u8bfb\u6570\u5b66\u6ca1\u6709\u4ec0\u4e48\u610f\u601d\u3002\u8ddf\u90a3\u4e9b\u4eba\u4e0a\u8bfe\uff0c\u4ed6\u4eec\u90a3\u4e00\u73ed\u90fd\u662f\u5929\u624d\u73ed\uff0c\u4e00\u5171\u6709 7 \u4e2a\u4eba\uff0c\u6211\u662f\u7b2c\u4e03\u540d\uff0c\u524d\u516d\u4e2a\u4eba\u6bcf\u5929\u90fd\u544a\u8bc9\u6211\u6570\u5b66\u591a\u7f8e\uff0c\u6211\u5c31\u60f3\u4e0d\u51fa\u4ec0\u4e48\u5730\u65b9\u7f8e\uff0c\u5c31\u505a\u4e00\u4e9b\u9898\u76ee\u800c\u5df2\uff0c\u89c9\u5f97\u4e0d\u9002\u5408\u505a\u6570\u5b66\u3002</p> <p>\u6cd5\u5f8b\u6bcf\u6b21\u4e0a\u8bfe\u5c31\u60f3\u7761\u89c9\uff0c\u4e5f\u4e0d\u9002\u5408\u5b66\u6cd5\u5f8b\uff0c\u90a3\u5c31\u7cdf\u4e86\u3002\u8fd8\u597d\uff0c\u5f53\u65f6\u5b66\u6821\u662f\u5141\u8bb8\u6362\u4e13\u4e1a\u7684\uff0c\u800c\u4e14\u5b66\u6821\u9f13\u52b1\u6211\u4eec\u81ea\u5df1\u9009\u4fee\u8bfe\u7a0b\u3002\u6240\u4ee5\uff0c\u5f53\u65f6\u6211\u5f88\u5e78\u8fd0\u5730\u9009\u4fee\u4e86\u7535\u8111\uff0c\u6211\u89c9\u5f97\u8fd9\u4e2a\u624d\u662f\u6211\u771f\u6b63\u6709\u5174\u8da3\u7684\u4e8b\u60c5\u3002\u5b66\u6821\u5c31\u6709\u8fd9\u79cd\u5bbd\u5bb9\uff0c\u8ba9\u6211\u80fd\u591f\u6539\u53d8\u6211\u7684\u4e13\u4e1a\uff0c\u6211\u771f\u7684\u975e\u5e38\u975e\u5e38\u611f\u8c22\uff0c\u6709\u8fd9\u6837\u4e00\u4e2a\u5bbd\u5bb9\u7684\u73af\u5883\uff0c\u8ba9\u6211\u6765\u5728\u5927\u4e09\u7684\u65f6\u5019\u505a\u4e00\u4e2a\u9009\u62e9\uff0c\u80fd\u591f\u8ffd\u968f\u6211\u7684\u5174\u8da3\u3002</p> <p>\u6211\u5728\u54e5\u4f26\u6bd4\u4e9a\u8bfb\u4e86\u56db\u5e74\uff0c\u5c31\u5230\u4e86\u53e6\u4e00\u4e2a\u5b66\u6821\u53bb\u8bfb\u8ba1\u7b97\u673a\u7684 PHD\u3002\u5728\u8fd9\u91cc\u6211\u5f97\u5230\u4e86\u66f4\u591a\uff0c\u53ef\u80fd\u66f4\u591a\u50cf\u662f\u4e2d\u56fd\u7559\u5b66\u751f\u51fa\u53bb\u7684\u4f53\u9a8c\uff0c\u5f53\u7136\u6211\u7684\u82f1\u6587\u53ef\u80fd\u66f4\u597d\u4e00\u4e9b\u3002\u6211\u5728\u8fd9\u91cc\u770b\u5230\u4e86\u5f88\u591a\u9707\u64bc\uff0c\u8ba9\u6211\u5bf9\u6559\u80b2\u548c\u7559\u5b66\u80fd\u591f\u5f97\u5230\u7684\u6709\u4e86\u4e00\u4e2a\u6df1\u7684\u5c42\u6b21\u7684\u7406\u89e3\u3002</p> <p>\u7b2c\u516d\u4e2a\u6211\u5f97\u5230\u7684\u793c\u7269\u5c31\u662f\u5e73\u7b49\uff0c\u4e5f\u5c31\u662f\u8001\u5e08\u8ddf\u540c\u5b66\u4e4b\u95f4\u662f\u5e73\u7b49\u7684\u3002</p> <p>\u6211\u505a\u52a9\u6559\u7684\u65f6\u5019\u6709\u4e00\u4e2a\u673a\u4f1a\uff0c\u7ed9\u5b66\u751f\u8bb2\u8bfe\uff0c\u5f53\u65f6\u6211\u5c31\u89c9\u5f97\u8bb2\u5f97\u5f88\u597d\uff0c\u56e0\u4e3a\u6211\u5728\u5f88\u77ed\u7684\u65f6\u95f4\u5c31\u8ba9\u8fd9\u4e9b\u5b66\u751f\u5b66\u4e86\u5f88\u6df1\u7684\u8ba1\u7b97\u673a\u6280\u672f\uff0c\u6211\u5c31\u89c9\u5f97\u6211\u77e5\u9053\u81ea\u5df1\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u5de5\u7a0b\u5e08\uff0c\u6211\u4e5f\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u7814\u7a76\u5458\uff0c\u56e0\u6b64\u6211\u4e00\u5b9a\u662f\u5f88\u597d\u7684\u8001\u5e08\u3002</p> <p>\u4f46\u662f\u5f88\u4e0d\u5e78\u7684\u662f\u5b66\u751f\u53d1\u56de\u6765\u7684\u7ed9\u8001\u5e08\u7684\u8bc4\u8bed\uff0c\u8ba9\u6211\u975e\u5e38\u9707\u60ca\uff0c\u4ed6\u4eec\u4e0d\u4f46\u7ed9\u6211\u6700\u4f4e\u7684\u5206\u6570\uff0c\u800c\u4e14\u7ed9\u6211\u53d6\u4e86\u5f88\u591a\u7ef0\u53f7\uff0c\u4ed6\u4eec\u8bf4\u5f00\u590d\u7684\u8bfe\u53eb\u505a\u5f00\u590d\u5267\u573a\uff0c\u4ed6\u4e00\u4e2a\u4eba\u5728\u4e0a\u9762\u6f14\u620f\uff0c\u6211\u4eec\u5168\u90e8\u90fd\u5728\u4e0b\u9762\u7761\u89c9\uff0c\u4ed6\u4eec\u8bf4\u6765\u8fd9\u513f\u7684\u4eba\u4ec0\u4e48\u76ee\u5149\u63a5\u89e6\u4e5f\u4e0d\u4f1a\uff0c\u6bcf\u5929\u773c\u775b\u770b\u7740\u9ed1\u677f\uff0c\u4e5f\u4e0d\u770b\u7740\u6211\u4eec\uff0c\u6211\u4eec\u5728\u6253\u778c\u7761\uff0c\u6559\u7684\u662f\u6700\u5dee\u7684\uff0c\u6ca1\u6709\u89c1\u8fc7\u8fd9\u4e48\u5dee\u7684\u8001\u5e08\u3002</p> <p>\u8fd9\u79cd\u5e73\u7b49\u4ea4\u6d41\u76f8\u5f53\u91cd\u8981\uff0c\u6211\u77e5\u9053\u5728\u5f88\u591a\u5b66\u6821\u90fd\u6709\u5b66\u751f\u8bc4\u8001\u5e08\uff0c\u4f46\u662f\u5f80\u5f80\u90fd\u662f\u5f88\u5c40\u9650\u6027\u7684\uff0c\u800c\u4e14\u5b66\u751f\u53ef\u80fd\u4e0d\u6562\u6253\u5206\u3002</p> <p>\u5728\u7f8e\u56fd\u8fd9\u6837\u7684\u73af\u5883\u771f\u7684\u975e\u5e38\u597d\uff0c\u5982\u679c\u6211\u8fd8\u60f3\u505a\u4e2a\u8001\u5e08\uff0c\u6211\u9700\u8981\u4e00\u4e2a\u5f53\u5934\u68d2\u559d\uff0c\u6211\u5f53\u65f6\u5f97\u5230\u4e86\u68d2\u559d\u4e4b\u540e\uff0c\u6211\u4e5f\u53bb\u597d\u597d\u5730\u5b66\u600e\u4e48\u6837\u505a\u4e00\u4e2a\u66f4\u597d\u7684\u8001\u5e08\uff0c\u4eca\u5929\u4e5f\u8bb8\u8bb2\u7684\u65f6\u95f4\u6ca1\u90a3\u4e48\u957f\uff0c\u4f60\u4eec\u8fd8\u6ca1\u7761\u7740\u3002</p> <p>\u7814\u7a76\u7684\u771f\u8c1b</p> <p>\u505a\u4e00\u4e2a\u79d1\u5b66\u5bb6\uff0c\u8bfb\u4e00\u4e2a\u535a\u58eb\uff0c\u771f\u6b63\u6838\u5fc3\u662f\u4ec0\u4e48\u5462? \u6709\u5e78\u8ddf\u6211\u7684\u535a\u58eb\u751f\u5bfc\u5e08\u8ba8\u8bba\u8fc7\u8fd9\u4e2a\u95ee\u9898\u3002\u5728 30 \u5206\u949f\u7684\u8c08\u8bdd\u91cc\u6211\u5f97\u5230\u4e86\u8fd9\u4e2a\u95ee\u9898\u7684\u7b54\u6848\u3002\u6211\u95ee\u4ed6\uff0c\u6211\u6765\u8fd9\u8fb9\u8bfb\u535a\u58eb\uff0c\u4f60\u5bf9\u6211\u7684\u671f\u671b\u662f\u4ec0\u4e48?</p> <p>\u4ed6\u8bf4\u6211\u5bf9\u4efb\u4f55\u4e00\u4e2a\u4eba\u6765\u8fd9\u4e2a\u5b66\u6821\u8bfb\u535a\u58eb\u7684\u671f\u671b\u5c31\u662f\u4f60\u8981\u6210\u4e3a\u4f60\u7684\u4e13\u4e1a\u9886\u57df\u5728\u5168\u4e16\u754c\u7684\u7b2c\u4e00\u4eba\u3002\u6211\u8bf4\u4f60\u5f00\u73a9\u7b11\u5417? \u6211\u4e00\u4e2a\u5b66\u751f\u600e\u4e48\u80fd\u591f\u6210\u4e3a\u7b2c\u4e00\u4eba\u3002\u4ed6\u8bf4\u6211\u4e0d\u662f\u8ba9\u4f60\u6210\u4e3a\u8ba1\u7b97\u673a\u8fd9\u4e2a\u9886\u57df\u7684\u7b2c\u4e00\u4eba\uff0c\u4f46\u662f\u5982\u679c\u4f60\u7684\u8bba\u6587\u5199\u7684\u662f\u6bd4\u5982\u662f\u8fde\u7eed\u6027\u8bed\u97f3\u8bc6\u522b\uff0c\u5168\u4e16\u754c\u5e94\u8be5\u4e0d\u4f1a\u6bd4\u4f60\u66f4\u597d\uff0c\u5982\u679c\u6709\u7684\u8bdd\uff0c\u4f60\u5c31\u4e0d\u662f\u771f\u7684\u8fbe\u5230\u4e86\u6211\u7684\u671f\u671b\u3002</p> <p>\u4ed6\u8bf4\u6211\u8ba4\u4e3a\u6bcf\u4e00\u4e2a\u535a\u58eb\u751f\u90fd\u5e94\u8be5\u6709\u8fd9\u6837\u7684\u62b1\u8d1f\uff0c\u8981\u4e0d\u7136\u5c31\u4e0d\u5e94\u8be5\u6765\u8bfb\u535a\u58eb\u3002\u8fd9\u53e5\u8bdd\u5bf9\u6211\u6709\u91cd\u5927\u7684\u5f71\u54cd\uff0c\u56e0\u4e3a\u540e\u6765\u5176\u5b9e\u6211\u505a\u4e86\u4e00\u4e9b\u9879\u76ee\uff0c\u6211\u89c9\u5f97\u51d1\u5408\u53ef\u4ee5\u6bd5\u4e1a\uff0c\u53ef\u4ee5\u62ff\u5230\u535a\u58eb\uff0c\u4f46\u662f\u6211\u540e\u6765\u603b\u662f\u60f3\u8fd9\u53e5\u8bdd\uff0c\u771f\u7684\u8981\u505a\u5230\u5728\u67d0\u4e2a\u72ed\u7a84\u7684\u9886\u57df\u91cc\u8fbe\u5230\u7b2c\u4e00\u4eba\u624d\u53ef\u4ee5\u505c\u6b62\u3002</p> <p>\u6559\u80b2\u7684\u771f\u8c1b</p> <p>\u7b2c\u516b\u4e2a\u793c\u7269\u4e5f\u540c\u6837\u6765\u81ea\u4e8e\u8ddf\u6211\u7684\u535a\u58eb\u751f\u5bfc\u5e08\u7684\u5bf9\u8bdd\uff0c\u662f\u6559\u80b2\u7684\u771f\u8c1b\u3002</p> <p>\u6211\u8bf4\u597d\u4e86\uff0c\u6211\u5c3d\u529b\u4f1a\u505a\u5230\u4e00\u4e2a\u9886\u57df\u91cc\u8fb9\u4e16\u754c\u7684\u7b2c\u4e00\u4eba\u3002\u6211\u53c8\u95ee\u4ed6\uff0c\u6211\u4ece\u5361\u5185\u57fa \u2022 \u6885\u9686\u5927\u5b66\u6bd5\u4e1a\u4ee5\u540e\uff0c\u6211\u6240\u5e26\u8d70\u7684\u5c31\u5e94\u8be5\u662f\u4e16\u754c\u7b2c\u4e00\u7684\u8bba\u6587\uff0c\u6211\u8981\u5728\u8fd9\u4e2a\u8bba\u6587\u4e0a\u9762\u518d\u53d1\u626c\u5149\u5927\uff0c\u627e\u4e00\u4e2a\u5de5\u4f5c\uff0c\u7ee7\u7eed\u628a\u8fd9\u4e2a\u9886\u57df\u505a\u5f97\u66f4\u597d\uff0c\u662f\u5427?</p> <p>\u4ed6\u8bf4\u4e0d\u5bf9\uff0c\u6211\u8ba4\u4e3a\u4f60\u5176\u5b9e\u5728\u8bfb\u535a\u58eb\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f60\u5e26\u8d70\u7684\u4e1c\u897f\u662f\u505a\u7814\u7a76\u7684\u7cbe\u795e\uff0c\u8fd9\u624d\u662f\u6559\u80b2\u7684\u771f\u8c1b\uff0c\u77e5\u9053\u600e\u4e48\u53bb\u89e3\u51b3\u4e00\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u8981\u6559\u4f1a\u4f60\u77e5\u9053\u5982\u4f55\u72ec\u7acb\u5730\u53bb\u89e3\u51b3\u4e00\u4e2a\u5c1a\u672a\u88ab\u89e3\u51b3\u7684\u95ee\u9898\u3002</p> <p>\u5982\u679c\u4f60\u5b66\u5230\u4e86\u8fd9\u4e00\u70b9\uff0c\u6211\u4eec\u7684\u76ee\u7684\u5c31\u8fbe\u5230\u4e86\u3002\u6211\u8ba4\u4e3a\u4f60\u6bd5\u4e1a\u4e4b\u540e\uff0c\u5f88\u53ef\u80fd\u4e0d\u4f1a\u53bb\u7ee7\u7eed\u505a\u8bed\u97f3\u8bc6\u522b\uff0c\u751a\u81f3\u4e0d\u4e00\u5b9a\u4f1a\u505a\u8ba1\u7b97\u673a\u79d1\u5b66\uff0c\u4f46\u662f\u5982\u679c\u4f60\u4ee5\u540e\u80fd\u591f\u9762\u4e34\u4e00\u4e2a\u5c1a\u672a\u89e3\u51b3\u7684\u95ee\u9898\uff0c\u80fd\u591f\u81ea\u5df1\u72ec\u7acb\u7684\u53bb\u601d\u8003\u3001\u53bb\u5206\u6790\u3001\u53bb\u5ba2\u89c2\u7406\u89e3\u4e0d\u540c\u7684\u89c2\u70b9\uff0c\u53bb\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u90a3\u4e48\u4f60\u8fd9\u4e2a\u535a\u58eb\u5c31\u662f\u4f60\u53ef\u4ee5\u7ec8\u8eab\u62e5\u6709\u7684\u7ec8\u8eab\u4f7f\u7528\u7684\uff0c\u800c\u4e14\u4e0d\u4ec5\u4ec5\u662f\u4f7f\u7528\u5728\u4f60\u7684\u8fd9\u4e2a\u9886\u57df\u3002</p> <p>\u6211\u540e\u6765\u8bfb\u4e86\u66f4\u591a\u6559\u80b2\u7684\u4e66\u4e4b\u540e\uff0c\u6211\u53d1\u73b0\u8fd8\u6709\u53e6\u5916\u4e00\u53e5\u8bdd\u8ddf\u4ed6\u8fd9\u53e5\u8bdd\u662f\u975e\u5e38\u76f8\u4f3c\u7684\uff0c\u6559\u80b2\u7684\u771f\u8c1b\u5c31\u662f\u5f53\u4f60\u5fd8\u8bb0\u4e00\u5207\u6240\u5b66\u5230\u7684\u4e1c\u897f\u4e4b\u540e\uff0c\u6240\u5269\u4e0b\u7684\u5c31\u662f\u6559\u80b2\u3002</p> <p>\u56e0\u4e3a\u6211\u4eec\u5230\u5e95\u6709\u591a\u5c11\u4eba\u80fd\u591f\u80cc\u4f1a\u5168\u4e16\u754c\u6bcf\u4e00\u4e2a\u56fd\u5bb6\u7684\u7701\u4f1a\u5728\u4ec0\u4e48\u5730\u65b9\uff0c\u6211\u4eec\u591a\u5c11\u4eba\u4f1a\u80cc\u5fae\u79ef\u5206\u516c\u5f0f\uff0c\u4f46\u662f\u80fd\u591f\u8ba9\u6211\u4eec\u72ec\u7acb\u5b66\u4e60\uff0c\u8fd9\u662f\u6559\u80b2\u7684\u771f\u8c1b\uff0c\u800c\u4e0d\u662f\u80cc\u4f1a\u591a\u5c11\u3002</p> <p>\u53d7\u76ca\u7ec8\u8eab\u7684\u5bfc\u5e08</p> <p>\u7b2c\u4e5d\u4e2a\u793c\u7269\u662f\u6211\u7684\u535a\u58eb\u751f\u5bfc\u5e08\uff0c\u662f\u5f97\u8fc7\u56fe\u7075\u5956\u7684\u4e00\u4e2a\u4e16\u754c\u7ea7\u7684\u5bfc\u5e08\u3002</p> <p>\u8ddf\u4ed6\u5b66\u4e86\u4e00\u5e74\u4ee5\u540e\uff0c\u6211\u53d1\u73b0\u4ed6\u7ed9\u6211\u7684\u9898\u76ee\u5f88\u597d\uff0c\u4f46\u662f\u4ed6\u7ed9\u6211\u7684\u89e3\u51b3\u95ee\u9898\u65b9\u6cd5\u7684\u5efa\u8bae\u662f\u884c\u4e0d\u901a\u7684\u3002\u5728\u7f8e\u56fd\u8fd9\u4e2a\u73af\u5883\u957f\u5927\uff0c\u4e5f\u8ba9\u6211\u6709\u8db3\u591f\u7684\u52c7\u6c14\u6311\u6218\u6211\u7684\u8001\u5e08\uff0c\u8fd9\u53ef\u80fd\u4e5f\u662f\u5728\u8fd9\u6837\u4e00\u4e2a\u5bbd\u677e\u7684\u73af\u5883\u4e4b\u4e0b\uff0c\u8ba9\u6211\u6709\u52c7\u6c14\u8bf4\u51fa\u3002</p> <p>\u800c\u4e14\u6211\u4e0d\u662f\u76f4\u63a5\u6311\u6218\u4ed6\uff0c\u6211\u662f\u8ddf\u4ed6\u5206\u6790\uff0c\u6211\u559c\u6b22\u4f60\u7684\u9898\u76ee\uff0c\u4f46\u662f\u6211\u4e0d\u559c\u6b22\u4f60\u7684\u65b9\u6cd5\uff0c\u6211\u60f3\u8bd5\u7740\u4e0d\u540c\u7684\u65b9\u6cd5\uff0c\u6211\u9f13\u8db3\u52c7\u6c14\u8ddf\u4ed6\u8bf4\uff0c\u8bed\u97f3\u8bc6\u522b\u6211\u60f3\u505a\uff0c\u4f46\u662f\u4e13\u5bb6\u7cfb\u7edf\u65b9\u6cd5\u8bfb\u4e0d\u4e0b\u53bb\uff0c\u6211\u60f3\u7528\u7edf\u8ba1\u7684\u65b9\u6cd5\u505a\u8bed\u97f3\u8bc6\u522b\u7684\u95ee\u9898\u3002\u5f53\u4ed6\u5206\u6790\u4e86\u6211\u4e3a\u4ec0\u4e48\u60f3\u7528\u8fd9\u6837\u7684\u65b9\u6cd5\u4e4b\u540e\uff0c\u4ed6\u8bf4\u6211\u4e0d\u540c\u610f\u4f60\uff0c\u4f46\u662f\u6211\u652f\u6301\u4f60\u3002</p> <p>\u6211\u4eec\u8bb0\u5f97\u6cd5\u56fd\u7684\u54f2\u5b66\u5bb6\u66fe\u7ecf\u8bf4\u8fc7\uff0c\u6211\u4e0d\u540c\u610f\u4f60\u7684\u89c2\u70b9\uff0c\u4f46\u662f\u6211\u8a93\u6b7b\u634d\u536b\u4f60\u8bf4\u8bdd\u7684\u6743\u5229\u3002\u8fd9\u662f\u5f88\u4e86\u4e0d\u8d77\u7684\u4e00\u53e5\u8bdd\uff0c\u4f46\u662f\u6211\u5bfc\u5e08\u7684\u8bdd \u201c\u6211\u4e0d\u540c\u610f\u4f60\uff0c\u4f46\u662f\u6211\u5f88\u652f\u6301\u4f60\u201d\uff0c\u66f4\u4e86\u4e0d\u8d77\u3002</p> <p>\u6211\u66f4\u591a\u662f\u544a\u8bc9\u4f60\uff0c\u5728\u79d1\u5b66\u7684\u9886\u57df\u91cc\u662f\u4eba\u4eba\u5e73\u7b49\u7684\uff0c\u4f60\u6709\u6743\u5229\u6709\u4f60\u7684\u60f3\u6cd5\uff0c\u6211\u6709\u6743\u5229\u6709\u6211\u7684\u60f3\u6cd5\uff0c\u6211\u5e0c\u671b\u4f60\u7528\u4f60\u7684\u65b9\u6cd5\u3001\u7528\u4f60\u7684\u6fc0\u60c5\u53bb\u89e3\u51b3\u95ee\u9898\uff0c\u6211\u4e0d\u8ba4\u4e3a\u6211\u6709\u6743\u5229\u544a\u8bc9\u4f60\u4e00\u4e2a\u5c1a\u672a\u89e3\u7684\u95ee\u9898\u4e00\u5b9a\u8981\u7528\u4ec0\u4e48\u65b9\u6cd5\u6765\u89e3\u91ca\u3002\u540e\u6765\u4e5f\u6709\u8bb0\u8005\u95ee\u4ed6\uff0c\u5f53\u65f6\u674e\u5f00\u590d\u6311\u6218\u4f60\u7684\u65f6\u5019\uff0c\u4f60\u662f\u600e\u4e48\u60f3\u7684\uff0c\u4ed6\u7684\u56de\u7b54\u4e5f\u5f88\u7b80\u5355\uff0c\u4ed6\u5c31\u8bf4\u5728\u79d1\u5b66\u7684\u9886\u57df\u4e0a\u662f\u4eba\u4eba\u5e73\u7b49\u7684\u3002</p> <p>\u6211\u4ece\u4ed6\u8fd9\u53e5\u8bdd\u91cc\u6240\u5b66\u5230\u7684\u8fdc\u8fdc\u4e0d\u53ea\u662f\u4eba\u4eba\u662f\u5e73\u7b49\uff0c\u6211\u5b66\u5230\u7684\u66f4\u591a\u7684\u662f\uff0c\u5f88\u591a\u4eba\u8ba4\u4e3a\u4ed6\u8fd9\u53e5\u8bdd\u53ef\u80fd\u53ea\u662f\u4e00\u79cd\u80f8\u6000\uff0c\u662f\u4e00\u79cd\u63a5\u53d7\u522b\u4eba\u7684\u601d\u7ef4\u3002\u5176\u5b9e\u4e0d\u662f\uff0c\u6211\u5728\u4ed6\u7684\u6307\u5bfc\u4e0b\u6bd5\u4e1a\u4e4b\u540e\uff0c20 \u591a\u5e74\u4e4b\u540e\u6211\u6765\u56de\u987e\uff0c\u5176\u5b9e\u6211\u4ece\u4ed6\u90a3\u513f\u5b66\u5230\u6700\u91cd\u8981\u7684\u4e00\u4ef6\u4e8b\u60c5\u5c31\u662f\u8fd9\u53e5\u8bdd\uff0c\u800c\u8fd9\u53e5\u8bdd\u4e0d\u4ec5\u4ec5\u662f\u4e00\u79cd\u517b\u91cf\uff0c\u800c\u662f\u4e00\u79cd\u89e3\u51b3\u95ee\u9898\u7684\u65b9\u6cd5\uff0c\u662f\u4e00\u79cd\u505a\u79d1\u5b66\u7684\u65b9\u6cd5\uff0c\u662f\u4e00\u79cd\u505a\u5de5\u7a0b\u7684\u65b9\u6cd5\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\u4e0d\u53ea\u662f\u4e00\u79cd\u80f8\u6000\uff0c\u800c\u662f\u4e00\u79cd\u5f88\u73cd\u8d35\u7684\u9886\u5bfc\u529b\u3002\u5982\u679c\u4f60\u5e0c\u671b\u5728\u4e00\u4e2a\u516c\u53f8\uff0c\u6bd4\u5982\u662f\u5728 Google \u516c\u53f8\uff0c\u5bf9\u4e8e\u6700\u806a\u660e\u7684\u5458\u5de5\uff0c\u4f60\u5c31\u8981\u8ba9\u4ed6\u4eec\u6709\u8db3\u591f\u7684\u7a7a\u95f4\uff0c\u60f3\u4ed6\u4eec\u505a\u4e8b\u7684\u65b9\u6cd5\uff0c\u652f\u6301\u4ed6\u4eec\u7528\u4ed6\u4eec\u7684\u65b9\u6cd5\u505a\u4e8b\u60c5\u3002\u5982\u679c\u4f60\u4ec0\u4e48\u4e8b\u60c5\u90fd\u8981\u5f88\u72ec\u88c1\u5730\u544a\u8bc9\u4ed6\u5e94\u8be5\u600e\u4e48\u505a\uff0c\u8fd9\u4e9b\u806a\u660e\u4eba\u5c31\u6ca1\u6709\u529e\u6cd5\u53d1\u6325\u4ed6\u4eec\u771f\u6b63\u7684\u6f5c\u529b\u3002</p> <p>\u6240\u4ee5\uff0c\u4e00\u4e2a\u771f\u6b63\u7684\u7814\u7a76\u9662\u4e5f\u597d\uff0c\u79d1\u5b66\u90e8\u95e8\u4e5f\u597d, \u4e00\u4e2a\u4ea7\u54c1\u90e8\u95e8\u4e5f\u597d\uff0c\u5982\u679c\u4f60\u771f\u7684\u60f3\u8981\u8ba9\u8fd9\u6279\u4f18\u79c0\u7684\u5929\u624d\u80fd\u591f\u53d1\u6325\u4ed6\u4eec\u7684\u6f5c\u529b\uff0c\u90a3\u6700\u597d\u7684\u7ba1\u7406\u65b9\u6cd5\u5c31\u662f\u53bb\u652f\u6301\u4ed6\u4eec\u3002</p> <p>\u770b\u5f85\u95ee\u9898\u7684\u65b9\u6cd5</p> <p>\u7b2c\u5341\u4e2a\u793c\u7269\u6211\u8ba4\u4e3a\u5c31\u662f\uff0c\u6bcf\u4e00\u4ef6\u4e8b\u60c5\u6211\u4eec\u4e0d\u662f\u53ea\u6709\u4e00\u4e2a\u65b9\u6cd5\u6765\u770b\u8fd9\u4e2a\u95ee\u9898\uff0c\u800c\u662f\u6709\u5f88\u591a\u65b9\u6cd5\u6765\u770b\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u5f88\u591a\u4e1c\u65b9\u7684\u6559\u80b2\u78b0\u5230\u4e00\u4e2a\u5de8\u5927\u7684\u74f6\u9888\u5c31\u662f\u8ba4\u4e3a\u6bcf\u4ef6\u4e8b\u60c5\u662f\u975e\u9ed1\u5373\u767d\uff0c\u4e00\u4e2a\u4eba\u8981\u4e48\u662f\u597d\u4eba\uff0c\u8981\u4e48\u662f\u574f\u4eba\uff0c\u4e00\u4e2a\u79d1\u5b66\u7684\u95ee\u9898\u8981\u4e48\u662f\u8fd9\u6837\u89e3\u7b54\uff0c\u518d\u4e0d\u5c31\u4e0d\u662f\u8fd9\u4e48\u89e3\u7b54\uff0c\u6ca1\u6709\u60f3\u5230\u5f88\u591a\u4e8b\u60c5\u90fd\u6709\u4e0d\u540c\u7684\u65b9\u6cd5\u6765\u770b\u95ee\u9898\u3002</p> <p>\u6bd4\u5982\u6211\u4eec\u5e38\u5e38\u4e3e\u7684\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5728\u5f88\u591a\u9ad8\u79d1\u6280\u7684\u516c\u53f8\u9762\u8bd5\u7684\u65f6\u5019\u4f1a\u9047\u5230\u4e00\u4e9b\u5f88\u5947\u602a\u7684\u95ee\u9898\uff0c\u6bd4\u5982\u4e0b\u6c34\u9053\u7684\u76d6\u5b50\u4e3a\u4ec0\u4e48\u662f\u5706\u7684\uff0c\u6211\u77e5\u9053\u5f88\u591a\u4eba\u90fd\u542c\u8fc7\u5f88\u591a\u8bcd\u3002\u4f46\u662f\u95ee\u8fd9\u4e2a\u95ee\u9898\u7684\u76ee\u7684\u5176\u5b9e\u5e76\u4e0d\u662f\u6709\u4e00\u4e2a\u6807\u51c6\u7b54\u6848\uff0c\u4f60\u7b54\u5bf9\u5c31\u53ef\u4ee5\u8fdb\u6765\uff0c\u7b54\u9519\u5c31\u4e0d\u80fd\u8fdb\u6765\u3002\u95ee\u8fd9\u4e2a\u95ee\u9898\u7684\u76ee\u7684\u662f\u770b\u4f60\u7684\u5934\u8111\u4e0d\u8981\u88ab\u5c40\u9650\u5728\u4e00\u4e2a\u6846\u6846\u91cc\uff0c\u80fd\u591f\u6709\u4e0d\u540c\u601d\u7ef4\u7684\u7a7a\u95f4\u3002</p> <p>\u5982\u679c\u4f60\u7684\u601d\u60f3\uff0c\u4f60\u60f3\u7684\u4e1c\u897f\u662f\u6709\u9053\u7406\u7684\uff0c\u6bd4\u5982\u5706\u7684\u597d\u5728\u5730\u4e0a\u6eda\uff0c\u6216\u8005\u662f\u5706\u7684\u4e0d\u5bb9\u6613\u6389\u4e0b\u6765\u7838\u5230\u522b\u4eba\u7684\u5934\uff0c\u6216\u8005\u5706\u662f\u6700\u5c0f\u7684\u9762\u79ef\uff0c\u6bd4\u8f83\u7701\u94b1\uff0c\u8fd9\u4e9b\u90fd\u662f\u6700\u597d\u7684\u7b54\u6848\u3002\u90a3\u4e9b\u7b54\u4e0d\u51fa\u6765\uff0c\u5728\u53cd\u601d\u6211\u9ad8\u4e2d\u7684\u65f6\u5019\u6709\u6ca1\u6709\u80cc\u8fc7\u8fd9\u4e2a\u9898\u76ee\u7684\u4eba\uff0c\u8fd9\u4e9b\u4eba\u5f88\u4e0d\u5e78\u6ca1\u6709\u88ab\u8fd9\u6837\u4e00\u79cd\u5f00\u653e\u5f0f\u7684\u6559\u80b2\u6765\u542f\u53d1\uff0c\u6765\u91ca\u653e\u4ed6\u7684\u601d\u7ef4\u7684\u7a7a\u95f4\u3002</p> <p>\u6240\u4ee5\uff0c\u5728\u4eca\u5929\u7684 21 \u4e16\u7eaa\uff0c\u80fd\u591f\u63a5\u53d7\u5404\u79cd\u4e0d\u540c\u7684\u601d\u7ef4\u7684\u65b9\u5f0f\uff0c\u80fd\u591f\u7406\u89e3\u4efb\u4f55\u7684\u95ee\u9898\uff0c\u53ef\u4ee5\u4ee5\u4e0d\u540c\u7684\u89d2\u5ea6\u6765\u770b\u5b83\uff0c\u5e76\u4e0d\u662f\u6709\u4e00\u4e2a\u6807\u51c6\u7b54\u6848\u6765\u5b9a\u6027\uff0c\u8fd9\u4e0d\u53ea\u662f\u4e00\u4e2a\u79d1\u5b66\u5bb6\u7684\u80f8\u6000\uff0c\u800c\u4e14\u662f\u4e00\u4e2a\u6240\u6709 21 \u4e16\u7eaa\u7684\u4eba\u6240\u9700\u8981\u5b66\u4e60\u7684\u6001\u5ea6\u3002</p> <p>\u8fd9\u5341\u4e2a\u662f\u6211\u8ba4\u4e3a\u5728\u7f8e\u56fd\u7559\u5b66\u8fc7\u7a0b\u4e2d\u5f97\u5230\u6700\u5927\u7684\u793c\u7269\u3002</p>","tags":["\u4eba\u751f","\u52b1\u5fd7"]},{"location":"blog/markdown/","title":"Markdown \u57fa\u672c\u8bed\u6cd5","text":"","tags":["markdown"]},{"location":"blog/markdown/#1","title":"1. \u6392\u7248","text":"<p>\u7c97\u4f53 \u659c\u4f53</p> <p>~~\u8fd9\u662f\u4e00\u6bb5\u9519\u8bef\u7684\u6587\u672c\u3002~~</p> <p>\u5f15\u7528:</p> <p>\u5f15\u7528 Leanote \u5b98\u65b9\u7684\u8bdd, \u4e3a\u4ec0\u4e48\u8981\u505a Leanote, \u539f\u56e0\u662f...</p> <p>\u6709\u5145\u5217\u8868:</p> <ol> <li>\u652f\u6301 Vim</li> <li>\u652f\u6301 Emacs</li> </ol> <p>\u65e0\u5e8f\u5217\u8868:</p> <ul> <li>\u9879\u76ee 1</li> <li>\u9879\u76ee 2</li> </ul>","tags":["markdown"]},{"location":"blog/markdown/#2","title":"2. \u56fe\u7247\u4e0e\u94fe\u63a5","text":"<p> \u56fe\u7247:  \u94fe\u63a5:</p> <p>\u8fd9\u662f\u53bb\u5f80 Leanote \u5b98\u65b9\u535a\u5ba2\u7684\u94fe\u63a5</p>","tags":["markdown"]},{"location":"blog/markdown/#3","title":"3. \u6807\u9898","text":"<p>\u4ee5\u4e0b\u662f\u5404\u7ea7\u6807\u9898, \u6700\u591a\u652f\u6301 5 \u7ea7\u6807\u9898</p> <pre><code># h1\n## h2\n### h3\n#### h4\n##### h4\n###### h5\n</code></pre>","tags":["markdown"]},{"location":"blog/markdown/#4","title":"4. \u4ee3\u7801","text":"<p>\u793a\u4f8b:</p> <pre><code>function get(key) {\n    return m[key];\n}\n</code></pre> <p>\u4ee3\u7801\u9ad8\u4eae\u793a\u4f8b:</p> <pre><code>/**\n * nth element in the fibonacci series.\n * @param n &gt;= 0\n * @return the nth element, &gt;= 0.\n */\nfunction fib(n) {\n  var a = 1,\n    b = 1;\n  var tmp;\n  while (--n &gt;= 0) {\n    tmp = a;\n    a += b;\n    b = tmp;\n  }\n  return a;\n}\n\ndocument.write(fib(10));\n</code></pre> <pre><code>class Employee:\n   empCount = 0\n\n   def __init__(self, name, salary):\n        self.name = name\n        self.salary = salary\n        Employee.empCount += 1\n</code></pre>","tags":["markdown"]},{"location":"blog/markdown/#5-markdown","title":"5. Markdown \u6269\u5c55","text":"<p>Markdown \u6269\u5c55\u652f\u6301:</p> <ul> <li>\u8868\u683c</li> <li>\u5b9a\u4e49\u578b\u5217\u8868</li> <li>Html \u6807\u7b7e</li> <li>\u811a\u6ce8</li> <li>todo list</li> <li>\u76ee\u5f55</li> <li>\u65f6\u5e8f\u56fe\u4e0e\u6d41\u7a0b\u56fe</li> <li>MathJax \u516c\u5f0f</li> </ul>","tags":["markdown"]},{"location":"blog/markdown/#51","title":"5.1 \u8868\u683c","text":"Item Value Computer \ue07d1600 Phone \ue07d12 Pipe \ue07d1 <p>\u53ef\u4ee5\u6307\u5b9a\u5bf9\u9f50\u65b9\u5f0f, \u5982 Item \u5217\u5de6\u5bf9\u9f50, Value \u5217\u53f3\u5bf9\u9f50, Qty \u5217\u5c45\u4e2d\u5bf9\u9f50</p> Item Value Qty Computer \ue07d1600 5 Phone \ue07d12 12 Pipe \ue07d1 234","tags":["markdown"]},{"location":"blog/markdown/#52","title":"5.2 \u5b9a\u4e49\u578b\u5217\u8868","text":"<p>\u540d\u8bcd 1 : \u5b9a\u4e49 1\uff08\u5de6\u4fa7\u6709\u4e00\u4e2a\u53ef\u89c1\u7684\u5192\u53f7\u548c\u56db\u4e2a\u4e0d\u53ef\u89c1\u7684\u7a7a\u683c\uff09</p> <p>\u4ee3\u7801\u5757 2 : \u8fd9\u662f\u4ee3\u7801\u5757\u7684\u5b9a\u4e49\uff08\u5de6\u4fa7\u6709\u4e00\u4e2a\u53ef\u89c1\u7684\u5192\u53f7\u548c\u56db\u4e2a\u4e0d\u53ef\u89c1\u7684\u7a7a\u683c\uff09</p> <pre><code>    \u4ee3\u7801\u5757\uff08\u5de6\u4fa7\u6709\u516b\u4e2a\u4e0d\u53ef\u89c1\u7684\u7a7a\u683c\uff09\n</code></pre>","tags":["markdown"]},{"location":"blog/markdown/#53-html","title":"5.3 Html \u6807\u7b7e","text":"<p>\u652f\u6301\u5728 Markdown \u8bed\u6cd5\u4e2d\u5d4c\u5957 Html \u6807\u7b7e\uff0c\u8b6c\u5982\uff0c\u4f60\u53ef\u4ee5\u7528 Html \u5199\u4e00\u4e2a\u7eb5\u8de8\u4e24\u884c\u7684\u8868\u683c\uff1a</p> <pre><code>&lt;table&gt;\n    &lt;tr&gt;\n        &lt;th rowspan=\"2\"&gt;\u503c\u73ed\u4eba\u5458&lt;/th&gt;\n        &lt;th&gt;\u661f\u671f\u4e00&lt;/th&gt;\n        &lt;th&gt;\u661f\u671f\u4e8c&lt;/th&gt;\n        &lt;th&gt;\u661f\u671f\u4e09&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td&gt;\u674e\u5f3a&lt;/td&gt;\n        &lt;td&gt;\u5f20\u660e&lt;/td&gt;\n        &lt;td&gt;\u738b\u5e73&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre> \u503c\u73ed\u4eba\u5458 \u661f\u671f\u4e00 \u661f\u671f\u4e8c \u661f\u671f\u4e09 \u674e\u5f3a \u5f20\u660e \u738b\u5e73 <p>\u63d0\u793a, \u5982\u679c\u60f3\u5bf9\u56fe\u7247\u7684\u5bbd\u5ea6\u548c\u9ad8\u5ea6\u8fdb\u884c\u63a7\u5236, \u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7 img \u6807\u7b7e, \u5982:</p> <p></p>","tags":["markdown"]},{"location":"blog/markdown/#54","title":"5.4 \u811a\u6ce8","text":"<p>Leanote[^footnote]\u6765\u521b\u5efa\u4e00\u4e2a\u811a\u6ce8 [^footnote]: Leanote \u662f\u4e00\u6b3e\u5f3a\u5927\u7684\u5f00\u6e90\u4e91\u7b14\u8bb0\u4ea7\u54c1.</p>","tags":["markdown"]},{"location":"blog/markdown/#55-todo-list","title":"5.5 todo list","text":"<p>Leanote \u8fd1\u671f\u4efb\u52a1\u5b89\u6392:</p> <ul> <li>[x] bbs \u7ef4\u62a4</li> <li>[ ] Desktop \u53d1\u5e03\u65b0\u7248</li> <li>[x] Markdown \u7f16\u8f91\u5668\u6dfb\u52a0 Todo list</li> <li>[x] \u4fee\u590d\u767d\u5c4f\u95ee\u9898</li> <li>[ ] \u4fee\u590d issue3</li> <li>[ ] Leanote \u7ef4\u62a4</li> <li>[ ] \u4fee\u590d issue4</li> </ul>","tags":["markdown"]},{"location":"blog/markdown/#56","title":"5.6 \u76ee\u5f55","text":"<p>\u901a\u8fc7 <code>[TOC]</code> \u5728\u6587\u6863\u4e2d\u63d2\u5165\u76ee\u5f55, \u5982:</p> <ul> <li>1. \u6392\u7248</li> <li>2. \u56fe\u7247\u4e0e\u94fe\u63a5</li> <li>3. \u6807\u9898</li> <li>4. \u4ee3\u7801</li> <li>5. Markdown \u6269\u5c55</li> <li>5.1 \u8868\u683c</li> <li>5.2 \u5b9a\u4e49\u578b\u5217\u8868</li> <li>5.3 Html \u6807\u7b7e</li> <li>5.4 \u811a\u6ce8</li> <li>5.5 todo list</li> <li>5.6 \u76ee\u5f55</li> <li>5.7 \u65f6\u5e8f\u56fe\u4e0e\u6d41\u7a0b\u56fe</li> <li>5.8 MathJax \u516c\u5f0f</li> </ul>","tags":["markdown"]},{"location":"blog/markdown/#57","title":"5.7 \u65f6\u5e8f\u56fe\u4e0e\u6d41\u7a0b\u56fe","text":"<pre><code>Alice-&gt;Bob: Hello Bob, how are you?\nNote right of Bob: Bob thinks\nBob--&gt;Alice: I am good thanks!\n</code></pre> <p>\u6d41\u7a0b\u56fe:</p> <pre><code>st=&gt;start: Start\ne=&gt;end\nop=&gt;operation: My Operation\ncond=&gt;condition: Yes or No?\n\nst-&gt;op-&gt;cond\ncond(yes)-&gt;e\ncond(no)-&gt;op\n</code></pre> <p>\u63d0\u793a: \u66f4\u591a\u5173\u4e8e\u65f6\u5e8f\u56fe\u4e0e\u6d41\u7a0b\u56fe\u7684\u8bed\u6cd5\u8bf7\u53c2\u8003:</p> <ul> <li>\u65f6\u5e8f\u56fe\u8bed\u6cd5</li> <li>\u6d41\u7a0b\u56fe\u8bed\u6cd5</li> </ul>","tags":["markdown"]},{"location":"blog/markdown/#58-mathjax","title":"5.8 MathJax \u516c\u5f0f","text":"<p>\\$ \u8868\u793a\u884c\u5185\u516c\u5f0f\uff1a</p> <p>\u8d28\u80fd\u5b88\u6052\u65b9\u7a0b\u53ef\u4ee5\u7528\u4e00\u4e2a\u5f88\u7b80\u6d01\u7684\u65b9\u7a0b\u5f0f $E=mc^2$ \u6765\u8868\u8fbe\u3002</p> <p>$$ $$</p> <p>$$f(x_1,x_x,\\ldots,x_n) = x_1^2 + x_2^2 + \\cdots + x_n^2$$</p> <p>$$\\sum^{j-1}{k=0}{\\widehat{\\gamma}$$} z_k</p> <p>\u66f4\u590d\u6742\u7684\u516c\u5f0f:</p> <p>$$ \\begin{eqnarray} \\vec\\nabla \\times (\\vec\\nabla f) &amp; = &amp; 0  \\cdots\\cdots\u68af\u5ea6\u573a\u5fc5\u662f\u65e0\u65cb\u573a\\ \\vec\\nabla \\cdot(\\vec\\nabla \\times \\vec F) &amp; = &amp; 0\\cdots\\cdots\u65cb\u5ea6\u573a\u5fc5\u662f\u65e0\u6563\u573a\\ \\vec\\nabla \\cdot (\\vec\\nabla f) &amp; = &amp; {\\vec\\nabla}^2f\\ \\vec\\nabla \\times(\\vec\\nabla \\times \\vec F) &amp; = &amp; \\vec\\nabla(\\vec\\nabla \\cdot \\vec F) - {\\vec\\nabla}^2 \\vec F\\ \\end{eqnarray} $$</p>","tags":["markdown"]},{"location":"blog/multiple-git-account/","title":"git\u591a\u8d26\u6237\u5171\u5b58","text":"","tags":["git"]},{"location":"blog/multiple-git-account/#_1","title":"\u95ee\u9898","text":"<p>\u5f88\u591a\u5f00\u53d1\u8005\u90fd\u4f1a\u9047\u5230\u5728\u81ea\u5df1\u7684\u7535\u8111\u4e0a\u4f7f\u7528\u4e0d\u6b62\u4e00\u4e2a git \u5e10\u53f7\u7684\u60c5\u51b5\u3002\u4e00\u822c\u4e00\u4e2a\u662f\u81ea\u5df1\u7684 github \u5e10\u53f7\uff0c\u53e6\u4e00\u4e2a\u5219\u662f\u516c\u53f8\u7684 git \u5e10\u53f7\uff0c\u6bd4\u5982 gitlab\u3001bitbucket \u7b49\u3002\u5982\u679c\u91c7\u7528 https \u65b9\u5f0f\u83b7\u53d6\u4ed3\u5e93\uff0c\u591a\u4e2a git \u5e10\u53f7\u95f4\u4e0d\u4f1a\u6709\u51b2\u7a81\uff0c\u4f46\u5728\u6bcf\u6b21 pull\u3001push \u7684\u65f6\u5019\u90fd\u8981\u8f93\u5165\u5e10\u53f7\u5bc6\u7801\uff0c\u5341\u5206\u9ebb\u70e6\u3002\u800c\u4e14\u5f53\u4ee3\u7801\u5e93\u5341\u5206\u5e9e\u5927\u65f6\uff0c\u5982\u679c\u4ecd\u7136\u91c7\u7528 https \u65b9\u5f0f\uff0c\u5728 git pull \u65f6\u53ef\u80fd\u51fa\u73b0\u8d85\u65f6\u4e0d\u54cd\u5e94\u7684\u60c5\u51b5\uff0c\u6b64\u65f6\u53ea\u80fd\u91c7\u7528 ssh \u65b9\u5f0f\u3002ssh \u5728\u914d\u7f6e\u5b8c ssh key \u540e\u4f7f\u7528\u8d77\u6765\u5f88\u65b9\u4fbf\uff0c\u4f46\u662f git \u5e10\u53f7\u95f4\u53ef\u80fd\u51fa\u73b0\u51b2\u7a81\uff0c\u8fd9\u65f6\u5019\u8be5\u5982\u4f55\u89e3\u51b3\u5462\uff1f</p> <p>\u914d\u7f6e ssh key \u7684\u65b9\u5f0f\u6b64\u5904\u4e0d\u518d\u8d58\u8ff0\uff0c\u5047\u8bbe\u5728 .ssh \u6587\u4ef6\u5939\u4e0b\u6709 id_rsa\u3001id_rsa.pub\u3001gitlab_id_rsa\u3001gitlab_id_rsa.pub\uff0c\u5206\u522b\u5bf9\u5e94\u4e2a\u4eba github \u5e10\u53f7\u79c1\u94a5\u516c\u94a5\u4ee5\u53ca\u516c\u53f8 git \u5e10\u53f7\u79c1\u94a5\u516c\u94a5\u3002\u5982\u679c\u4e0d\u8fdb\u884c\u8bbe\u7f6e\uff0c\u4f7f\u7528 github \u8d26\u53f7\u65f6\u6ca1\u6709\u95ee\u9898\uff0c\u4f46\u662f\u4f7f\u7528\u516c\u53f8\u8d26\u53f7\u65f6\uff0c\u7531\u4e8e\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u79c1\u94a5\u5b58\u653e\u5728 id_rsa \u6587\u4ef6\u4e2d\uff0c\u56e0\u6b64 git \u4ecd\u4f1a\u5c1d\u8bd5\u7528 id_rsa \u4e2d\u800c\u4e0d\u662f gitlab_id_rsa \u4e2d\u7684\u79c1\u94a5\u53bb\u4e0e\u670d\u52a1\u5668\u4e0a\u6dfb\u52a0\u7684\u516c\u94a5\u8fdb\u884c\u6bd4\u5bf9\uff0c\u81ea\u7136\u800c\u7136\u4f1a\u62a5\u9519\u3002\u901a\u5e38\u8fd9\u79cd\u60c5\u51b5\u4e0b git \u4f1a\u8ba9\u4f60\u8f93\u5165\u5bc6\u7801\uff0c\u5c31\u7b97\u8f93\u5165\u6b63\u786e\u5bc6\u7801\u4e5f\u4f1a\u62a5\u9519\uff1aPermission denied\u3002</p>","tags":["git"]},{"location":"blog/multiple-git-account/#_2","title":"\u89e3\u51b3\u65b9\u6cd5","text":"<p>ssh \u7684 config \u6587\u4ef6\uff1a\u8be5\u6587\u4ef6\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u6307\u660e\u5404\u4e2a git \u5e10\u53f7\u5bf9\u5e94\u7684 User \u4ee5\u53ca IdentityFile \u7684\u6587\u4ef6\u4f4d\u7f6e\u3002Window \u7cfb\u7edf\u4e2d\uff0c\u8be5\u914d\u7f6e\u4fe1\u606f\u5b58\u653e\u5728\u540d\u4e3a config \u7684\u6587\u4ef6\u4e2d\uff0c\u4f4d\u7f6e\u5728 USERPROFILE/.ssh/\u76ee\u5f55\u4e0b\uff0c\u800c\u5728 Linux/Unix \u7cfb\u7edf\u4e2d\u914d\u7f6e\u4fe1\u606f\u5219\u4fdd\u5b58\u5728 ssh_config \u6587\u4ef6\u4e2d\uff0c\u81f3\u4e8e\u4f4d\u7f6e\u4e0d\u540c\u7cfb\u7edf\u6709\u6240\u533a\u522b\u3002\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u6587\u4ef6\u4f4d\u7f6e\uff0c\u7b2c\u4e8c\u884c\u6253\u5370\u4e86\u914d\u7f6e\u6587\u4ef6\u7684\u4f4d\u7f6e\u3002</p> <pre><code>$ ssh -vT git@xxxx.com\nOpenSSH_7.9p1, OpenSSL 1.1.1a  20 Nov 2018\ndebug1: Reading configuration data /c/Users/ljc01/.ssh/config\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Connecting to xxxx.com [52.84.49.177] port 22.\n</code></pre> <p>\u4ee5 windows \u4e3a\u4f8b\uff0c\u65b0\u5efa config \u6587\u4ef6\uff0c\u5728\u6587\u4ef6\u91cc\u6dfb\u52a0\u7684\u4ee5\u4e0b\u5b57\u6bb5</p> <pre><code>Host github.com\n hostname github.com\n User &lt;username&gt;\n IdentityFile ~/.ssh/github_rsa\n\nHost git.xxx.com\n hostname git.xxx.com\n User &lt;username&gt;\n IdentityFile ~/.ssh/gitlab_rsa\n</code></pre> <p>\u914d\u7f6e\u5b8c\u6bd5\u540e\uff0c\u5148\u53d6\u6d88\u5168\u5c40\u7528\u6237\u540d\u4ee5\u53ca\u90ae\u7bb1\u914d\u7f6e\uff0c\u518d\u5728\u5404\u4e2a\u9879\u76ee repo \u4e2d\u5e94\u7528\u8be5\u9879\u76ee\u7684\u7528\u6237\u540d\u4ee5\u53ca\u90ae\u7bb1\uff1a</p> <pre><code>1.\u53d6\u6d88global\ngit config --global --unset user.name\ngit config --global --unset user.email\n\n2.\u8bbe\u7f6e\u6bcf\u4e2a\u9879\u76eerepo\u7684\u81ea\u5df1\u7684\u7528\u6237\u540d\u4ee5\u53ca\u90ae\u7bb1\ngit config user.email \"xxxx@xx.com\"\ngit config user.name \"xxxx\"\n</code></pre> <p>\u5982\u6b64\uff0c\u5404\u4e2a git \u5e10\u53f7\u95f4\u5c31\u53ef\u4ee5\u201c\u4e95\u6c34\u4e0d\u72af\u6cb3\u6c34\u201d\u4e86\u3002</p>","tags":["git"]},{"location":"blog/prometheus-guide/","title":"\u57fa\u4e8e Prometheus \u7684\u5fae\u670d\u52a1\u76d1\u63a7\u6307\u5357","text":"","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#_1","title":"\u76d1\u63a7\u7cfb\u7edf","text":"<p>\u968f\u7740\u5fae\u670d\u52a1\u67b6\u6784\u7684\u5e7f\u6cdb\u5e94\u7528\uff0c\u73b0\u4ee3\u8f6f\u4ef6\u7cfb\u7edf\u7684\u590d\u6742\u6027\u4e0d\u65ad\u589e\u52a0\uff0c\u5bf9\u4e8e\u7cfb\u7edf\u76d1\u63a7\u548c\u6545\u969c\u6392\u9664\u4e5f\u66f4\u52a0\u56f0\u96be\u3002</p> <p>\u5728\u5fae\u670d\u52a1\u67b6\u6784\u4e2d\uff0c\u6bcf\u4e2a\u670d\u52a1\u90fd\u662f\u72ec\u7acb\u8fd0\u884c\u7684\uff0c\u9700\u8981\u5bf9\u5927\u91cf\u7684\u670d\u52a1\u8fdb\u884c\u76d1\u63a7\u3002</p> <p>\u4e14\u7814\u53d1\u51e0\u4e4e\u4e0d\u53ef\u80fd\u5bf9\u7cfb\u7edf\u5b58\u5728\u7684\u98ce\u9669\u6709100%\u7684\u8ba4\u77e5\uff0c\u5373\u4f7f\u505a\u5230\u4e86100%\u7684\u8ba4\u77e5\uff0c\u4e5f\u4e0d\u53ef\u80fd\u5bf9\u6240\u6709\u98ce\u9669\u73af\u8282\u505a\u4e86100%\u5bb9\u9519\uff0c\u6709\u6548\u9884\u8b66\u53ef\u4ee5\u5e2e\u52a9\u7814\u53d1\u53ca\u65f6\u53d1\u73b0\u7cfb\u7edf\u4e2d\u6f5c\u5728\u7684bug\u3002</p> <p>\u4e00\u4e2a\u6709\u6548\u7684\u76d1\u63a7\u7cfb\u7edf\u6210\u4e3a\u4fdd\u8bc1\u5fae\u670d\u52a1\u9ad8\u53ef\u7528\u3001\u7a33\u5b9a\u6027\u3001\u53ef\u9760\u6027\u7684\u5173\u952e\u56e0\u7d20\u3002</p> <p>\u76d1\u63a7\u7cfb\u7edf\u53ef\u4ee5\u63d0\u4f9b\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\u7684\u5e2e\u52a9\uff1a</p> <ul> <li>\u5b9e\u65f6\u76d1\u6d4b\u670d\u52a1\u7684\u5065\u5eb7\u72b6\u6001\u548c\u6027\u80fd\u6307\u6807\uff0c\u4ee5\u4fbf\u53ca\u65f6\u68c0\u6d4b\u548c\u6392\u9664\u6545\u969c\u3002</li> <li>\u6536\u96c6\u5404\u4e2a\u670d\u52a1\u7684\u6307\u6807\u6570\u636e\uff0c\u7528\u4e8e\u5206\u6790\u548c\u4f18\u5316\u7cfb\u7edf\u6027\u80fd\u3002</li> <li>\u5bf9\u6240\u6709\u670d\u52a1\u7684\u76d1\u63a7\u6570\u636e\u8fdb\u884c\u7edf\u4e00\u7ba1\u7406\u548c\u53ef\u89c6\u5316\u5c55\u793a\uff0c\u65b9\u4fbf\u4e86\u89e3\u6574\u4e2a\u7cfb\u7edf\u7684\u60c5\u51b5\u3002</li> </ul> <p>\u672c\u6587\u5c06\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528Prometheus\u5bf9golang\u5fae\u670d\u52a1\u8fdb\u884c\u76d1\u63a7\u3002</p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#prometheus_1","title":"Prometheus","text":"<p>Prometheus \u662f\u4e91\u539f\u751f\u8ba1\u7b97\u57fa\u91d1\u4f1a\u9879\u76ee\uff0c\u7528\u4e8e\u5bf9\u7cfb\u7edf\u6216\u670d\u52a1\u8fdb\u884c\u76d1\u63a7\u3002\u5b83\u6309\u7ed9\u5b9a\u7684\u65f6\u95f4\u95f4\u9694\u4ece\u914d\u7f6e\u7684\u76ee\u6807\u670d\u52a1\u6536\u96c6\u6307\u6807\u4fe1\u606f\uff0c\u8bc4\u4f30\u89c4\u5219\u8868\u8fbe\u5f0f\u3001\u663e\u793a\u7ed3\u679c\u3001\u89c2\u6d4b\u6307\u6807\u8fbe\u5230\u6307\u5b9a\u6761\u4ef6\u65f6\u89e6\u53d1\u544a\u8b66\u3002</p> <p>Prometheus \u7684\u4e3b\u8981\u7279\u6027\uff1a</p> <ul> <li>\u591a\u7ef4\u6570\u636e\u6a21\u578b\uff08\u7531\u6307\u6807\u540d\u79f0\u548c\u952e/\u503c\u96c6\u5408\u7ec4\u6210\u7684\u65f6\u95f4\u5e8f\u5217\uff09</li> <li><code>PromQL</code> \u4e00\u79cd\u5f3a\u5927\u800c\u7075\u6d3b\u7684\u67e5\u8be2\u8bed\u8a00\uff0c\u53ef\u4ee5\u5145\u5206\u5229\u7528\u8fd9\u79cd\u591a\u7ef4\u5ea6\u6570\u636e</li> <li>\u4e0d\u4f9d\u8d56\u4e8e\u5206\u5e03\u5f0f\u5b58\u50a8\uff1b\u5355\u4e2a\u670d\u52a1\u5668\u8282\u70b9\u662f\u81ea\u6cbb\u7684</li> <li>\u91c7\u7528 <code>HTTP</code> \u62c9\u53d6\u6a21\u578b\u8fdb\u884c\u65f6\u95f4\u5e8f\u5217\u6536\u96c6</li> <li>\u652f\u6301\u901a\u8fc7\u4e2d\u95f4\u7f51\u5173\u63a8\u9001\u6279\u5904\u7406\u4efb\u52a1\u7684\u65f6\u95f4\u5e8f\u5217</li> <li>\u53ef\u4ee5\u901a\u8fc7\u670d\u52a1\u53d1\u73b0\u6216\u9759\u6001\u914d\u7f6e\u53d1\u73b0\u76ee\u6807\u670d\u52a1</li> <li>\u652f\u6301\u591a\u79cd\u56fe\u5f62\u548c\u4eea\u8868\u677f\u5c55\u793a\u6a21\u5f0f</li> <li>\u652f\u6301\u5206\u5c42\u548c\u6c34\u5e73\u8054\u90a6\u96c6\u7fa4\u6269\u5c55</li> </ul> <p>\u5176\u4ed6\u4fe1\u606f\u53ef\u67e5\u770b Prometheus \u6982\u8ff0</p> <p>Prometheus \u67b6\u6784\u56fe</p> <p></p> <p><code>Prometheus</code> \u91c7\u96c6\u6570\u636e\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a</p> <ul> <li>\u4e00\u79cd\u662f\u76f4\u63a5\u91c7\u6837\u4eea\u8868\u5316\u4efb\u52a1\uff08instrumenting job\uff09</li> <li>\u53e6\u4e00\u79cd\u901a\u8fc7\u4e2d\u4ecb <code>push gateway</code> \u6765\u91c7\u6837\u77ed\u65f6\u4efb\u52a1\u3002</li> </ul> <p><code>Prometheus</code> \u5728\u672c\u5730\u5b58\u50a8\u6240\u6709\u91c7\u6837\u7684\u6837\u672c\uff0c\u540c\u65f6\u57fa\u4e8e\u8fd9\u4e9b\u6570\u636e\u8fdb\u884c\u89c4\u5219\u8ba1\u7b97\u3001\u805a\u5408\u6570\u636e\u548c\u8bb0\u5f55\u73b0\u6709\u6570\u636e\u7684\u65b0\u65f6\u95f4\u5e8f\u5217\u6216\u8005\u751f\u6210\u544a\u8b66\u4fe1\u606f\u3002\u6536\u96c6\u7684\u6570\u636e\u53ef\u4ee5\u4f7f\u7528 <code>Grafana</code> \u7b49\u5176\u4ed6\u5de5\u5177\u8fdb\u884c\u53ef\u89c6\u5316\u5448\u73b0\u3002</p> <p><code>Prometheus</code> \u652f\u6301\u591a\u79cd\u670d\u52a1\u53d1\u73b0\uff0c\u4e3b\u8981\u5206\u4e3a\u4e09\u7c7b\uff1a</p> <ul> <li>\u57fa\u4e8e\u9759\u6001\u6587\u4ef6\u914d\u7f6e\u7684\u670d\u52a1\u53d1\u73b0</li> <li>\u57fa\u4e8e <code>HTTP</code> \u7684\u52a8\u6001\u670d\u52a1\u53d1\u73b0\uff08consul\u3001dns\u3001dockers\u3001kubernetes\u7b49\u591a\u79cd\uff09</li> <li>\u63a8\u9001\u7f51\u5173\uff08Push Gateway\uff09</li> </ul> <p>\u5728 <code>Prometheus</code> \u672f\u8bed\u4e2d\uff0c\u53ef\u4ee5\u6293\u53d6\u7684\u670d\u52a1\u79f0\u4e3a\u5b9e\u4f8b\uff08<code>instance</code>\uff09\uff0c\u901a\u5e38\u5bf9\u5e94\u4e8e\u5355\u4e2a\u8fdb\u7a0b\u3002\u5177\u6709\u76f8\u540c\u76ee\u7684\u7684\u5b9e\u4f8b\u7684\u96c6\u5408\uff0c\u4f8b\u5982\u4e3a\u4e86\u53ef\u6269\u5c55\u6027\u6216\u53ef\u9760\u6027\u800c\u590d\u5236\u7684\u8fdb\u7a0b\uff0c\u79f0\u4e3a\u4f5c\u4e1a\uff08<code>Job</code>\uff09\u3002</p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#_2","title":"\u9002\u7528\u573a\u666f","text":"<p>Prometheus \u975e\u5e38\u9002\u5408\u8bb0\u5f55\u4efb\u4f55\u7eaf\u6570\u5b57\u65f6\u95f4\u5e8f\u5217\u3002\u5b83\u65e2\u9002\u5408\u4ee5\u673a\u5668\u4e3a\u4e2d\u5fc3\u7684\u76d1\u63a7\uff0c\u4e5f\u9002\u5408\u9ad8\u5ea6\u52a8\u6001\u7684\u9762\u5411\u670d\u52a1\u7684\u67b6\u6784\u7684\u76d1\u63a7\u3002\u5728\u5fae\u670d\u52a1\u7684\u4e16\u754c\u4e2d\uff0c\u5b83\u5bf9\u591a\u7ef4\u6570\u636e\u6536\u96c6\u548c\u67e5\u8be2\u7684\u652f\u6301\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u4f18\u52bf\u3002</p> <p>Prometheus \u7684\u8bbe\u8ba1\u6ce8\u91cd\u53ef\u9760\u6027\uff0c\u5f53\u51fa\u73b0\u670d\u52a1\u4e2d\u65ad\u6216\u6545\u969c\u65f6\uff0c\u53ef\u4ee5\u4f9d\u8d56\u5b83\u6765\u5feb\u901f\u8fdb\u884c\u95ee\u9898\u8bca\u65ad\u3002\u6bcf\u4e2a Prometheus \u670d\u52a1\u5668\u90fd\u662f\u72ec\u7acb\u7684\uff0c\u4e0d\u4f9d\u8d56\u4e8e\u7f51\u7edc\u5b58\u50a8\u6216\u5176\u4ed6\u8fdc\u7a0b\u670d\u52a1\u3002\u5f53\u57fa\u7840\u8bbe\u65bd\u7684\u5176\u4ed6\u90e8\u5206\u635f\u574f\u65f6\uff0c\u4f9d\u7136\u53ef\u4ee5\u4f9d\u8d56\u5b83\u8fdb\u884c\u95ee\u9898\u5206\u6790\uff0c\u5e76\u4e14\u65e0\u9700\u8bbe\u7f6e\u5927\u91cf\u57fa\u7840\u8bbe\u65bd\u5373\u53ef\u4f7f\u7528\u5b83\u3002</p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#_3","title":"\u4e0d\u9002\u7528\u7684\u573a\u666f","text":"<p><code>Prometheus</code> \u91cd\u89c6\u53ef\u9760\u6027\u3002\u5373\u4f7f\u5728\u51fa\u73b0\u6545\u969c\u7684\u60c5\u51b5\u4e0b\uff0c\u4e5f\u53ef\u4ee5\u968f\u65f6\u67e5\u770b\u6709\u5173\u7cfb\u7edf\u7684\u53ef\u7528\u7edf\u8ba1\u4fe1\u606f\u3002\u4f46\u662f\u5982\u679c\u9700\u8981 100% \u7684\u51c6\u786e\u6027\uff0c\u4f8b\u5982\u6309\u8bf7\u6c42\u8ba1\u8d39\u3001\u6bcf\u4e00\u7b14\u8ba2\u5355\u7684\u4fe1\u606f\u65f6\uff0cPrometheus \u4e0d\u662f\u4e00\u4e2a\u597d\u7684\u9009\u62e9\uff0c\u56e0\u4e3a\u6536\u96c6\u7684\u6570\u636e\u53ef\u80fd\u4e0d\u591f\u8be6\u7ec6\u548c\u5b8c\u6574\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u60a8\u6700\u597d\u4f7f\u7528\u5176\u4ed6\u7cfb\u7edf\u6765\u6536\u96c6\u548c\u5206\u6790\u8ba1\u8d39\u6570\u636e\uff0c\u5e76\u4f7f\u7528 Prometheus \u8fdb\u884c\u5176\u4f59\u529f\u80fd\u7684\u76d1\u63a7\u3002</p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#_4","title":"\u6570\u636e\u6a21\u578b","text":"<p><code>Prometheus</code> \u6536\u96c6\u7531\u6307\u6807\u540d\u548c\u6807\u7b7e\u952e\u503c\u5bf9\u7ec4\u6210\u7684\u6570\u636e\uff0c\u4f5c\u4e3a\u65f6\u95f4\u5e8f\u5217\u8fdb\u884c\u5b58\u50a8\u3002</p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#_5","title":"\u6307\u6807\u548c\u6807\u7b7e","text":"<p>\u6307\u6807\u540d\u79f0\uff1a \u53ea\u80fd\u5305\u542b ASCII \u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u548c\u5192\u53f7\u3002\u5fc5\u987b\u7b26\u5408\u6b63\u5219\u8868\u8fbe\u5f0f <code>[a-zA-Z_:][a-zA-Z0-9_:]*</code> \u3002</p> <p>\u6807\u7b7e\u540d\u79f0\uff1a \u53ea\u80fd\u5305\u542b ASCII \u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\u3002\u5fc5\u987b\u7b26\u5408\u6b63\u5219\u8868\u8fbe\u5f0f <code>[a-zA-Z_][a-zA-Z0-9_]*</code> \u3002\u4ee5 <code>__</code> \uff08\u4e24\u4e2a <code>_</code>\uff09\u5f00\u5934\u7684\u6807\u7b7e\u540d\u79f0\u662f\u4fdd\u7559\u5185\u90e8\u4f7f\u7528\u3002</p> <p>\u6807\u7b7e\u503c\uff1a \u53ef\u4ee5\u5305\u542b\u4efb\u4f55 Unicode \u5b57\u7b26</p> <p>\u6307\u6807\u540d\u548c\u6807\u7b7e\u540d\u547d\u540d\u89c4\u8303\uff1ahttps://prometheus.io/docs/practices/naming/</p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#_6","title":"\u65f6\u95f4\u5e8f\u5217","text":"<p>\u6bcf\u4e2a\u65f6\u95f4\u5e8f\u5217\u90fd\u7531\u6307\u6807\u540d\u79f0\u548c\u53ef\u9009\u7684\u6807\u7b7e\u952e\u503c\u5bf9\u552f\u4e00\u6807\u8bc6\u3002</p> <p>Prometheus \u5c06\u6240\u6709\u6307\u6807\u6570\u636e\u5b58\u50a8\u4e3a\u65f6\u95f4\u5e8f\u5217\uff1a\u5373\u5c5e\u4e8e\u540c\u4e00\u6307\u6807\u548c\u540c\u4e00\u7ec4\u6807\u7b7e\u7684\u5e26\u65f6\u95f4\u6233\u7684\u6570\u636e\u6d41\u3002</p> <p>\u65f6\u95f4\u5e8f\u5217\u683c\u5f0f\uff1a<code>&lt;metric name&gt;{&lt;label name&gt;=&lt;label value&gt;, ...}</code></p> <p>\u5982\uff1a<code>api_http_requests_total{method=\"POST\", handler=\"/messages\"}</code></p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#_7","title":"\u6307\u6807\u7c7b\u578b","text":"","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#counter","title":"Counter","text":"<p>\u8ba1\u6570\u5668\u662f\u4e00\u79cd\u7d2f\u8ba1\u6307\u6807\u7c7b\u578b\uff0c\u8868\u793a\u4e00\u4e2a\u5355\u8c03\u9012\u589e\u8ba1\u6570\u5668\u3002\u5176\u503c\u53ea\u80fd\u9012\u589e\u6216\u5728\u91cd\u542f\u65f6\u91cd\u7f6e\u4e3a\u96f6\u3002</p> <p>\u901a\u5e38\u7528\u4e8e\u8868\u793a\u6240\u670d\u52a1\u7684\u8bf7\u6c42\u6570\u3001\u5df2\u5b8c\u6210\u7684\u4efb\u52a1\u6570\u6216\u9519\u8bef\u6570\u3002</p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#gauge","title":"Gauge","text":"<p>\u4eea\u8868\u4ee3\u8868\u4e00\u79cd\u503c\u53ef\u4ee5\u4efb\u610f\u589e\u52a0\u548c\u51cf\u5c11\u7684\u5355\u4e2a\u6570\u503c\u7684\u6307\u6807\u7c7b\u578b\u3002\u901a\u5e38\u7528\u4e8e\u8868\u793a\u6e29\u5ea6\u53d8\u5316\u6216\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u7b49\uff0c\u4f46\u4e5f\u7528\u4e8e\u53ef\u589e\u52a0\u53ef\u51cf\u5c11\u7684\u201c\u8ba1\u6570\u201d\uff0c\u5982\u5e76\u53d1\u8bf7\u6c42\u6570\u3002</p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#histogram","title":"Histogram","text":"<p>\u76f4\u65b9\u56fe\u5bf9\u89c2\u6d4b\u7ed3\u679c\uff08\u901a\u5e38\u662f\u8bf7\u6c42\u6301\u7eed\u65f6\u95f4\u6216\u54cd\u5e94\u4f53\u7684\u5927\u5c0f\uff09\u8fdb\u884c\u91c7\u6837\uff0c\u5e76\u5c06\u8ba1\u6570\u8bb0\u5f55\u5230\u53ef\u81ea\u5b9a\u4e49\u914d\u7f6e\u7684\u5b58\u50a8\u6876\u4e2d\u3002\u540c\u65f6\u8fd8\u4fdd\u5b58\u4e86\u6240\u6709\u89c2\u5bdf\u503c\u7684\u603b\u548c\u3002</p> <p>\u5728\u6293\u53d6\u671f\u95f4\uff0c\u76f4\u65b9\u56fe\u5728\u6307\u6807\u540d\u79f0\u7684\u57fa\u7840\u4e0a\u4ea7\u751f\u4e09\u4e2a\u6307\u6807\uff08\u65f6\u95f4\u5e8f\u5217\uff09\uff1a</p> <ul> <li>\u89c2\u6d4b\u6876\u7684\u7d2f\u79ef\u8ba1\u6570\u6307\u6807\uff0c\u683c\u5f0f\u4e3a\uff1a<code>&lt;basename&gt;_bucket{le=\"&lt;upper inclusive bound&gt;\"}</code>;</li> <li>\u89c2\u6d4b\u503c\u7684\u603b\u548c\uff0c\u683c\u5f0f\u4e3a\uff1a<code>&lt;basename&gt;_sum</code></li> <li>\u89c2\u6d4b\u503c\u7684\u4e2a\u6570\uff0c\u683c\u5f0f\u4e3a\uff1a<code>&lt;basename&gt;_count</code> \uff08\u7b49\u540c <code>&lt;basename&gt;_bucket{le=\"+Inf\"}</code> \u7684\u503c\uff09</li> </ul> <p>\u4f7f\u7528 <code>histogram_quantile</code> \u51fd\u6570\u8ba1\u7b97\u76f4\u65b9\u56fe\u7684\u5206\u4f4d\u6570\u6216\u8005\u4ec5\u7528\u4e8e\u805a\u5408\u76f4\u65b9\u56fe\u3002</p> <p>\u6ce8\uff1a</p> <p>le \u542b\u4e49\uff1a less or equal</p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#summary","title":"Summary","text":"<p>\u4e0e\u76f4\u65b9\u56fe\u7c7b\u4f3c\uff0c\u6458\u8981\u5bf9\u89c2\u5bdf\u7ed3\u679c\u8fdb\u884c\u91c7\u6837\uff08\u901a\u5e38\u662f\u8bf7\u6c42\u6301\u7eed\u65f6\u95f4\u548c\u54cd\u5e94\u5927\u5c0f\u7b49\uff09\u3002\u540c\u65f6\u5b83\u8fd8\u63d0\u4f9b\u4e86\u89c2\u5bdf\u503c\u603b\u6570\u91cf\u548c\u6240\u6709\u89c2\u5bdf\u503c\u7684\u603b\u548c\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u6ed1\u52a8\u65f6\u95f4\u7a97\u53e3\u8ba1\u7b97\u53ef\u914d\u7f6e\u7684\u5206\u4f4d\u6570\u3002</p> <p>\u5728\u6293\u53d6\u671f\u95f4\uff0c\u6458\u8981\u5728\u6307\u6807\u540d\u79f0\u7684\u57fa\u7840\u4e0a\u4ea7\u751f\u4e09\u4e2a\u6307\u6807\uff08\u65f6\u95f4\u5e8f\u5217\uff09\uff1a</p> <ul> <li>\u57fa\u4e8e\u8fde\u7eed\u7684\u65f6\u95f4\u5e8f\u5217\u8ba1\u7b97\u03c6-\u5206\u4f4d\u6570\uff080 \u2264 \u03c6 \u2264 1\uff09\uff0c\u683c\u5f0f\u4e3a\uff1a<code>&lt;basename&gt;{quantile=\"&lt;\u03c6&gt;\"}</code></li> <li>\u89c2\u6d4b\u503c\u7684\u603b\u548c\uff0c\u683c\u5f0f\u4e3a\uff1a<code>&lt;basename&gt;_sum</code></li> <li>\u89c2\u6d4b\u503c\u7684\u4e2a\u6570\uff0c\u683c\u5f0f\u4e3a\uff1a<code>&lt;basename&gt;_count</code></li> </ul> <p>\u4f7f\u7528\u76f4\u65b9\u56fe\u548c\u6458\u8981\u53ef\u4ee5\u8ba1\u7b97\u6240\u8c13\u7684 \u03c6 \u5206\u4f4d\u6570\uff0c\u5176\u4e2d 0 \u2264 \u03c6 \u2264 1\u3002 \u03c6 \u5206\u4f4d\u6570\u662f\u6307\u5728 N \u4e2a\u89c2\u6d4b\u503c\u4e2d\u6392\u540d\u7b2c \u03c6*N \u7684\u89c2\u6d4b\u503c\u3002 \u03c6 \u5206\u4f4d\u6570\u793a\u4f8b\uff1a 0.5 \u5206\u4f4d\u6570\u79f0\u4e3a\u4e2d\u4f4d\u6570\u3002 0.95 \u5206\u4f4d\u6570\u662f\u7b2c 95 \u4e2a\u767e\u5206\u4f4d\u6570\u3002</p> <p>\u6458\u8981\u548c\u76f4\u65b9\u56fe\u4e4b\u95f4\u7684\u672c\u8d28\u533a\u522b\u5728\u4e8e\uff0c\u6458\u8981\u5728\u5ba2\u6237\u7aef\u8ba1\u7b97\u65f6\u5e8f\u6570\u636e\u7684 \u03c6 \u5206\u4f4d\u6570\u5e76\u76f4\u63a5\u5bfc\u51fa\u5230\u670d\u52a1\u7aef\uff0c\u800c\u76f4\u65b9\u56fe\u5219\u662f\u5bfc\u51fa\u6876\u91cc\u89c2\u6d4b\u8ba1\u6570\uff0c\u670d\u52a1\u7aef\u4f7f\u7528 <code>histogram_quantile()</code> \u51fd\u6570\u8ba1\u7b97\u5206\u4f4d\u6570\u3002</p> <p>\u8fd9\u4e24\u79cd\u65b9\u5f0f\u6709\u8bb8\u591a\u4e0d\u540c\u70b9\uff1a</p> Histogram Summary \u6240\u9700\u7684\u914d\u7f6e \u9009\u62e9\u9002\u5408\u89c2\u6d4b\u503c\u9884\u671f\u8303\u56f4\u7684\u6876\u914d\u7f6e\u3002 \u9009\u62e9\u6240\u9700\u7684 \u03c6 \u5206\u4f4d\u6570\u548c\u6ed1\u52a8\u7a97\u53e3\u3002\u89c2\u6d4b\u6570\u636e\u65e0\u6cd5\u8ba1\u7b97\u5176\u4ed6 \u03c6 \u5206\u4f4d\u6570\u548c\u6ed1\u52a8\u7a97\u53e3\u3002 \u5ba2\u6237\u7aef\u6027\u80fd \u53ea\u9700\u8981\u589e\u52a0\u8ba1\u6570\u5668\uff0c\u6027\u80fd\u6210\u672c\u4f4e\u3002 \u9700\u8981\u8ba1\u7b97\u65f6\u5e8f\u6570\u636e\u7684\u5206\u4f4d\u6570\uff0c\u6027\u80fd\u6210\u672c\u9ad8 \u670d\u52a1\u7aef\u6027\u80fd \u670d\u52a1\u5668\u8ba1\u7b97\u5206\u4f4d\u6570\u3002\u5982\u679c\u4e34\u65f6\u8ba1\u7b97\u82b1\u8d39\u592a\u957f\u65f6\u95f4\uff08\u4f8b\u5982\u5728\u5927\u578b\u4eea\u8868\u677f\u4e2d\uff09\uff0c\u53ef\u4ee5\u4f7f\u7528\u8bb0\u5f55\u89c4\u5219\u3002 \u670d\u52a1\u5668\u7aef\u6027\u80fd\u6210\u672c\u4f4e\u3002 \u65f6\u95f4\u5e8f\u5217\u6570(\u9664\u4e86_sum\u548c_count\u4e4b\u5916) \u6bcf\u4e2a\u914d\u7f6e\u7684\u5b58\u50a8\u6876\u662f\u4e00\u4e2a\u65f6\u95f4\u5e8f\u5217\u3002 \u6bcf\u4e2a\u914d\u7f6e\u7684\u5206\u4f4d\u6570\u662f\u4e00\u4e2a\u65f6\u95f4\u5e8f\u5217\u3002 \u5206\u4f4d\u6570\u8bef\u5dee \u76f8\u5173\u6570\u636e\u6876\uff08bucket\uff09\u7684\u5bbd\u5ea6\u51b3\u5b9a\u8bef\u5dee\u503c \u53ef\u914d\u7f6e\u7684\u03c6\u503c\u51b3\u5b9a\u8bef\u5dee\u503c \u03c6 \u5206\u4f4d\u6570\u548c\u6ed1\u52a8\u65f6\u95f4\u7a97 \u4e0e\u5177\u4f53 Prometheus \u8868\u8fbe\u5f0f\u76f8\u5173 \u7531\u5ba2\u6237\u7aef\u9884\u5148\u914d\u7f6e \u805a\u5408\u64cd\u4f5c \u4e0e\u5177\u4f53 Prometheus \u8868\u8fbe\u5f0f\u76f8\u5173 \u901a\u5e38\u4e0d\u80fd\u8fdb\u884c\u805a\u5408 <p>\u76f4\u65b9\u56fe\u9002\u5408\u573a\u666f\uff1a</p> <ul> <li>\u670d\u52a1\u7aef\u5bf9\u4e0d\u540c\u670d\u52a1\u3001\u4e0d\u540c\u6807\u7b7e\u8fdb\u884c\u805a\u5408\u8ba1\u7b97</li> <li>\u65f6\u5e8f\u6570\u636e\u6570\u91cf\u7ea7\u6bd4\u8f83\u5927\uff0c\u6bd4\u8f83\u6d88\u8017\u8d44\u6e90\u65f6</li> <li>\u53ef\u63a5\u53d7\u6570\u636e\u8ba1\u7b97\u65f6\u7684\u7cbe\u5ea6\u635f\u5931</li> </ul> <p>\u6458\u8981\u56fe\u9002\u5408\u573a\u666f\uff1a</p> <ul> <li>\u4e0d\u9700\u8981\u670d\u52a1\u7aef\u805a\u5408\u64cd\u4f5c</li> <li>\u5ba2\u6237\u7aef\u53ef\u4ee5\u63a5\u53d7\u6027\u80fd\u6d88\u8017</li> <li>\u9700\u8981\u51c6\u786e\u7684\u5206\u4f4d\u6570\u6570\u636e\uff08\u76f4\u65b9\u56fe\u8ba1\u7b97\u65f6\u4f1a\u8fdb\u884c\u7ebf\u6027\u63d2\u503c\uff09</li> </ul>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#promql","title":"PromQL","text":"<p>Prometheus \u63d0\u4f9b\u4e86\u4e00\u79cd\u540d\u4e3a PromQL\uff08Prometheus Query Language\uff09\u7684\u529f\u80fd\u67e5\u8be2\u8bed\u8a00\uff0c\u53ef\u4ee5\u8ba9\u7528\u6237\u5b9e\u65f6\u9009\u62e9\u548c\u805a\u5408\u65f6\u95f4\u5e8f\u5217\u6570\u636e\u3002\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u53ef\u4ee5\u663e\u793a\u4e3a\u56fe\u8868\uff0c\u5728 Prometheus \u8868\u8fbe\u5f0f\u6d4f\u89c8\u5668\u4e2d\u4ee5\u8868\u683c\u6570\u636e\u5f62\u5f0f\u67e5\u770b\uff0c\u6216\u8005\u7531\u5916\u90e8\u7cfb\u7edf\u901a\u8fc7 HTTP API \u4f7f\u7528\uff08\u5982 Grafana\uff09\u3002</p> <p>PromQL \u652f\u6301\u5b50\u67e5\u8be2\u8bed\u53e5\u3002</p> <pre><code>rate(http_requests_total[5m])[30m:1m]\nmax_over_time(deriv(rate(distance_covered_total[5s])[30s:5s])[10m:])\n</code></pre> <p>PromQL \u652f\u6301\u4ee5 <code>#</code> \u5f00\u5934\u7684\u884c\u6ce8\u91ca\u3002</p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#promql_1","title":"PromQL\u8bed\u8a00\u6570\u636e\u7c7b\u578b","text":"<p>\u77ac\u65f6\u5411\u91cf\uff08Instant vector\uff09\uff1a \u7ed9\u5b9a\u65f6\u95f4\u6233\u4e0a\u7684\u4e00\u7ec4\u65f6\u95f4\u5e8f\u5217\uff0c\u6bcf\u4e2a\u65f6\u95f4\u5e8f\u5217\u5305\u542b\u4e00\u4e2a\u6837\u672c\u503c\u3002\uff08\u6837\u672c\u503c\u7531\u4e00\u4e2a\u6307\u6807\u540d\u3001\u4e00\u4e2a\u6837\u672c\u503c\u548c\u591a\u4e2a\u6807\u7b7e\u7ec4\u6210\uff09</p> <p>\u8303\u56f4\u5411\u91cf\uff08Range vector\uff09\uff1a \u7ed9\u5b9a\u65f6\u95f4\u8303\u56f4\u4e0a\u7684\u4e00\u7ec4\u65f6\u95f4\u5e8f\u5217\uff0c\u6bcf\u4e2a\u65f6\u95f4\u5e8f\u5217\u5305\u542b\u8be5\u6bb5\u65f6\u95f4\u5185\u7684\u6837\u672c\u503c\u3002</p> <p>\u6807\u91cf\uff08Scalar\uff09\uff1a \u4e00\u4e2a\u7b80\u5355\u7684\u6d6e\u70b9\u503c</p> <p>\u5b57\u7b26\u4e32\uff08String\uff09\uff1a \u4e00\u4e2a\u7b80\u5355\u7684\u5b57\u7b26\u4e32\u503c\uff1b\u76ee\u524d\u672a\u542f\u7528</p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#_8","title":"\u65f6\u95f4\u5e8f\u5217\u9009\u62e9\u5668","text":"","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#_9","title":"\u77ac\u65f6\u5411\u91cf\u9009\u62e9","text":"<ul> <li> <p>\u6309\u7ed9\u5b9a\u65f6\u95f4\u6233\uff08\u5373\u65f6\uff09\u9009\u62e9\u4e00\u7ec4\u65f6\u95f4\u5e8f\u5217\u548c\u6bcf\u4e2a\u65f6\u95f4\u5e8f\u5217\u7684\u5355\u4e2a\u6837\u672c\u503c   \u6700\u7b80\u5355\u7684\u5f62\u5f0f\uff1a <code>http_requests_total</code></p> </li> <li> <p>\u53ef\u4ee5\u901a\u8fc7\u5728\u5927\u62ec\u53f7 ( {} ) \u4e2d\u4f7f\u7528\u9017\u53f7\u5206\u9694\u7684\u6807\u7b7e\u5339\u914d\u5217\u8868\u8fc7\u6ee4\u65f6\u95f4\u5e8f\u5217   \u4f7f\u7528\u6807\u7b7e\u8fc7\u6ee4\uff1a<code>http_requests_total{job=\"prometheus\",group=\"canary\"}</code></p> </li> <li> <p>\u5411\u91cf\u9009\u62e9\u5668\u5fc5\u987b\u6307\u5b9a\u4e00\u4e2a\u540d\u79f0\u6216\u81f3\u5c11\u4e00\u4e2a\u4e0e\u7a7a\u5b57\u7b26\u4e32\u4e0d\u5339\u914d\u7684\u6807\u7b7e\u5339\u914d\u5668</p> </li> </ul> <pre><code>{job=\\~\".\\*\"} # Bad! \u5339\u914d\u4e86\u7a7a\u6807\u7b7e\u5b57\u7b26\u4e32\u503c\n{job=~\".+\"}              # Good! \u672a\u5339\u914d\u7a7a\u6807\u7b7e\u5b57\u7b26\u4e32\u503c\n{job=~\".*\",method=\"get\"} # Good! \u672a\u5339\u914d\u7a7a\u6807\u7b7e\u5b57\u7b26\u4e32\u503c\n</code></pre> <ul> <li>\u5185\u7f6e\u6807\u7b7e\u540d <code>__name__</code> \u8868\u793a\u6307\u6807\u540d\u79f0   <code>{__name__=\"http_requests_total\",job=~\".+\"}</code></li> </ul> <p>\u67e5\u8be2\u65f6\uff0c\u6807\u7b7e\u540d\u79f0\u4e0d\u80fd\u4f7f\u7528\u5173\u952e\u5b57\uff0c\u4f46\u662f\u53ef\u4ee5\u4f7f\u7528 <code>__name__</code> \u6807\u7b7e\u540d\u6765\u4f7f\u7528\u5173\u952e\u5b57   \u5173\u952e\u5b57: <code>bool, on, ignoring, group_left and group_right</code> <code>{__name__=\"on\"} # Good! \u901a\u8fc7 __name__ \u4f7f\u7528\u6807\u7b7e\u540d\u662f\u5173\u952e\u5b57\u6807\u7b7e</code></p> <ul> <li> <p>\u6807\u7b7e\u5339\u914d\u8fd0\u7b97\u7b26</p> </li> <li> <p><code>=</code>\uff1a \u9009\u62e9\u4e0e\u6307\u5b9a\u7684\u5b57\u7b26\u4e32\u5b8c\u5168\u76f8\u7b49\u7684\u6807\u7b7e</p> </li> <li><code>!=</code>\uff1a\u9009\u62e9\u4e0e\u6307\u5b9a\u7684\u5b57\u7b26\u4e32\u4e0d\u76f8\u7b49\u7684\u6807\u7b7e</li> <li><code>=~</code>\uff1a\u9009\u62e9\u4e0e\u6307\u5b9a\u7684\u5b57\u7b26\u4e32\u6ee1\u8db3\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u7684\u6807\u7b7e</li> <li><code>!~</code>\uff1a\u9009\u62e9\u4e0e\u6307\u5b9a\u7684\u5b57\u7b26\u4e32\u4e0d\u6ee1\u8db3\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u7684\u6807\u7b7e</li> </ul>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#_10","title":"\u8303\u56f4\u5411\u91cf\u9009\u62e9","text":"<p>\u5728\u77ac\u65f6\u5411\u91cf\u9009\u62e9\u5668\u540e\u4f7f\u7528\u65b9\u62ec\u53f7<code>[]</code>\u6765\u6307\u5b9a\u8303\u56f4\u5411\u91cf\u7684\u65f6\u95f4\u8303\u56f4\uff0c\u65f6\u95f4\u8303\u56f4\u662f\u95ed\u533a\u95f4\u3002 \u6307\u6807 <code>http_requests_total</code> \u4e14 <code>job</code> \u4e3a <code>prometheus</code> \u7684\u6307\u6807\u8fc7\u53bb5\u5206\u949f\u5185\u7684\u8303\u56f4\u5411\u91cf\u503c\uff1a <code>http_requests_total{job=\"prometheus\"}[5m]</code></p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#_11","title":"\u65f6\u95f4\u683c\u5f0f","text":"<ul> <li>ms \u6beb\u79d2</li> <li>s \u79d2</li> <li>m \u5206\u949f</li> <li>h \u5c0f\u65f6</li> <li>d \u5929</li> <li>w \u5468</li> <li>y \u5e74</li> </ul> <p>\u65f6\u95f4\u53ef\u4ee5\u4e32\u8054\u7ec4\u5408\uff0c\u5355\u4f4d\u5fc5\u987b\u6309\u7167\u4ece\u6700\u957f\u5230\u6700\u77ed\u7684\u987a\u5e8f\u6392\u5217\uff0c\u540c\u4e00\u4e2a\u5355\u4f4d\u53ea\u80fd\u51fa\u73b0\u4e00\u6b21\u3002</p> <pre><code>5h\n1h30m\n5m\n10s\n1h2h30m # Bad\n</code></pre>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#offset","title":"Offset \u4fee\u9970\u7b26","text":"<p><code>offset</code> \u4fee\u9970\u7b26\u5141\u8bb8\u66f4\u6539\u67e5\u8be2\u4e2d\u5404\u4e2a\u77ac\u65f6\u5411\u91cf\u548c\u8303\u56f4\u5411\u91cf\u7684\u65f6\u95f4\u504f\u79fb\uff0c<code>offset</code> \u4fee\u9970\u7b26\u59cb\u5fc5\u987b\u7d27\u8ddf\u5728\u9009\u62e9\u5668\u540e\u9762\u3002</p> <pre><code>http_requests_total offset 5m # \u76f8\u5bf9\u4e8e\u73b0\u5728 5 \u5206\u949f\u524d\u7684\u5411\u91cf\u503c\n\nsum(http_requests_total{method=\"GET\"} offset 5m) // GOOD.\nsum(http_requests_total{method=\"GET\"}) offset 5m // INVALID. \u5fc5\u987b\u7d27\u8ddf\u5411\u91cf\u9009\u62e9\u5668\n\nrate(http_requests_total[5m] offset 1w) # \u540c\u6837\u9002\u7528\u4e8e\u8303\u56f4\u5411\u91cf\uff0c\u4e00\u5468\u524d\nrate(http_requests_total[5m] offset -1w) # \u540c\u6837\u9002\u7528\u4e8e\u8303\u56f4\u5411\u91cf\uff0c\u4e00\u5468\u540e\n</code></pre>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#_12","title":"@ \u4fee\u9970\u7b26","text":"<p><code>@</code> \u4fee\u9970\u7b26\u5141\u8bb8\u66f4\u6539\u67e5\u8be2\u4e2d\u5404\u4e2a\u77ac\u65f6\u5411\u91cf\u548c\u8303\u56f4\u5411\u91cf\u7684\u65f6\u95f4\u6233\uff0c\u65f6\u95f4\u683c\u5f0f\u4e3a unix \u65f6\u95f4\u6233\uff0c\u5185\u90e8\u4f7f\u7528\u6d6e\u70b9\u6570\u8868\u793a\u3002<code>@</code> \u4fee\u9970\u7b26\u59cb\u5fc5\u987b\u7d27\u8ddf\u5728\u9009\u62e9\u5668\u540e\u9762\u3002</p> <pre><code>http_requests_total @ 1609746000 # 2021-01-04T07:40:00+00:00 \u7684\u6307\u6807\u503c\n\nsum(http_requests_total{method=\"GET\"} @ 1609746000) # GOOD.\nsum(http_requests_total{method=\"GET\"}) @ 1609746000 # BAD.\n\nrate(http_requests_total[5m] @ 1609746000) # \u9002\u7528\u4e8e\u8303\u56f4\u5411\u91cf 2021-01-04T07:40:00+00:00 \u7684\u6307\u6807\u503c\n</code></pre> <p><code>@</code> \u4fee\u9970\u7b26\u53ef\u4ee5\u548c <code>Offset</code> \u4fee\u9970\u7b26\u4e00\u8d77\u4f7f\u7528\uff0c\u8868\u793a\u5728 <code>@</code> \u4fee\u9970\u7b26\u6307\u5b9a\u7684\u65f6\u95f4\u4e0a\u8fdb\u884c <code>Offset</code> \u504f\u79fb\uff0c\u7ed3\u679c\u548c\u8fd9\u4e24\u4e2a\u4fee\u9970\u7b26\u7684\u987a\u5e8f\u65e0\u5173\u3002</p> <pre><code># \u4ee5\u4e0b\u4e24\u79cd\u5f62\u5f0f\u76f8\u540c\n# offset after @\nhttp_requests_total @ 1609746000 offset 5m\n# offset before @\nhttp_requests_total offset 5m @ 1609746000\n</code></pre> <p><code>start()</code> \u548c <code>end()</code> \u5185\u7f6e\u51fd\u6570\u53ef\u4ee5\u642d\u914d <code>@</code> \u4fee\u9970\u7b26\u4f7f\u7528</p> <ul> <li>\u5bf9\u4e8e\u77ac\u65f6\u67e5\u8be2\uff0c<code>start()</code> \u548c <code>end()</code> \u90fd\u89e3\u6790\u4e3a\u8868\u8fbe\u5f0f\u8ba1\u7b97\u7684\u65f6\u7684\u65f6\u95f4\u3002</li> <li>\u5bf9\u4e8e\u8303\u56f4\u67e5\u8be2\uff0c\u5206\u522b\u89e3\u6790\u4e3a\u8303\u56f4\u67e5\u8be2\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u65f6\u95f4\u3002</li> </ul>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#_13","title":"\u64cd\u4f5c\u7b26\u548c\u51fd\u6570","text":"<p>\u64cd\u4f5c\u7b26\u5217\u8868\u548c\u793a\u4f8b\uff1ahttps://prometheus.io/docs/prometheus/latest/querying/operators/</p> <p>\u51fd\u6570\u5217\u8868\u548c\u793a\u4f8b\uff1ahttps://prometheus.io/docs/prometheus/latest/querying/functions/</p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#_14","title":"\u793a\u4f8b","text":"<p>\u67e5\u8be2\u8bed\u53e5\u793a\u4f8b\uff1ahttps://prometheus.io/docs/prometheus/latest/querying/examples/</p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#alertmanager","title":"Alertmanager","text":"<p><code>Alertmanager</code> \u5904\u7406\u5e94\u7528\u7a0b\u5e8f\uff08\u4f8b\u5982 Prometheus \u670d\u52a1\u5668\uff09\u53d1\u9001\u7684\u544a\u8b66\u3002</p> <p><code>Prometheus</code> \u7684\u544a\u8b66\u529f\u80fd\u5206\u4e3a\u4e24\u90e8\u5206\u3002<code>Prometheus</code> \u6309\u670d\u52a1\u4e2d\u7684\u544a\u8b66\u89c4\u5219\u5c06\u544a\u8b66\u53d1\u9001\u5230\u544a\u8b66\u7ba1\u7406\u5668\uff1b\u7136\u540e\uff0c<code>Alertmanager</code> \u7ba1\u7406\u8fd9\u4e9b\u544a\u8b66\uff0c\u5305\u62ec\u6c89\u9ed8\u3001\u6291\u5236\u3001\u805a\u5408\u4ee5\u53ca\u901a\u8fc7\u7535\u5b50\u90ae\u4ef6\u3001\u901a\u77e5\u7cfb\u7edf\u548c\u804a\u5929\u5e73\u53f0\u7b49\u65b9\u5f0f\u53d1\u9001\u901a\u77e5\u3002</p> <p><code>Alertmanager</code> \u652f\u6301\u521b\u5efa\u96c6\u7fa4\u4ee5\u5b9e\u73b0\u9ad8\u53ef\u7528\u6027\uff0c\u4f46\u662f\u4e0d\u8981\u5728 <code>Prometheus</code>\u96c6\u7fa4 \u548c <code>Alertmanager</code> \u96c6\u7fa4\u505a\u8d1f\u8f7d\u5747\u8861\uff0c\u8981\u5728 <code>Prometheus</code> \u91cc\u914d\u7f6e\u6240\u6709\u7684 <code>Alertmanagers</code> \u5217\u8868\u3002\u56e0\u4e3a\u540c\u4e00\u8b66\u544a\u53ef\u80fd\u88ab\u53d1\u9001\u5230\u4e0d\u540c\u7684 Alertmanager\uff0c\u5bfc\u81f4\u8b66\u544a\u7684\u5904\u7406\u4e0d\u4e00\u81f4\u3002</p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#grouping","title":"Grouping\uff08\u5206\u7ec4\uff09","text":"<p>\u5206\u7ec4\u5c06\u76f8\u4f3c\u7684\u544a\u8b66\u5408\u5e76\u4e3a\u5355\u4e2a\u901a\u77e5\u3002\u670d\u52a1\u5927\u89c4\u6a21\u505c\u673a\u7684\u573a\u666f\u4f1a\u5f88\u6709\u7528\uff0c\u6b64\u65f6\u8bb8\u591a\u7cfb\u7edf\u540c\u65f6\u53d1\u751f\u6545\u969c\uff0c\u53ef\u80fd\u89e6\u53d1\u6570\u767e\u5230\u6570\u5343\u4e2a\u544a\u8b66\u3002</p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#inhibition","title":"Inhibition\uff08\u6291\u5236\uff09","text":"<p>\u6291\u5236\u662f\u5728\u67d0\u4e9b\u7279\u5b9a\u544a\u8b66\u5df2\u7ecf\u89e6\u53d1\u7684\u60c5\u51b5\u4e0b\u6291\u5236\u67d0\u4e9b\u544a\u8b66\u7684\u901a\u77e5\u3002\u53ef\u4ee5\u963b\u6b62\u5927\u91cf\u4e0e\u5b9e\u9645\u95ee\u9898\u65e0\u5173\u7684\u544a\u8b66\u901a\u77e5\u3002</p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#silences","title":"Silences\uff08\u9759\u9ed8\uff09","text":"<p>\u9759\u9ed8\u662f\u5728\u7279\u5b9a\u65f6\u95f4\u5185\u4e0d\u53d1\u9001\u544a\u8b66\u3002<code>Alertmanager</code> \u68c0\u67e5\u6536\u5230\u7684\u544a\u8b66\u662f\u5426\u4e0e\u9759\u9ed8\u914d\u7f6e\u5339\u914d\uff0c\u5982\u679c\u5339\u914d\uff0c\u5219\u4e0d\u4f1a\u53d1\u9001\u8be5\u544a\u8b66\u7684\u4efb\u4f55\u901a\u77e5\u3002</p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#_15","title":"\u53ef\u89c6\u5316","text":"","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#_16","title":"\u8868\u8fbe\u5f0f\u6d4f\u89c8\u5668","text":"<p>\u8868\u8fbe\u5f0f\u6d4f\u89c8\u5668\u662f <code>Prometheus</code> \u670d\u52a1\u81ea\u5e26\u7684\u6307\u6807\u5c55\u793a\u529f\u80fd\uff0c\u901a\u8fc7 <code>Prometheus</code> \u670d\u52a1\u5730\u5740+ <code>/graph</code>\u8bbf\u95ee\uff0c\u5141\u8bb8\u8f93\u5165\u4efb\u4f55\u8868\u8fbe\u5f0f\u5e76\u4ee5\u8868\u683c\u6216\u56fe\u8868\u5f62\u5f0f\u67e5\u770b\u7ed3\u679c\u3002</p> <p>\u5982\uff1ahttp://127.0.0.1:9090/graph</p> <p></p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#grafana","title":"Grafana","text":"<p><code>Grafana</code> \u662f\u5f00\u6e90\u53ef\u89c6\u5316\u548c\u5206\u6790\u8f6f\u4ef6\u3002\u652f\u6301\u67e5\u8be2\u3001\u53ef\u89c6\u5316\u3001\u8b66\u62a5\u6307\u6807\u3001\u65e5\u5fd7\u548c\u8ddf\u8e2a\uff0c\u65e0\u8bba\u5b83\u4eec\u5b58\u50a8\u5728\u4f55\u5904\u3002\u5b83\u4e3a\u60a8\u63d0\u4f9b\u4e86\u5c06\u65f6\u95f4\u5e8f\u5217\u6570\u636e\u5e93 (TSDB) \u6570\u636e\u8f6c\u6362\u4e3a\u5bcc\u6709\u6d1e\u5bdf\u529b\u7684\u56fe\u8868\u548c\u53ef\u89c6\u5316\u7684\u5de5\u5177\u3002</p> <ul> <li>\u6570\u636e\u6e90\uff1a Grafana \u652f\u6301\u591a\u79cd\u4e0d\u540c\u7684\u6570\u636e\u6e90\uff0c\u5305\u62ec Prometheus\u3001InfluxDB\u3001Elasticsearch\u3001MySQL \u7b49\u3002\u7528\u6237\u53ef\u4ee5\u8f7b\u677e\u5c06\u5176\u6570\u636e\u5bfc\u5165\u5230 Grafana \u4e2d\u8fdb\u884c\u53ef\u89c6\u5316\u3002</li> <li>\u4eea\u8868\u76d8\uff1a Grafana \u63d0\u4f9b\u4e86\u4e00\u4e2a\u7075\u6d3b\u6613\u7528\u7684\u4eea\u8868\u76d8\u7f16\u8f91\u5668\uff0c\u53ef\u8ba9\u7528\u6237\u521b\u5efa\u81ea\u5b9a\u4e49\u7684\u53ef\u89c6\u5316\u56fe\u8868\u548c\u9762\u677f\u3002\u8fd9\u4e9b\u4eea\u8868\u76d8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u81ea\u7531\u5e03\u5c40\uff0c\u5e76\u4e14\u53ef\u4ee5\u8f7b\u677e\u5730\u5d4c\u5165\u5230\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f\u6216\u7f51\u7ad9\u4e2d\u3002</li> <li>\u67e5\u8be2\uff1a Grafana \u5177\u6709\u5f3a\u5927\u7684\u67e5\u8be2\u529f\u80fd\uff0c\u53ef\u4ee5\u5e2e\u52a9\u7528\u6237\u5feb\u901f\u68c0\u7d22\u548c\u5206\u6790\u6570\u636e\u3002\u67e5\u8be2\u8bed\u8a00\u5305\u62ec SQL\u3001PromQL \u7b49\u3002</li> <li>\u53ef\u89c6\u5316\uff1a Grafana \u63d0\u4f9b\u4e86\u591a\u79cd\u6570\u636e\u53ef\u89c6\u5316\u9009\u9879\uff0c\u5305\u62ec\u56fe\u8868\u3001\u8868\u683c\u3001\u5730\u56fe\u3001\u5355\u503c\u6307\u6807\u7b49\u3002</li> <li>\u8b66\u62a5\uff1a Grafana \u8fd8\u652f\u6301\u8b66\u62a5\u529f\u80fd\uff0c\u53ef\u4ee5\u901a\u8fc7\u7535\u5b50\u90ae\u4ef6\u3001Slack\u3001PagerDuty \u7b49\u6e20\u9053\u5411\u7528\u6237\u53d1\u9001\u8b66\u62a5\uff0c\u5e76\u5728\u53d1\u751f\u4e8b\u4ef6\u65f6\u901a\u77e5\u7528\u6237\u3002</li> </ul> <p></p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#_17","title":"\u76d1\u63a7\u670d\u52a1\u6307\u6807\u5b9e\u6218","text":"<p>\u901a\u5e38\u9700\u8981\u76d1\u63a7\u7684\u6307\u6807\u7c7b\u522b\u6709\uff1a</p> <p>\u4e1a\u52a1\u6307\u6807\uff1a \u4e1a\u52a1\u6307\u6807\u53ef\u4ee5\u76f4\u89c2\u7684\u53cd\u9988\u4e1a\u52a1\u6216\u8005\u7cfb\u7edf\u529f\u80fd\u662f\u5426\u6b63\u5e38\u53ef\u7528\uff0c\u5e38\u7528\u7684\u6307\u6807\u6709\u4e1a\u52a1\u8bf7\u6c42\u541e\u5410\u91cf\u3001\u4e1a\u52a1\u6210\u529f\u7387\u3002</p> <p>\u670d\u52a1\u6307\u6807\uff1a \u670d\u52a1\u6307\u6807\u662f\u6307\u80fd\u591f\u53cd\u9988\u4e1a\u52a1\u4f9d\u8d56\u7684\u670d\u52a1\u662f\u5426\u53ef\u7528\u7684\u6307\u6807\uff0c\u7edf\u8ba1\u7684\u6307\u6807\u7c7b\u578b\u7c7b\u4f3c\u4e8e\u4e1a\u52a1\u6307\u6807\uff0c\u53ea\u4e0d\u8fc7\u662f\u63a5\u53e3\u7ef4\u5ea6\uff0c\u540c\u6837\u53ef\u4ee5\u5206\u4e3a\u541e\u5410\u91cf\u3001\u6210\u529f\u7387\u4ee5\u53ca\u6027\u80fd\u3002</p> <p>\u73af\u5883\u6307\u6807\uff1a\u73af\u5883\u6307\u6807\u4e5f\u662f\u8d44\u6e90\u6307\u6807\uff0c\u7528\u6765\u53cd\u9988\u5e95\u5c42\u57fa\u7840\u8bbe\u65bd\u6216\u8005\u4f9d\u8d56\u670d\u52a1\u53ef\u7528\u7387\u3002\u5982\u4f7f\u7528\u7387\u3001\u53ef\u7528\u6027\u3001\u6027\u80fd\u7b49\u3002</p> <p>\u73af\u5883\u6307\u6807\u901a\u5e38\u7531\u57fa\u7840\u7ec4\u4ef6\u670d\u52a1\u672c\u8eab\u652f\u6301\u6216\u8005\u7b2c\u4e09\u65b9\u5e93\u652f\u6301\uff0c\u5728 <code>Prometheus</code> \u6982\u5ff5\u4e2d\u79f0\u4f5c <code>exporters</code></p> <p>\u652f\u6301\u7684\u7b2c\u4e09\u65b9\u670d\u52a1 <code>exporters</code> \u5217\u8868\uff1ahttps://prometheus.io/docs/instrumenting/exporters/</p> <p>\u4ee5\u4e0b\u4ecb\u7ecd\u5982\u4f55\u8fdb\u884c\u4e1a\u52a1\u548c\u670d\u52a1\u7684\u6307\u6807\u76d1\u63a7\uff0c\u4ee5 <code>golang</code> \u8bed\u8a00\u4e3a\u4f8b\u3002</p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#_18","title":"\u6ce8\u518c\u6307\u6807","text":"<p>\u9700\u8981\u76d1\u63a7\u7684\u6307\u6807\u9700\u8981\u5148\u5728\u4ee3\u7801\u4e2d\u5b9a\u4e49\uff0c\u7136\u540e\u901a\u8fc7\u4e0d\u540c\u8bed\u8a00\u7684 <code>SDK</code> \u8fdb\u884c\u6ce8\u518c</p> <p>\u4ee5\u4e0b\u662f\u6536\u96c6\u670d\u52a1\u7684\u6bcf\u4e2a\u63a5\u53e3\u7684\u54cd\u5e94\u65f6\u95f4\u7684\u6307\u6807\u5b9a\u4e49\u548c\u6ce8\u518c\u65b9\u5f0f\uff1a</p> <pre><code>package server\n\nimport \"github.com/prometheus/client_golang/prometheus\"\n\n// \u5b9a\u4e49\u6307\u6807\nvar (\n    namespace = \"airline\"\n    subsystem = \"booking\"\n\n    _metricSeconds = prometheus.NewHistogramVec(prometheus.HistogramOpts{\n        Namespace: namespace,\n        Subsystem: subsystem,\n        Name:      \"grpc_server_handling_seconds\",\n        Help:      \"Histogram of response latency (seconds) of gRPC that had been application-level handled by the server.\",\n        Buckets:   prometheus.DefBuckets,\n    }, []string{\"kind\", \"operation\"})\n)\n\n// \u6ce8\u518c\u6307\u6807\nfunc init() {\n prometheus.MustRegister(_metricSeconds)\n}\n</code></pre> <p>Namespace: \u6307\u6807\u6240\u5c5e\u7684\u547d\u540d\u7a7a\u95f4\uff0c\u901a\u5e38\u4e3a\u4e1a\u52a1\u5206\u7c7b\uff0c\u4f7f\u7528\u5355\u4e2a\u5355\u8bcd\u8868\u793a\u3002 Subsystem\uff1a \u6307\u6807\u6240\u5c5e\u7684\u5b50\u7cfb\u7edf\uff0c\u901a\u5e38\u4e3a\u4e1a\u52a1\u5185\u90e8\u670d\u52a1\u540d\uff0c\u4f7f\u7528\u5355\u4e2a\u5355\u8bcd\u8868\u793a\u3002 Name\uff1a \u6307\u6807\u540d\u79f0</p> <p>\u5176\u4e2d <code>Namespace</code> \u548c <code>Subsystem</code> \u662f\u53ef\u9009\u9879\u3002</p> <p>\u6307\u6807\u540d\u79f0\u62fc\u63a5\u89c4\u5219\uff1a</p> <pre><code>func BuildFQName(namespace, subsystem, name string) string {\n    if name == \"\" {\n        return \"\"\n    }\n    switch {\n    case namespace != \"\" &amp;&amp; subsystem != \"\":\n        return strings.Join([]string{namespace, subsystem, name}, \"_\")\n    case namespace != \"\":\n        return strings.Join([]string{namespace, name}, \"_\")\n    case subsystem != \"\":\n        return strings.Join([]string{subsystem, name}, \"_\")\n    }\n    return name\n}\n</code></pre> <p>\u6307\u6807\u540d\u548c\u6807\u7b7e\u540d\u547d\u540d\u89c4\u8303\u53c2\u8003\uff1ahttps://prometheus.io/docs/practices/naming/</p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#_19","title":"\u66b4\u9732\u6307\u6807\u6536\u96c6\u63a5\u53e3","text":"<p>\u4e3a\u4e86\u80fd\u591f\u8ba9 <code>Prometheus</code> \u670d\u52a1\u91c7\u96c6\u5230\u670d\u52a1\u6536\u96c6\u7684\u6307\u6807\uff0c\u9700\u8981\u66b4\u9732\u51fa <code>/metrics</code> HTTP \u63a5\u53e3 \uff0c\u5e76\u4e14\u4f7f\u7528 <code>prometheus/promhttp</code> \u5e93\u7684 <code>HTTP Handler</code> \u4f5c\u4e3a\u5904\u7406\u51fd\u6570\u3002</p> <pre><code>import \"github.com/prometheus/client_golang/prometheus/promhttp\"\n\nfunc Register(srv *http.Server){\n    srv.Handle(\"/metrics\", promhttp.Handler())\n}\n</code></pre> <p><code>Prometheus</code> \u6839\u636e\u914d\u7f6e\u7684\u91c7\u96c6\u95f4\u9694\uff0c\u5b9a\u65f6\u4ece\u670d\u52a1\u62c9\u53d6\u6307\u6807\u6570\u636e\u3002</p> <p>\u6536\u96c6\u5230\u7684\u6307\u6807\u6570\u636e\u53ef\u901a\u8fc7\u53ef\u89c6\u5316\u5de5\u5177\u8fdb\u884c\u56fe\u5f62\u7ed8\u5236\u548c\u544a\u8b66\u914d\u7f6e\u3002</p>","tags":["prometheus","alertmanager"]},{"location":"blog/prometheus-guide/#_20","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li> <p>\u660e\u786e\u91c7\u96c6\u76ee\u6807\uff0c\u8bbe\u7f6e\u6b63\u786e\u7684\u6307\u6807</p> </li> <li> <p>\u907f\u514d\u8fc7\u5ea6\u76d1\u63a7</p> </li> </ul> <p>\u8fc7\u591a\u7684\u6307\u6807\u4f1a\u5360\u7528\u5927\u91cf\u5b58\u50a8\uff0c\u4e14\u5bfc\u81f4\u67e5\u8be2\u7f13\u6162</p> <ul> <li>\u6807\u7b7e\u503c\u5fc5\u987b\u662f\u6709\u9650\u503c\u7684\u96c6\u5408</li> </ul> <p>\u6bcf\u4e2a\u4e0d\u540c\u6807\u7b7e\u952e\u503c\u5bf9\u96c6\u5408\u90fd\u4ee3\u8868\u4e00\u4e2a\u4e0d\u540c\u7684\u65f6\u95f4\u5e8f\u5217\uff0c\u5982\u679c\u6807\u7b7e\u503c\u662f\u4efb\u610f\u503c\uff0c\u4f1a\u660e\u663e\u589e\u52a0\u5b58\u50a8\u7684\u6570\u636e\u91cf\u3002\u6807\u7b7e\u503c\u4e0d\u80fd\u662f\u7528\u6237ID\u3001\u8ba2\u5355\u53f7\u3001\u7535\u5b50\u90ae\u4ef6\u7b49\u6709\u65e0\u9650\u4e2a\u4e0d\u540c\u503c\u7684\u6570\u636e\u3002</p> <ul> <li>\u65e0\u6cd5\u7528\u4e8e\u51c6\u786e\u503c\u7edf\u8ba1\u7684\u573a\u666f</li> </ul> <p><code>Prometheus</code> \u91c7\u96c6\u5230\u6570\u636e\u53ef\u80fd\u662f\u4e0d\u5b8c\u6574\u7684</p> <p>\u53c2\u8003\u8d44\u6599\uff1a</p> <ul> <li>Prometheus Docs</li> <li>Grafana Introduction</li> <li>Prometheus instrumentation library for Go applications</li> </ul>","tags":["prometheus","alertmanager"]},{"location":"blog/use-windows-as-linux/","title":"\u542c\u8bf4\u4f60\u60f3\u628awindows\u5f53\u4f5clinux\u7528\uff1f","text":"","tags":["windows","wsl","linux","ssh","openssh","\u5f00\u53d1\u73af\u5883"]},{"location":"blog/use-windows-as-linux/#_1","title":"\u9700\u6c42","text":"<p>\u5982\u679c\u4f60\u6709\u4e00\u53f0\u95f2\u7f6e\u7684PC\uff0c\u800c\u4e14\u5b89\u88c5\u4e86win10\u6216win11\uff0c\u53c8\u60f3\u628a\u8fd9\u53f0PC\u5f53\u505alinux\u670d\u52a1\u7528\uff0c\u6bd4\u5982\u505a\u5f00\u53d1\u673a\u3001\u8dd1\u670d\u52a1\u3002</p>","tags":["windows","wsl","linux","ssh","openssh","\u5f00\u53d1\u73af\u5883"]},{"location":"blog/use-windows-as-linux/#_2","title":"\u5b89\u88c5\u524d\u63d0","text":"<ol> <li>\u4ece\u5e94\u7528\u5546\u5e97\u5b89\u88c5\u5e94\u7528\uff0c\u9700\u8981\u4f7f\u7528\u5fae\u8f6f\u8d26\u53f7\u8fdb\u884c\u767b\u5f55\uff0c\u63d0\u524d\u6ce8\u518c\u597d\u5fae\u8f6f\u8d26\u53f7\u3002</li> <li>\u7cfb\u7edf\u5fc5\u987b\u662fwindows10\u6216windows11</li> <li>\u516c\u53f8\u5185\u90e8\u7f51\u7edc\u4f1a\u9650\u5236\u7cfb\u7edf\u7684\u66f4\u65b0\u548c\u4ece\u5e94\u7528\u5546\u5e97\u5b89\u88c5\u5e94\u7528\uff0c\u8054\u7cfbIT\u90e8\u95e8\u5f00\u901a\u5bf9\u5e94\u6743\u9650\u3002</li> <li>\u5b89\u88c5\u8fc7\u7a0b\u8ba1\u7b97\u673a\u9700\u8981\u91cd\u542f\uff0c\u5b89\u88c5\u524d\u4fdd\u5b58\u597d\u91cd\u8981\u6587\u4ef6</li> </ol>","tags":["windows","wsl","linux","ssh","openssh","\u5f00\u53d1\u73af\u5883"]},{"location":"blog/use-windows-as-linux/#wsl","title":"\u5b89\u88c5\u548c\u542f\u7528wsl","text":"<p>wsl2\u548cwsl1\u533a\u522b\u8be6\u89c1 \u6bd4\u8f83 WSL 1 \u548c WSL 2</p>","tags":["windows","wsl","linux","ssh","openssh","\u5f00\u53d1\u73af\u5883"]},{"location":"blog/use-windows-as-linux/#_3","title":"\u5f00\u542f\u786c\u4ef6\u865a\u62df\u5316\u652f\u6301","text":"<p>\u8ba1\u7b97\u673a\u5fc5\u987b\u652f\u6301\u865a\u62df\u5316\u624d\u80fd\u5b89\u88c5wsl\uff0c\u4e0d\u540c\u7684\u4e3b\u677f\u8fdb\u5165BIOS\u8bbe\u7f6e\u7684\u65b9\u5f0f\u4e0d\u540c\uff0c\u5177\u4f53\u53c2\u7167\u8be5\u4e3b\u677f\u64cd\u4f5c\u6587\u6863\u3002\u5728\u83dc\u5355\u4e2d\u627e\u5230\u865a\u62df\u5316\u76f8\u5173\u8bbe\u7f6e\uff0c\u5f00\u542f\u865a\u62df\u5316\u652f\u6301\u3002Intel\u7684\u4e00\u822c\u662f<code>Intel Virtual Technology</code>\uff0c\u7b80\u79f0<code>IVT</code>\uff0c\u5f00\u542f\u540e\uff0c\u5728<code>\u4efb\u52a1\u7ba1\u7406\u5668</code>-<code>\u6027\u80fd</code>-<code>CPU</code>\u4e2d\u53ef\u4ee5\u770b\u5230\u865a\u62df\u5316<code>\u5df2\u542f\u7528</code>\u3002</p>","tags":["windows","wsl","linux","ssh","openssh","\u5f00\u53d1\u73af\u5883"]},{"location":"blog/use-windows-as-linux/#wsl_1","title":"\u65b0\u7248\u672c\u7cfb\u7edf\u5b89\u88c5wsl","text":"<p>\u5982\u679c\u7cfb\u7edf\u8fd0\u884c Windows 10 \u7248\u672c 2004 \u53ca\u66f4\u9ad8\u7248\u672c\uff08\u5185\u90e8\u7248\u672c 19041 \u53ca\u66f4\u9ad8\u7248\u672c\uff09\u6216 Windows 11\uff0c\u53ef\u4f7f\u7528\u65b0\u7248\u7684\u7b80\u6613\u5b89\u88c5\u65b9\u6cd5\uff0c\u81ea\u52a8\u542f\u7528\u6240\u9700\u7684\u53ef\u9009\u7ec4\u4ef6\uff0c\u4e0b\u8f7d\u6700\u65b0\u7684 Linux \u5185\u6838\uff0c\u5c06 WSL 2 \u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u503c\uff0c\u5e76\u9ed8\u8ba4\u5b89\u88c5 Linux \u53d1\u884c\u7248 Ubuntu\u3002</p>","tags":["windows","wsl","linux","ssh","openssh","\u5f00\u53d1\u73af\u5883"]},{"location":"blog/use-windows-as-linux/#wsl_2","title":"\u65e7\u7248\u7cfb\u7edf\u5b89\u88c5wsl","text":"<p>\u65e7\u7248\u7cfb\u7edf\u5b89\u88c5\u53ef\u53c2\u7167\u8be5\u6587\u6863\u8fdb\u884c\u624b\u52a8\u5b89\u88c5</p>","tags":["windows","wsl","linux","ssh","openssh","\u5f00\u53d1\u73af\u5883"]},{"location":"blog/use-windows-as-linux/#linux-windows","title":"\u4f7f\u7528\u7cfb\u7edf\u8bbe\u7f6e\u542f\u7528\u865a\u62df\u673a\u5e73\u53f0\u548c\u9002\u7528\u4e8e Linux \u7684 Windows \u5b50\u7cfb\u7edf\u529f\u80fd","text":"<ul> <li>win10</li> </ul> <p>\u6253\u5f00<code>\u8bbe\u7f6e</code> - <code>\u5e94\u7528\u548c\u529f\u80fd</code>\uff0c\u53f3\u4e0a\u89d2\u4f4d\u7f6e<code>\u7a0b\u5e8f\u548c\u529f\u80fd</code> - <code>\u542f\u7528\u6216\u5173\u95edWindows\u529f\u80fd</code> - \u52fe\u9009<code>\u9002\u7528\u4e8eLinux\u7684Windows\u5b50\u7cfb\u7edf</code>\u548c<code>\u865a\u62df\u673a\u5e73\u53f0</code>\uff0c\u5982\u4e0b\u56fe\u6240\u793a</p> <ul> <li>win11</li> </ul> <p>\u6253\u5f00<code>\u8bbe\u7f6e</code> - <code>\u5e94\u7528</code>\uff0c\u6700\u4e0b\u9762<code>\u66f4\u591awindows\u529f\u80fd</code> -  \u52fe\u9009<code>\u9002\u7528\u4e8eLinux\u7684Windows\u5b50\u7cfb\u7edf</code>\u548c<code>\u865a\u62df\u673a\u5e73\u53f0</code>\uff0c\u5982\u4e0b\u56fe\u6240\u793a</p> <p> </p>","tags":["windows","wsl","linux","ssh","openssh","\u5f00\u53d1\u73af\u5883"]},{"location":"blog/use-windows-as-linux/#wslssh","title":"wsl\u5b89\u88c5\u542f\u7528ssh\u670d\u52a1","text":"<p>\u4ee5\u4e0b\u547d\u4ee4\u5047\u8bbewsl\u4f7f\u7528<code>ubuntu</code>linux\u53d1\u884c\u7248 1. \u66f4\u65b0wsl\u7684\u5305\u5e93<code>apt update -y &amp;&amp; apt upgrade -y</code> 2. \u5b89\u88c5<code>openssh-server</code> <pre><code># \u641c\u7d22openssh-server\n$ apt search openssh-server\nSorting... Done\nFull Text Search... Done\nopenssh-server/focal-updates,now 1:8.2p1-4ubuntu0.3 amd64 [installed]\n  secure shell (SSH) server, for secure access from remote machines\n# \u5b89\u88c5 openssh-server\n$ sudo apt install openssh-server \n</code></pre> 3. ssh\u670d\u52a1\u914d\u7f6e\u8c03\u6574</p> <p>\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\u4e3a<code>/etc/ssh/sshd_config</code>\uff0c\u4f7f\u7528root\u6743\u9650\u6253\u5f00\u6587\u4ef6\u8fdb\u884c\u5bf9\u5e94\u4fee\u6539\uff0c<code>sudo vim /etc/ssh/sshd_config</code>\uff0c\u5982\u679c\u4f7f\u7528\u914d\u7f6e\u9ed8\u8ba4\u503c\uff0c\u76f4\u63a5\u8fdb\u884c\u7b2c4\u6b65\u64cd\u4f5c\u3002</p> <ol> <li>\u542f\u52a8ssh\u670d\u52a1 <pre><code># \u67e5\u770bsshd\u670d\u52a1\u72b6\u6001\nsudo service ssh status\n# \u542f\u52a8sshd\u670d\u52a1\nsudo service ssh start\n# \u505c\u6b62sshd\u670d\u52a1\nsudo service ssh sttop\n# \u91cd\u65b0\u542f\u52a8sshd\u670d\u52a1\nsudo service ssh restart\n</code></pre></li> <li>\u8bbe\u7f6ewsl ssh\u670d\u52a1\u5f00\u673a\u542f\u52a8</li> </ol> <p>wsl\u542f\u52a8\u65f6\uff0cssh\u670d\u52a1\u9ed8\u8ba4\u4e0d\u4f1a\u81ea\u52a8\u5f00\u542f\uff0c\u53ef\u4ee5\u624b\u52a8\u5f00\u542f\u6216\u914d\u7f6e\u4e3a\u5f00\u673a\u542f\u52a8\u3002</p> <ul> <li>\u6dfb\u52a0wsl\u7528\u6237\u540d\u4e3asudo\u7528\u6237\uff0c\u5e76\u8bbe\u7f6e\u4e0d\u9700\u8981\u5bc6\u7801</li> <li><code>sudo visudo</code>\u6253\u5f00<code>/etc/sudoers</code>\u6587\u4ef6</li> <li>\u6dfb\u52a0\u4ee5\u4e0b\u4fee\u6539   <pre><code>root    ALL=(ALL:ALL) ALL\n\u5728\u4e0a\u9762\u4e00\u884c\u4e0b\u9762\u6dfb\u52a0\n{wsl-username} ALL=(ALL:ALL) NOPASSWD:ALL\n</code></pre></li> <li>\u5728windows\u7cfb\u7edf\u65b0\u5efa\u6587\u4ef6<code>wsl-ssh-start.bat</code></li> <li>\u5199\u5165\u4ee5\u4e0b\u547d\u4ee4<code>wsl sudo service ssh start</code></li> <li>Win+R\u6253\u5f00<code>\u8fd0\u884c</code>\uff0c\u8f93\u5165<code>shell:startup</code>\u6253\u5f00\u542f\u52a8\u6587\u4ef6\u5939\uff0c\u590d\u5236\u6587\u4ef6<code>wsl-ssh-start.bat</code>\u5230\u8be5\u6587\u4ef6\u5939\u3002</li> </ul>","tags":["windows","wsl","linux","ssh","openssh","\u5f00\u53d1\u73af\u5883"]},{"location":"blog/use-windows-as-linux/#_4","title":"\u6dfb\u52a0\u7aef\u53e3\u6620\u5c04","text":"<p>wsl\u7684ip\u5728windows\u7cfb\u7edf\u6bcf\u6b21\u91cd\u542f\u540e\u4f1a\u53d1\u751f\u6539\u53d8\uff0c\u53ef\u4ee5\u5728\u6bcf\u6b21\u91cd\u542f\u540e\u4f7f\u7528\u811a\u672c\u83b7\u53d6wsl\u7684ip\u5e76\u6dfb\u52a0\u7aef\u53e3\u6620\u5c04</p> <ol> <li>\u65b0\u5efa\u6587\u4ef6<code>batch-add-portproxy.ps1</code>\u6dfb\u52a0\u4ee5\u4e0b\u4ee3\u7801 <pre><code># \u6dfb\u52a0wsl\u7aef\u53e3\u8f6c\u53d1\n$wsl_ip = (wsl hostname -I).trim()\nWrite-Host \"WSL Machine IP: \"\"$wsl_ip\"\"\"\nnetsh interface portproxy add v4tov4 listenport={\u5bf9\u5916\u7aef\u53e3} connectport={wsl-ssh-port} connectaddress=$wsl_ip\n</code></pre></li> <li>\u6dfb\u52a0\u5f00\u673a\u542f\u52a8\u4efb\u52a1 \u6253\u5f00<code>\u4efb\u52a1\u8ba1\u5212\u7a0b\u5e8f</code>\uff0c\u5de6\u8fb9\u5217\u8868\u91cc\u9009\u62e9<code>\u4efb\u52a1\u8ba1\u5212\u7a0b\u5e8f\u5e93</code>\uff0c\u53f3\u952e<code>\u521b\u5efa\u57fa\u672c\u4efb\u52a1</code>\uff0c\u586b\u5199\u4efb\u52a1\u540d\uff0c\u4e0b\u4e00\u6b65\u540e\u9009\u62e9<code>\u8ba1\u7b97\u673a\u542f\u52a8\u65f6</code>,\u4e0b\u4e00\u6b65\u9009\u62e9<code>\u542f\u52a8\u7a0b\u5e8f</code>\uff0c\u4e0b\u4e00\u6b65\u9009\u62e9\u811a\u672c\u8def\u5f84\uff0c\u4e0b\u4e00\u6b65\u5b8c\u6210\u3002</li> </ol>","tags":["windows","wsl","linux","ssh","openssh","\u5f00\u53d1\u73af\u5883"]},{"location":"blog/use-windows-as-linux/#ssh","title":"\u9632\u706b\u5899\u5f00\u653essh\u670d\u52a1\u7684\u5bf9\u5916\u7aef\u53e3","text":"<p>windows\u9632\u706b\u5899\u9ed8\u8ba4\u5173\u95ed\u4efb\u4f55\u5bf9\u5916\u7aef\u53e3\uff0c\u5c40\u57df\u7f51\u8bbf\u95ee\u9700\u8981\u5f00\u653e\u7aef\u53e3\u3002 \u9632\u706b\u5899\u5f00\u653e\u7aef\u53e3\uff1a<code>\u8bbe\u7f6e</code>-<code>\u66f4\u65b0\u548c\u5b89\u5168</code>-<code>Windows\u5b89\u5168\u4e2d\u5fc3</code>-<code>\u9632\u706b\u5899\u548c\u7f51\u7edc\u4fdd\u62a4</code>-<code>\u9ad8\u7ea7\u8bbe\u7f6e</code>-<code>\u5165\u7ad9\u89c4\u5219</code>-<code>\u65b0\u5efa\u89c4\u5219</code>-<code>\u7aef\u53e3</code>-<code>\u4e0b\u4e00\u9875</code>-\u9009\u62e9<code>TCP</code>\u548c<code>\u7279\u5b9a\u672c\u5730\u7aef\u53e3</code>\uff0c\u540e\u9762\u586b\u5199ssh\u670d\u52a1\u7684\u5bf9\u5916\u7aef\u53e3-<code>\u4e0b\u4e00\u9875</code>-<code>\u5141\u8bb8\u8fde\u63a5</code>-\u7ee7\u7eed\u4e0b\u4e00\u9875-\u6700\u540e\u4e00\u9875\u586b\u5199\u540d\u79f0</p>","tags":["windows","wsl","linux","ssh","openssh","\u5f00\u53d1\u73af\u5883"]},{"location":"blog/use-windows-as-linux/#sshwsl","title":"\u5c40\u57df\u7f51\u673a\u5668ssh\u8fde\u63a5wsl","text":"<pre><code>ssh -p {\u5bf9\u5916\u7aef\u53e3} wsl-username@windows-ip\n</code></pre>","tags":["windows","wsl","linux","ssh","openssh","\u5f00\u53d1\u73af\u5883"]},{"location":"blog/use-windows-as-linux/#ssh_1","title":"\u914d\u7f6essh\u516c\u94a5\u767b\u5f55","text":"<p>\u516c\u94a5\u767b\u5f55\u53ef\u53c2\u7167Windows OpenSSH \u5bc6\u94a5\u7ba1\u7406</p>","tags":["windows","wsl","linux","ssh","openssh","\u5f00\u53d1\u73af\u5883"]},{"location":"blog/use-windows-as-linux/#_5","title":"\u9519\u8bef\u548c\u95ee\u9898","text":"","tags":["windows","wsl","linux","ssh","openssh","\u5f00\u53d1\u73af\u5883"]},{"location":"blog/use-windows-as-linux/#wslwindows","title":"wsl\u4f7f\u7528windows\u4ee3\u7406","text":"<p>windows cmd\u8fd0\u884c<code>ipconfig</code>\uff0c\u627e\u5230\u672c\u5730IP\u5730\u5740\uff0c\u5728wsl\u91cc\u8bbe\u7f6e\u4ee3\u7406 <pre><code>export ALL_PROXY=\"http://{windows-ip}:{\u4ee3\u7406\u7aef\u53e3}\"\n</code></pre></p>","tags":["windows","wsl","linux","ssh","openssh","\u5f00\u53d1\u73af\u5883"]},{"location":"blog/use-windows-as-linux/#windowsssh","title":"windows\u5b89\u88c5\u548c\u542f\u52a8ssh\u670d\u52a1","text":"<p>windows ssh\u5b89\u88c5\u548c\u542f\u7528\u53c2\u7167\u5fae\u8f6f\u5b98\u65b9\u6587\u6863  OpenSSH \u5165\u95e8</p> <p>\u5728 Windows \u4e2d\uff0cssh\u670d\u52a1\u7684\u540d\u79f0\u4e5f\u662f<code>sshd</code>\uff0c \u9ed8\u8ba4\u4ece<code>%ProgramData%\\ssh\\sshd_config</code> \u4e2d\u8bfb\u53d6\u914d\u7f6e\u6570\u636e\uff0c\u8be5\u6587\u4ef6\u76f8\u5f53\u4e8elinux\u4e0bsshd\u670d\u52a1\u7684\u914d\u7f6e\u6587\u4ef6\u00b7/etc/ssh/sshd_config`\u3002\u53ef\u4ee5\u4fee\u6539\u6587\u4ef6\u914d\u7f6essh\u670d\u52a1\u7684\u7aef\u53e3\uff0c\u8ba4\u8bc1\u65b9\u5f0f\u7b49\u3002</p>","tags":["windows","wsl","linux","ssh","openssh","\u5f00\u53d1\u73af\u5883"]},{"location":"blog/use-windows-as-linux/#windows-sshwslpermission-denied","title":"\u4f7f\u7528\u516c\u94a5\u8bbf\u95eewindows ssh\u670d\u52a1\uff08\u975ewsl\uff09\u51fa\u73b0Permission denied","text":"<pre><code>$ ssh pc-win-ssh\nljc43026@10.181.24.27: Permission denied (publickey,keyboard-interactive).\n</code></pre> <p>\u95ee\u9898\u539f\u56e0\uff1a windows\u7528\u6237\u662f\u7ba1\u7406\u5458\u7528\u6237</p> <p>\u5982\u679c\u7528\u6237\u662f\u7ba1\u7406\u5458\u7528\u6237\uff0c\u5ba2\u6237\u7aef\u7684\u516c\u94a5\u5e94\u8be5\u6dfb\u52a0\u5230<code>administrators_authorized_keys</code>\uff0c\u8be5\u6587\u4ef6\u8def\u5f84\u4e3a<code>%ProgramData%\\ssh\\administrators_authorized_keys</code>\uff0c\u5e76\u4e14\u6b64\u6587\u4ef6\u4e0a\u7684 ACL \u9700\u8981\u914d\u7f6e\u4e3a\u4ec5\u5141\u8bb8\u8bbf\u95ee\u7ba1\u7406\u5458\u548c\u7cfb\u7edf\uff0c\u8bbe\u7f6e\u65b9\u6cd5\u53c2\u89c1\u4fee\u590dadministrators_authorized_keys\u6587\u4ef6\u6743\u9650\u3002</p>","tags":["windows","wsl","linux","ssh","openssh","\u5f00\u53d1\u73af\u5883"]},{"location":"blog/use-windows-as-linux/#_6","title":"\u53c2\u8003\u8d44\u6599","text":"<ul> <li>\u9002\u7528\u4e8e Linux \u7684 Windows \u5b50\u7cfb\u7edf\u6587\u6863</li> <li>\u89e3\u51b3\u8bbf\u95eewindows ssh\u670d\u52a1\u51fa\u73b0Permission denied</li> <li>\u4fee\u590d administrators_authorized_keys  \u6587\u4ef6\u7684\u6743\u9650</li> <li>How to automatically start ssh server on boot on Windows Subsystem for Linux</li> </ul>","tags":["windows","wsl","linux","ssh","openssh","\u5f00\u53d1\u73af\u5883"]},{"location":"blog/website-caddy-hugo-filebrowser/","title":"caddy-hugo-filebrowser\u642d\u5efa\u4e2a\u4eba\u7f51\u7ad9\u548c\u540e\u53f0\u7ba1\u7406","text":"<p>\u4f7f\u7528caddy\u548chugo\u642d\u5efa\u4e2a\u4eba\u7f51\u7ad9</p> <p>\u529f\u80fd\uff1a</p> <ul> <li>\u81ea\u52a8https</li> <li>\u81ea\u52a8\u54cd\u5e94git hook\uff0c\u8fd0\u884chugo\u7f16\u8bd1markdown</li> <li>\u5f00\u673a\u542f\u52a8\u670d\u52a1</li> <li>docker\u90e8\u7f72</li> <li>\u7f51\u7ad9\u540e\u53f0\u7ba1\u7406</li> </ul> <p>\u5047\u5b9a\u5b89\u88c5\u8fc7\u7a0b\u5728\u975eroot\u7528\u6237\u4e0b </p>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#hugo","title":"\u5b89\u88c5 hugo","text":"<pre><code># \u94fe\u63a5\u4fee\u6539\u4e3a\u81ea\u5df1\u9700\u8981\u7684\u7248\u672c\nwget https://github.com/gohugoio/hugo/releases/download/v0.56.3/hugo_0.56.3_Linux-64bit.tar.gz\nmkdir hugo\ntar xvfz hugo_0.56.3_Linux-64bit.tar.gz -C hugo\ncp hugo /usr/local/bin/\n# \u89e3\u538b\u540e\u7684hugo\u9ed8\u8ba4\u6743\u9650\u4e3a755\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u4fee\u6539\u4e00\u4e0b\u6743\u9650\nsudo chmod 755 /usr/local/bin/hugo\n</code></pre>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#caddy","title":"\u5b89\u88c5caddy","text":"<p>caddy\u4e0b\u8f7d\u9875\u9762</p> <p>[\u5b98\u65b9\u6587\u6863]https://caddyserver.com/docs</p> <p>\u9009\u62e9git\u63d2\u4ef6\u8ba9caddy\u54cd\u5e94github\u7684webhook</p>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#_1","title":"\u81ea\u52a8\u5b89\u88c5","text":"<pre><code># \u81ea\u52a8\u5b89\u88c5caddy\ncurl https://getcaddy.com | bash -s personal http.git\n</code></pre>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#_2","title":"\u624b\u52a8\u5b89\u88c5","text":"<pre><code>wget https://caddyserver.com/download/linux/amd64?plugins=http.git&amp;license=personal&amp;telemetry=off\n\nsudo cp /path/to/caddy /usr/local/bin\nsudo chown root:root /usr/local/bin/caddy\nsudo chmod 755 /usr/local/bin/caddy\n</code></pre>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#caddy_1","title":"\u914d\u7f6ecaddy","text":"<p>\u4e0d\u9700\u8981\u628acaddy\u914d\u7f6e\u4e3a\u670d\u52a1\u7684\uff0c\u8bf7\u53c2\u8003Quick Start\u3001Beginner Tutorial\u6216https://github.com/caddyserver/caddy\uff0c\u7b80\u5355\u5feb\u901f\u542f\u52a8\u7f51\u7ad9\u670d\u52a1</p> <p>linux\u4e0b\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5141\u8bb8\u5728\u975eroot\u7528\u6237\u4e0bcaddy\u7ed1\u5b9a\u7cfb\u7edf\u7279\u6743\u7aef\u53e3\uff08e.g. 80, 443\uff09 <pre><code>sudo setcap 'cap_net_bind_service=+ep' /usr/local/bin/caddy\n\u6216\nsudo setcap cap_net_bind_service=+ep $(which caddy)\n</code></pre></p> <p>\u4e3a\u4e86\u5b89\u5168\u8003\u8651\uff0ccaddy\u4e0d\u63a8\u8350\u5728root\u7528\u6237\u4e0b\u8fd0\u884c</p>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#_3","title":"\u6dfb\u52a0\u7528\u6237","text":"<p>\u5982\u679c\u7ec4id\u6216\u7528\u6237id\u91cd\u590d\uff0c\u53ef\u81ea\u884c\u9009\u62e9\u5176\u4ed6id</p> <pre><code>sudo groupadd -g 333 www-data\nsudo useradd \\\n  -g www-data --no-user-group \\\n  --home-dir /var/www --no-create-home \\\n  --shell /usr/sbin/nologin \\\n  --system --uid 333 www-data\n</code></pre>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#caddyfile","title":"Caddyfile","text":"<p>caddy\u53ef\u901a\u8fc7\u547d\u4ee4\u53c2\u6570\u6307\u5b9a\u914d\u7f6e\u9879\u542f\u52a8\u8fd0\u884c\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u542f\u52a8\uff0ccaddy\u7684\u914d\u7f6e\u6587\u4ef6\u540d\u79f0\u56fa\u5b9a\u4e3aCaddyfile\uff0c\u653e\u7f6e\u5728\u7f51\u7ad9\u6839\u76ee\u5f55\u4e0d\u540c\u7f51\u7ad9\u4f7f\u7528\u4e0d\u540c\u7684Caddyfile\u6216\u8005\u653e\u7f6e\u5728/etc/caddy/Caddyfile\uff0c\u591a\u4e2a\u7f51\u7ad9\u5171\u7528\u540c\u4e00\u4e2aCaddyfile</p> <p>Caddyfile\u653e\u7f6e\u5728/etc/caddy/Caddyfile</p> <pre><code>sudo mkdir /etc/caddy\nsudo chown -R root:root /etc/caddy\n\n# \u590d\u5236\u5df2\u6709\u7684Caddyfile\u6216\u65b0\u5efa\nsudo cp /path/to/Caddyfile /etc/caddy/\nsudo touch /etc/caddy/Caddyfile\n\nsudo chown root:root /etc/caddy/Caddyfile\nsudo chmod 644 /etc/caddy/Caddyfile\n</code></pre> <p>Caddyfile\u914d\u7f6e\u4fe1\u606f</p> <pre><code>example.com {\n    root /var/www/website\n    log /var/log/caddy/access.log {\n        rotate_size 50  # 50M\u4ee5\u540e\u8f6e\u8f6c\n    }\n    errors /var/log/caddy/errors.log {\n        rotate_size 50  # 50M\u4ee5\u540e\u8f6e\u8f6c\n    }\n    git {\n        # hugo\u7f51\u7ad9\u76ee\u5f55\u6258\u7ba1\u4ed3\u5e93\n        repo https://github.com/githubusername/mysite\n        # \u4f7f\u7528key \u6258\u7ba1\u4ed3\u5e93\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u79c1\u6709\u4f46\u662f\u8981\u4fee\u6539key\u7684\u6743\u9650\n        # key $HOME/.ssh/id_rsa\n        # --recurse-submodules \u76ee\u5f55\u5305\u542b\u6709\u5b50\u6a21\u5757\n        clone_args --recurse-submodules\n        pull_args --recurse-submodules\n        # \u653e\u7f6e\u4ed3\u5e93\u7684\u8def\u5f84\uff0c\u76f8\u5bf9\u4e8e\u7f51\u7ad9\u6839\u76ee\u5f55\uff0c\u9ed8\u8ba4\u662f\u7f51\u7ad9\u6839\u76ee\u5f55\n        path /var/www/mysite\n        # git web hook \u8def\u5f84 \u53e3\u4ee4\n        hook /webhook xxxxxx\n        # \u6210\u529f\u62c9\u53d6\u540e\u6267\u884c\u7684\u547d\u4ee4\n        then hugo -s /var/www/mysite -d /var/www/website --logFile /var/log/hugo/hugo.log\n    }\n}\n\n# \u91cd\u5b9a\u5411www\u5230example.com\nwww.example.com {\n    redir https://example.com{uri}\n}\n</code></pre>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#ssl","title":"ssl\u914d\u7f6e\u4fe1\u606f","text":"<pre><code>sudo mkdir /etc/ssl/caddy\nsudo chown -R root:www-data /etc/ssl/caddy\nsudo chmod 0770 /etc/ssl/caddy\n</code></pre>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#_4","title":"\u65e5\u5fd7\u6587\u4ef6","text":"<pre><code>sudo mkdir /var/log/caddy\nsudo touch /var/log/caddy/caddy.log\nsudo touch /var/log/caddy/access.log\n\nsudo mkdir /var/log/hugo\nsudo touch /var/log/hugo/hugo.log\n\nsudo chown -R www-data:www-data /var/log/caddy\nsudo chmod -R 0775 /var/log/caddy\n\nsudo chown -R www-data :www-data /var/log/caddy\nsudo chmod -R 0775 /var/log/hugo\n</code></pre>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#_5","title":"\u914d\u7f6e\u7f51\u7ad9","text":"","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#_6","title":"\u7f51\u7ad9\u6839\u76ee\u5f55","text":"<pre><code>sudo mkdir /var/www\nsudo chown www-data:www-data /var/www\nsudo chmod 555 /var/www\n\n# caddy\u4e0d\u4f1a\u81ea\u52a8\u521b\u5efa\u7f51\u7ad9\u6839\u76ee\u5f55 \u590d\u5236\u5df2\u6709\u7f51\u7ad9\u76ee\u5f55\u5230/var/www/\u6216\u8005\u65b0\u5efa\u4e00\u4e2a\u6839\u76ee\u5f55\nsudo cp -R example.com /var/www/\n\u6216\nsudo mkdir /var/www/example.com\n\nsudo chown -R www-data:www-data /var/www/example.com\nsudo chmod -R 555 /var/www/example.com\n</code></pre>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#caddy_2","title":"\u5b89\u88c5caddy\u4e3a\u7cfb\u7edf\u670d\u52a1","text":"<p>\u68c0\u67e5\u7cfb\u7edf\u81ea\u542f\u52a8\u63a7\u5236\u65b9\u5f0f <pre><code># \u68c0\u67e5\u7cfb\u7edf\u81ea\u542f\u52a8\u65b9\u5f0f\nLinux\u7cfb\u7edf\u76ee\u524d\u5b58\u5728\u7684\u4e09\u79cd\u7cfb\u7edf\u521d\u59cb\u5316\u63a7\u5236\u65b9\u5f0f\uff0c\u5bf9\u5e94\u7684\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\u5206\u522b\u4e3a\n/usr/lib/systemd systemd\u65b9\u5f0f\n/usr/share/upstart Upstart\u65b9\u5f0f\n/etc/init.d SysVinit\u65b9\u5f0f\uff08sysvinit \u5c31\u662f system V \u98ce\u683c\u7684 init \u7cfb\u7edf\uff09\n</code></pre> \u8be6\u7ec6\u4ecb\u7ecd\u4e09\u4e2a\u4f53\u7cfb\uff1aSysvinit\u3001Upstart\u3001Systemd</p> <p>Sysvinit\uff1ahttps://www.ibm.com/developerworks/cn/linux/1407_liuming_init1/index.html</p> <p>Upstart\uff1ahttps://www.ibm.com/developerworks/cn/linux/1407_liuming_init2/index.html</p> <p>Systemd\uff1ahttps://www.ibm.com/developerworks/cn/linux/1407_liuming_init3/index.html</p>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#caddy-hookservice","title":"caddy hook.service \u63d2\u4ef6\u5b89\u88c5","text":"<p>\u4e0b\u8f7d\u9875\u9762\u9009\u62e9hook.service\u63d2\u4ef6\uff0c\u8be5\u63d2\u4ef6\u6ca1\u6709\u7ecf\u8fc7\u5b8c\u6574\u7684\u6d4b\u8bd5\uff0c\u53ef\u80fd\u5b58\u5728\u67d0\u4e9b\u95ee\u9898\u3002 <pre><code>curl https://getcaddy.com | bash -s personal hook.service,http.git\n</code></pre> hook.service\u7684\u4f7f\u7528\u65b9\u6cd5\uff1a</p> <p>-name \u9879\u6307\u5b9a\u670d\u52a1\u7684\u540d\u79f0\uff0c\u9ed8\u8ba4\u662fcaddy\uff0c\u5982\u679c\u6307\u5b9a\u4e86\u540d\u5b57\uff0c\u6bcf\u6b21\u8fd0\u884c<code>caddy -service</code>\u547d\u4ee4\u65f6\uff0c\u9700\u8981\u6307\u5b9a\u670d\u52a1\u7684\u540d\u5b57</p> <p>\u4f7f\u7528<code>caddy -service install</code>\u5b89\u88c5\u4f1a\u6839\u636e\u4e0d\u540c\u7cfb\u7edf\u7c7b\u578b\u81ea\u52a8\u521b\u5efa\u542f\u52a8\u914d\u7f6e</p> <p>Install a Caddy service: <pre><code>caddy -service install -agree -email myemail@email.com -conf /path/to/Caddyfile [-name optionalServiceName] [-option optionValue]\n</code></pre> Uninstall a Caddy service: <pre><code>caddy -service uninstall [-name optionalName]\n</code></pre> Start a Caddy service: <pre><code>caddy -service start [-name optionalName]\n</code></pre> Stop a Caddy service: <pre><code>caddy -service stop [-name optionalName]\n</code></pre> Restart a Caddy service: <pre><code>caddy -service restart [-name optionalName]\n</code></pre></p>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#upstart","title":"upstart \u6a21\u5f0f\u5b89\u88c5","text":"<p>CentOS release 6.10 \u53ea\u652f\u6301Sysvinit</p>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#_7","title":"\u5b89\u88c5\u6b65\u9aa4","text":"<p>Upstart conf for Caddy</p> <p>Running Caddy Server as a service with Upstart</p> <p>CentOS \u5b89\u88c5\u95ee\u9898 <pre><code>[root@localhost ~]# service caddy start\nStarting caddy\n/etc/init.d/caddy: line 52: start-stop-daemon: command not found\n\n\u9700\u8981\u5b89\u88c5start-stop-daemon\nhttps://blog.csdn.net/wh211212/article/details/53523457\n\n\u5b89\u88c5 start-stop-daemon \u53c8\u9700\u8981\nchecking for perl &gt;= 5.20.2... configure: error: cannot find perl &gt;= 5.20.2\n\n\u53c8\u9700\u8981\u5b89\u88c5perl\n\u8010\u5fc3\u5df2\u8017\u5b8c\n\u6b63\u5728\u5b89\u88c5Centos 7 \u2026\u2026 ^_^\n</code></pre></p>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#_8","title":"\u542f\u52a8\u8fd0\u884c","text":"<pre><code>sudo service caddy start|stop|restart\n</code></pre>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#systemd","title":"systemd \u6a21\u5f0f\u5b89\u88c5","text":"","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#_9","title":"\u5b89\u88c5\u6b65\u9aa4","text":"<p>systemd Service Unit for Caddy</p> <p>Running Caddy Server as a service with systemd</p>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#_10","title":"\u542f\u52a8\u8fd0\u884c","text":"<pre><code># \u542f\u7528\u670d\u52a1\u5f00\u673a\u542f\u52a8\nsudo systemctl enable caddy.service\n\n# \u5173\u95ed\u670d\u52a1\u5f00\u673a\u542f\u52a8\nsudo systemctl disable caddy.service\n\n# \u542f\u52a8\u670d\u52a1\nsudo systemctl start caddy.service\n\n# \u91cd\u542f\u670d\u52a1\nsudo systemctl restart caddy.service\n\n# \u5173\u95ed\u670d\u52a1\nsudo systemctl stop caddy.service\n</code></pre>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#sysvinit","title":"sysvinit \u6a21\u5f0f\u5b89\u88c5","text":"<p>\u6682\u672a\u5c1d\u8bd5</p> <p>\u5982\u679c\u542f\u52a8\u540e\u51fa\u73b0\u6216\u5176\u4ed6\u9519\u8bef\uff0c\u5148\u4f7f\u7528 <pre><code>/usr/local/bin/caddy -conf /etc/caddy/Caddyfile \n\u67e5\u770b\u9519\u8bef\u539f\u56e0\n</code></pre> <pre><code>Nov 11 04:10:30 localhost.localdomain systemd[1]: Started Caddy HTTP/2 web server.\nNov 11 04:10:30 localhost.localdomain systemd[1]: caddy.service: main process exited, code=exited, status=2/INVALIDARGUMENT\nNov 11 04:10:30 localhost.localdomain systemd[1]: Unit caddy.service entered failed state.\nNov 11 04:10:30 localhost.localdomain systemd[1]: caddy.service failed.\n</code></pre></p>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#filebrowser","title":"filebrowser\u5b9e\u73b0\u6587\u4ef6\u6d4f\u89c8\u548c\u540e\u53f0\u7ba1\u7406","text":"<p>\u5b98\u65b9\u6587\u6863\uff1ahttps://filebrowser.xyz/</p>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#_11","title":"\u5b89\u88c5","text":"<pre><code>curl -fsSL https://filebrowser.xyz/get.sh | bash\nfilebrowser -r /path/to/your/files\n</code></pre>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#filebrowser_1","title":"filebrowser\u914d\u7f6e","text":"<p>\u53c2\u8003\uff1ahttps://filebrowser.xyz/cli/filebrowser</p> <p>filebrowser\u652f\u6301\u4e0d\u4f7f\u7528\u914d\u7f6e\u76f4\u63a5\u8fd0\u884c</p> <p>\u6307\u5b9a\u914d\u7f6e\u6587\u4ef6</p> <p>\u914d\u7f6e\u6587\u4ef6\u7684\u540d\u5b57\u5fc5\u987b\u662f<code>.filebrowser</code>\uff0c\u6269\u5c55\u540d\u53ef\u4ee5\u662fjson\u3001toml\u3001yaml\u3001yml\u56db\u79cd\u4efb\u610f\u4e00\u4e2a</p> <p>\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84\u5fc5\u987b\u662f\u5f53\u524d\u76ee\u5f55\u3001$HOME\u76ee\u5f55\u6216\u8005/database.db\u4e09\u8005\u4e4b\u4e00</p>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#toml","title":"toml\u914d\u7f6e \u7269\u7406\u673a\u90e8\u7f72\u4f7f\u7528","text":"<pre><code># docker filebrowser config file\n#log = \"/var/log/filebrowser/filebrowser.log\"\ndatabase = \"/etc/filebrowser/filebrowser.db\"\n# \u9ed8\u8ba4\u7ed1\u5b9a\u5730\u5740\u662f127.0.0.1 \u53ea\u80fd\u672c\u673a\u8bbf\u95ee \u5982\u679c\u5916\u90e8\u7f51\u7edc\u8bbf\u95ee \u8bbe\u7f6e\u4e3a0,0,0,0\naddress =\"0.0.0.0\"\nport = 9000\nroot = \"/var/filebrowser/mysite\"\nbaseurl = \"/manager\n</code></pre>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#json-docker","title":"json\u914d\u7f6e docker\u4f7f\u7528","text":"<p>\u5b98\u65b9docker\u955c\u50cf\u7684 Dockerfile\u91ccfilebrowser\u7684\u914d\u7f6e\u6587\u4ef6\u662fjson\u7c7b\u578b\uff0cdocker\u542f\u52a8\u6302\u8f7d\u7684\u914d\u7f6e\u6587\u4ef6\u4e5f\u5fc5\u987b\u662fjson\u7c7b\u578b</p> <p>address\u5fc5\u987b\u662f0.0.0.0 \u9ed8\u8ba4\u662flocalhost</p> <pre><code>{\n  \"port\": 9001,\n  \"baseURL\": \"/manager\",\n  \"address\": \"0.0.0.0\",\n  \"log\": \"stdout\",\n  \"database\": \"/database.db\",\n  \"root\": \"/srv\"\n}\n</code></pre>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#web","title":"web\u914d\u7f6e","text":"","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#_12","title":"\u914d\u7f6e\u4e8b\u4ef6\u547d\u4ee4","text":"<p>\u53c2\u8003\uff1ahttps://filebrowser.xyz/configuration/command-runner</p> <p>filebrowser\u542f\u52a8\u540e\u53ef\u901a\u8fc7web\u9875\u9762\u4fee\u6539\u5bc6\u7801\u3001\u7ba1\u7406\u7528\u6237\u6743\u9650\u548c\u6307\u5b9a\u67d0\u4e2a\u4e8b\u4ef6\u540e\u8fd0\u884c\u547d\u4ee4</p> <p>Command runner\u91cc\u53ef\u4ee5\u6307\u5b9a\u4ee5\u4e0b\u56db\u4e2a\u4e8b\u4ef6\u53d1\u751f\u65f6\u6267\u884c\u7684\u547d\u4ee4\uff08\u4e0d\u5305\u62ecSave\u4e8b\u4ef6\uff0c\u6587\u4ef6\u4fee\u6539\u540e\u4fdd\u5b58\u6267\u884c\u7684\u662fUpdload\u4e8b\u4ef6\uff09</p> <p>Copy Rename Upload Delete ~~Save~~  </p> <p>\u5982\u679c\u8981\u4f7f\u7528\u53d8\u91cf\uff0c\u9700\u8bbe\u7f6e\u4e00\u4e0b\u914d\u7f6e</p> <p>Global Settings -- Execute on shell\uff1a\u914d\u7f6e\u91cc\u6307\u5b9a\u8981\u4f7f\u7528\u7684shell<code>bash -c</code></p> <p>\u547d\u4ee4\u4e2d\u53ef\u4ee5\u4f7f\u7528filebrowser\u5185\u7f6e\u7684\u4ee5\u4e0b\u73af\u5883\u53d8\u91cf <pre><code>FILE        \u6539\u52a8\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\nSCOPE       \u5f53\u524d\u7528\u6237\u7684\u7528\u6237\u76ee\u5f55\u8def\u5f84\nTRIGGER     \u4e8b\u4ef6\u540d\nUSERNAME    \u5f53\u524d\u7528\u6237\u7684\u7528\u6237\u540d\nDESTINATION \u76ee\u6807\u4f4d\u7f6e\u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u53ea\u5728copy\u548crename\u65f6\u6709\u6548\n</code></pre></p> <p>\u4fee\u6539\u6587\u4ef6\u540e\u6267\u884cgit\u63a8\u9001 <pre><code>git pull\ngit add $FILE\ngit commit -m\"add or modify post\"\ngit push\n</code></pre></p> <p>\u9ed8\u8ba4\u547d\u4ee4\u662f\u963b\u585e\u6267\u884c\uff0c\u5982\u679c\u9700\u8981\u975e\u963b\u585e\u8fd0\u884c\uff0c\u5728\u547d\u4ee4\u524d\u9762\u6dfb\u52a0<code>&amp;</code> <pre><code>&amp;git pull\n&amp;git add $FILE\n&amp;git commit -m\"add or modify post\"\n&amp;git push\n</code></pre></p> <p>\u6ce8\u610f\uff1a</p> <p>filebrowser\u547d\u4ee4\u6267\u884c\u65f6\u7684\u5f53\u524d\u76ee\u5f55\u662f\u7a0b\u5e8f\u542f\u52a8\u7684\u76ee\u5f55</p> <p>\u5982\u679c\u5728docker\u91cc\u8fd0\u884c\uff0c\u5de5\u4f5c\u76ee\u5f55\u662f<code>/</code>\uff0c\u9700\u8981\u5728\u5b98\u65b9Dockerfile\u91cc\u6dfb\u52a0<code>WORKDIR /path/to/workdir</code>\u6307\u5b9a\u5de5\u4f5c\u76ee\u5f55</p> <p>\u4e3a\u4e86\u65b9\u4fbf\u67e5\u770b\u4fee\u6539\u6587\u4ef6\uff0c\u6211\u76f4\u63a5\u5728\u6587\u4ef6\u76ee\u5f55\u540e\u53f0\u8fd0\u884c\u7684filebrowser <pre><code>(filebrowser -c /home/ljc/websiteconf/filebrowser.toml &gt; /var/log/filebrowser/filebrowser.log 2&gt;&amp;1 &amp;)\n</code></pre></p>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#_13","title":"\u7cfb\u7edf\u670d\u52a1","text":"<p>systemd \u6a21\u5f0f</p> <pre><code>[Unit]\nDescription=File Browser\nAfter=network.target\n\n[Service]\nExecStart=/usr/local/bin/filebrowser\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>\u5982\u679c\u4e0d\u60f3\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\uff0c\u5728<code>ExecStart=/usr/local/bin/filebrowser</code>\u540e\u9762\u901a\u8fc7\u547d\u4ee4\u9009\u9879\u6307\u5b9a\u914d\u7f6e</p>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#docker","title":"docker\u90e8\u7f72","text":"","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#caddyhugo","title":"caddy+hugo","text":"<p>\u4e0b\u8f7dcaddy+hugo\u955c\u50cf <pre><code>docker pull windzhu0514/caddy-hugo\n</code></pre></p> <p>\u6216\u8005\u4eceDockerfile\u7f16\u8bd1 <pre><code>FROM alpine\nMAINTAINER ljc &lt;windzhu0514@163.com&gt;\n\nRUN apk update &amp;&amp; \\\n    apk add git curl bash &amp;&amp; \\\n    curl https://getcaddy.com | bash -s personal http.git &amp;&amp; \\\n    apk add hugo &amp;&amp; \\\n    # hugo not create the log dir,caddy not create access.log dir\n    mkdir /var/log/hugo &amp;&amp; \\\n    mkdir /var/log/caddy &amp;&amp; \\\n    apk del curl bash wget\n\nADD ./Caddyfile /etc/caddy/Caddyfile\n\nEXPOSE 9000\n\nENTRYPOINT [\"caddy\",\"-conf\",\"/etc/caddy/Caddyfile\"]\n</code></pre> \u542f\u52a8\u670d\u52a1 <pre><code>sudo docker run -d -p 9000:9000 --name alpine-website-d  windzhu0514/caddy-hugo:0.0.3\n</code></pre></p> <p>\u6d4f\u89c8\u5668\u8f93\u5165https://ip:9000\u8bbf\u95ee\u7f51\u7ad9\uff0c\u5982\u679c\u63d0\u793a<code>404 Site [ip:port] is not served on this interface</code> \u5bb9\u5668\u91cccaddy\u76d1\u542c\u5916\u7f51\u65e0\u6cd5\u8bbf\u95ee \u4fee\u6539Caddyfile\u7ad9\u70b9\u5730\u5740\u4e3a<code>:9000</code></p>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#filebrowser_2","title":"filebrowser","text":"<p>\u5bb9\u5668\u4e2d\u7684\u76ee\u5f55\u53ef\u4ee5\u4e0d\u5fc5\u548c\u4f8b\u5b50\u76f8\u540c\uff0c\u4f46\u662f\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84\u5fc5\u987b\u662f\u5f53\u524d\u76ee\u5f55\u3001$HOME\u76ee\u5f55\u6216\u8005/database.db\u4e09\u8005\u4e4b\u4e00\uff08\u53c2\u8003.filebrowser \uff09</p> <p>\u542f\u52a8filebrowser <pre><code>sudo docker run -d --restart=always --name filebrowser \\\n-v /var/filebrowser/mysite:/srv \\\n-v /etc/filebrowser/filebrowser.db:/database.db \\\n-v /etc/filebrowser/.filebrowser.json:/.filebrowser.json \\\n-p 9001:9001  filebrowser/filebrowser\n</code></pre></p>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#_14","title":"\u4ee3\u7406\u7f51\u7ad9","text":"","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#_15","title":"\u4e3a\u4ec0\u4e48\u8981\u4ee3\u7406","text":"<p>\u57df\u540d\u6307\u5411\u4e2d\u56fd\u5927\u9646\u5883\u5185\u670d\u52a1\u5668\u4e14\u5f00\u901aWeb\u670d\u52a1\u65f6\u9700\u8981\u5907\u6848\u3002\u57df\u540d\u6307\u5411\u4e2d\u56fd\u5927\u9646\u5883\u5916\u670d\u52a1\u5668\uff08\u4f8b\u5982\u4e2d\u56fd\u9999\u6e2f\u7b49\u5927\u9646\u5883\u5916\uff09\u4e0d\u9700\u8981\u5907\u6848\u3002\u9996\u6b21\u5907\u6848\u65f6\u95f4\u9700\u8981\u4e00\u5468\u5230\u4e00\u4e2a\u6708\u624d\u80fd\u5b8c\u6210\uff0c\u5982\u679c\u66f4\u6362\u4e86\u670d\u52a1\u5668\uff0c\u9700\u8981\u4fee\u6539\u5907\u6848\u4fe1\u606f\u3002\u5982\u679c\u624b\u91cc\u6709\u5883\u5916\u670d\u52a1\u5668\uff0c\u57df\u540d\u7ed1\u5b9a\u5230\u5883\u5916\u670d\u52a1\u5668\u670d\u52a1\u5668\uff0c\u5982\u679c\u5883\u5916\u670d\u52a1\u5668\u6027\u80fd\u8f83\u4f4e\uff0c\u53ef\u4ee5\u628a\u7f51\u7ad9\u90e8\u7f72\u5728\u5883\u5185\u670d\u52a1\u5668\uff0c\u7531\u5883\u5916\u670d\u52a1\u5668\u8df3\u8f6c\u5230\u5883\u5185\u670d\u52a1\u5668\u3002</p>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#_16","title":"\u4ee3\u7406\u914d\u7f6e","text":"<p>\u5883\u5916\u670d\u52a1\u5668\u7684\u4ee3\u7406\u4f9d\u7136\u4f7f\u7528\u5f3a\u5927\u7684caddy\uff0c\u914d\u7f6e\u5982\u4e0b <pre><code>ljc.space {\n    log /var/log/caddy/access.log {\n        rotate_size 50  # 50M\u4ee5\u540e\u8f6e\u8f6c\n    }\n    errors /var/log/caddy/errors.log {\n        rotate_size 50  # 50M\u4ee5\u540e\u8f6e\u8f6c\n    }\n    proxy / https://windzhu0514.github.io\n    proxy /elf \u56fd\u5185ip:9200 {\n        without /elf\n    }\n\n    proxy /elf/ws \u56fd\u5185ip:9200 {\n        without /elf\n        websocket\n    }\n}\n\nwww.ljc.space {\n    redir https://ljc.space{uri}\n}\n</code></pre></p>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/website-caddy-hugo-filebrowser/#_17","title":"\u4ee3\u7406\u670d\u52a1\u5f00\u673a\u542f\u52a8","text":"<p>\u4ee3\u7406\u670d\u52a1\u542f\u52a8\u811a\u672c\u4fee\u6539\u81ea\u5b98\u65b9systemd\u542f\u52a8\u811a\u672c\uff1ahttps://github.com/caddyserver/caddy/tree/master/dist/init/linux-systemd</p> <p>\u4fee\u6539\u7684\u5185\u5bb9\uff1a <pre><code>\u4fee\u6539\nStartLimitIntervalSec=14400\nStartLimitBurst=10\n\u4e3a\nStartLimitInterval=14400\nStartLimitBurst=10\n\u5e76\u7531[Unit]\u4e0b\u79fb\u5230[Service]\u4e0b\n\n\u4fee\u6539\n; User and group the process will run as.\nUser=www-data\nGroup=www-data\n\u4e3a\n; User and group the process will run as.\nUser=root\nGroup=root\n\n\u4fee\u6539\nReadWritePaths=/etc/ssl/caddy\nReadWriteDirectories=/etc/ssl/caddy\n\u4e3a\n;ReadWritePaths=/etc/ssl/caddy\nReadWriteDirectories=/etc/ssl/caddy\n</code></pre></p> <p>\u4ee3\u7406\u670d\u52a1\u5f00\u673a\u542f\u52a8\u811a\u672c</p> <pre><code>[Unit]\nDescription=Caddy HTTP/2 web server\nDocumentation=https://caddyserver.com/docs\nAfter=network-online.target\nWants=network-online.target systemd-networkd-wait-online.service\n\n[Service]\nRestart=on-abnormal\n\n; Do not allow the process to be restarted in a tight loop. If the\n; process fails to start, something critical needs to be fixed.\nStartLimitInterval=14400\nStartLimitBurst=10\n\n; User and group the process will run as.\nUser=root\nGroup=root\n\n; Letsencrypt-issued certificates will be written to this directory.\nEnvironment=CADDYPATH=/etc/ssl/caddy\n\n; Always set \"-root\" to something safe in case it gets forgotten in the Caddyfile.\nExecStart=/usr/local/bin/caddy -log stdout -log-timestamps=false -agree=true -conf=/etc/caddy/Caddyfile -root=/var/tmp\nExecReload=/bin/kill -USR1 $MAINPID\n\n; Use graceful shutdown with a reasonable timeout\nKillMode=mixed\nKillSignal=SIGQUIT\nTimeoutStopSec=5s\n\n; Limit the number of file descriptors; see `man systemd.exec` for more limit settings.\nLimitNOFILE=1048576\n; Unmodified caddy is not expected to use more than that.\nLimitNPROC=512\n\n; Use private /tmp and /var/tmp, which are discarded after caddy stops.\nPrivateTmp=true\n; Use a minimal /dev (May bring additional security if switched to 'true', but it may not work on Raspberry Pi's or other devices, so it has been disabled in this dist.)\nPrivateDevices=false\n; Hide /home, /root, and /run/user. Nobody will steal your SSH-keys.\nProtectHome=true\n; Make /usr, /boot, /etc and possibly some more folders read-only.\nProtectSystem=full\n; \u9225?except /etc/ssl/caddy, because we want Letsencrypt-certificates there.\n;   This merely retains r/w access rights, it does not add any new. Must still be writable on the host!\n;ReadWritePaths=/etc/ssl/caddy\nReadWriteDirectories=/etc/ssl/caddy\n\n; The following additional security directives only work with systemd v229 or later.\n; They further restrict privileges that can be gained by caddy. Uncomment if you like.\n; Note that you may have to add capabilities required by any plugins in use.\n;CapabilityBoundingSet=CAP_NET_BIND_SERVICE\n;AmbientCapabilities=CAP_NET_BIND_SERVICE\n;NoNewPrivileges=true\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>","tags":["go","caddy","hugo","filebrowser","\u7f51\u7ad9","docker"]},{"location":"blog/archive/2025/","title":"2025","text":""},{"location":"blog/archive/2024/","title":"2024","text":""},{"location":"blog/archive/2021/","title":"2021","text":""},{"location":"blog/archive/2020/","title":"2020","text":""},{"location":"blog/archive/2019/","title":"2019","text":""},{"location":"blog/archive/2018/","title":"2018","text":""},{"location":"blog/category/golang/","title":"golang","text":""},{"location":"blog/category/%E6%9E%B6%E6%9E%84/","title":"\u67b6\u6784","text":""},{"location":"blog/category/devops/","title":"devops","text":""},{"location":"blog/category/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/","title":"\u5f00\u53d1\u73af\u5883","text":""},{"location":"blog/category/caddy/","title":"caddy","text":""},{"location":"blog/category/hugo/","title":"hugo","text":""},{"location":"blog/category/filebrowser/","title":"filebrowser","text":""},{"location":"blog/category/%E5%A5%BD%E6%96%87/","title":"\u597d\u6587","text":""},{"location":"blog/category/git/","title":"git","text":""},{"location":"blog/category/markdown/","title":"markdown","text":""},{"location":"blog/page/2/","title":"\u535a\u5ba2","text":""}]}